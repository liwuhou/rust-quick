<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust å¿«å­¦</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="01-intro/intro.html"><strong aria-hidden="true">1.</strong> å‰è¨€</a></li><li class="chapter-item expanded "><a href="cargo/index.html"><strong aria-hidden="true">2.</strong> Cargo æ•™ç¨‹</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cargo/install.html"><strong aria-hidden="true">2.1.</strong> å®‰è£…</a></li></ol></li><li class="chapter-item expanded "><a href="docs/index.html"><strong aria-hidden="true">3.</strong> Rustè¯­è¨€æ•™ç¨‹</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="docs/create-project.html"><strong aria-hidden="true">3.1.</strong> åˆ›å»ºä¸€ä¸ªRusté¡¹ç›®</a></li><li class="chapter-item expanded "><a href="docs/printing.html"><strong aria-hidden="true">3.2.</strong> æ‰“å°è¾“å‡º</a></li><li class="chapter-item expanded "><a href="docs/Advanced_numeric_formatted_print.html"><strong aria-hidden="true">3.3.</strong> é«˜çº§æ•°å­—æ ¼å¼åŒ–æ‰“å°</a></li><li class="chapter-item expanded "><a href="docs/Variables.html"><strong aria-hidden="true">3.4.</strong> å˜é‡</a></li><li class="chapter-item expanded "><a href="docs/Basic_Types.html"><strong aria-hidden="true">3.5.</strong> åŸºæœ¬æ•°æ®ç±»å‹</a></li><li class="chapter-item expanded "><a href="docs/Floating_point_numbers.html"><strong aria-hidden="true">3.6.</strong> æµ®ç‚¹æ•°</a></li><li class="chapter-item expanded "><a href="docs/Bitwise_operations.html"><strong aria-hidden="true">3.7.</strong> ä½æ“ä½œè¿ç®—</a></li><li class="chapter-item expanded "><a href="docs/Booleans_and_binary_algebra.html"><strong aria-hidden="true">3.8.</strong> å¸ƒå°”è¿ç®—å’ŒäºŒè¿›åˆ¶ä»£æ•°</a></li><li class="chapter-item expanded "><a href="docs/Arithmetic_operations.html"><strong aria-hidden="true">3.9.</strong> ç®—æœ¯è¿ç®—</a></li><li class="chapter-item expanded "><a href="docs/Comparison_operators.html"><strong aria-hidden="true">3.10.</strong> æ¯”è¾ƒè¿ç®—</a></li><li class="chapter-item expanded "><a href="docs/Chars.html"><strong aria-hidden="true">3.11.</strong> å­—ç¬¦</a></li><li class="chapter-item expanded "><a href="docs/Computing_average.html"><strong aria-hidden="true">3.12.</strong> è®¡ç®—å¹³å‡å€¼</a></li><li class="chapter-item expanded "><a href="docs/Arrays.html"><strong aria-hidden="true">3.13.</strong> æ•°ç»„</a></li><li class="chapter-item expanded "><a href="docs/Slices.html"><strong aria-hidden="true">3.14.</strong> åˆ‡ç‰‡</a></li><li class="chapter-item expanded "><a href="docs/Slices_as_parameters.html"><strong aria-hidden="true">3.15.</strong> åˆ‡ç‰‡ä¸ºå‚æ•°</a></li><li class="chapter-item expanded "><a href="docs/Deref_coercion.html"><strong aria-hidden="true">3.16.</strong> Derefè§£æ„</a></li><li class="chapter-item expanded "><a href="docs/Multidimensional_arrays.html"><strong aria-hidden="true">3.17.</strong> å¤šç»´æ•°ç»„</a></li><li class="chapter-item expanded "><a href="docs/Vectors.html"><strong aria-hidden="true">3.18.</strong> çŸ¢é‡</a></li><li class="chapter-item expanded "><a href="docs/Tuples.html"><strong aria-hidden="true">3.19.</strong> å…ƒç»„</a></li><li class="chapter-item expanded "><a href="docs/Functions.html"><strong aria-hidden="true">3.20.</strong> å‡½æ•°æ–¹æ³•</a></li><li class="chapter-item expanded "><a href="docs/Statements_and_expressions.html"><strong aria-hidden="true">3.21.</strong> è¯­å¥å’Œè¡¨è¾¾å¼</a></li><li class="chapter-item expanded "><a href="docs/Function_return_type.html"><strong aria-hidden="true">3.22.</strong> å‡½æ•°è¿”å›ç±»å‹</a></li><li class="chapter-item expanded "><a href="docs/Closures.html"><strong aria-hidden="true">3.23.</strong> é—­åŒ…</a></li><li class="chapter-item expanded "><a href="docs/Celsius_to_Fahrenheit_converter.html"><strong aria-hidden="true">3.24.</strong> æ‘„æ°åº¦è½¬æ¢ä¸ºåæ°åº¦</a></li><li class="chapter-item expanded "><a href="docs/Conditional_execution.html"><strong aria-hidden="true">3.25.</strong> æ¡ä»¶æ‰§è¡Œ</a></li><li class="chapter-item expanded "><a href="docs/Multiple_conditionals_if_else_if.html"><strong aria-hidden="true">3.26.</strong> å¤šæ¡ä»¶åˆ¤æ–­if-else-if</a></li><li class="chapter-item expanded "><a href="docs/Loop_assignment.html"><strong aria-hidden="true">3.27.</strong> å¾ªç¯èµ‹å€¼</a></li><li class="chapter-item expanded "><a href="docs/While_loops.html"><strong aria-hidden="true">3.28.</strong> Whileå¾ªç¯</a></li><li class="chapter-item expanded "><a href="docs/For_loops.html"><strong aria-hidden="true">3.29.</strong> Forå¾ªç¯</a></li><li class="chapter-item expanded "><a href="docs/Nested_loops.html"><strong aria-hidden="true">3.30.</strong> åµŒå¥—å¾ªç¯</a></li><li class="chapter-item expanded "><a href="docs/Guessing_game.html"><strong aria-hidden="true">3.31.</strong> çŒœæ•°æ¸¸æˆ</a></li><li class="chapter-item expanded "><a href="docs/Basic_statistics.html"><strong aria-hidden="true">3.32.</strong> åŸºæœ¬ç»Ÿè®¡</a></li><li class="chapter-item expanded "><a href="docs/Scope.html"><strong aria-hidden="true">3.33.</strong> èŒƒå›´</a></li><li class="chapter-item expanded "><a href="docs/Variable_mutability.html"><strong aria-hidden="true">3.34.</strong> å˜é‡å¯å˜æ€§</a></li><li class="chapter-item expanded "><a href="docs/Stack_and_heap_memory.html"><strong aria-hidden="true">3.35.</strong> å †å†…å­˜å’Œæ ˆå†…å­˜</a></li><li class="chapter-item expanded "><a href="docs/Strings.html"><strong aria-hidden="true">3.36.</strong> å­—ç¬¦ä¸²</a></li><li class="chapter-item expanded "><a href="docs/Ownership.html"><strong aria-hidden="true">3.37.</strong> æ‰€æœ‰æƒ</a></li><li class="chapter-item expanded "><a href="docs/Transferring_ownership_data_stored_on_STACK.html"><strong aria-hidden="true">3.38.</strong> è½¬è®©æ‰€æœ‰æƒï¼ˆå­˜å‚¨åœ¨STACKä¸Šçš„æ•°æ®ï¼‰</a></li><li class="chapter-item expanded "><a href="docs/Transferring_ownership_data_stored_on_HEAP.html"><strong aria-hidden="true">3.39.</strong> è½¬è®©æ‰€æœ‰æƒï¼ˆå­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®)</a></li><li class="chapter-item expanded "><a href="docs/Borrowing.html"><strong aria-hidden="true">3.40.</strong> å€Ÿç”¨</a></li><li class="chapter-item expanded "><a href="docs/Mutating_borrowed_data.html"><strong aria-hidden="true">3.41.</strong> æ”¹å˜å€Ÿç”¨æ•°æ®</a></li><li class="chapter-item expanded "><a href="docs/Restriction_on_borrowed_data.html"><strong aria-hidden="true">3.42.</strong> å€Ÿç”¨çš„æ•°æ®é™åˆ¶</a></li><li class="chapter-item expanded "><a href="docs/Dangling_references.html"><strong aria-hidden="true">3.43.</strong> æœªçŸ¥å¼•ç”¨</a></li><li class="chapter-item expanded "><a href="docs/Structs.html"><strong aria-hidden="true">3.44.</strong> æ•°æ®ç»“æ„</a></li><li class="chapter-item expanded "><a href="docs/Enums.html"><strong aria-hidden="true">3.45.</strong> æšä¸¾</a></li><li class="chapter-item expanded "><a href="docs/Trimming_strings.html"><strong aria-hidden="true">3.46.</strong> è£å‰ªå­—ç¬¦ä¸²</a></li><li class="chapter-item expanded "><a href="docs/Standard_library.html"><strong aria-hidden="true">3.47.</strong> æ ‡å‡†åº“</a></li><li class="chapter-item expanded "><a href="docs/Parsing_standard_input.html"><strong aria-hidden="true">3.48.</strong> è§£ææ ‡å‡†è¾“å…¥</a></li><li class="chapter-item expanded "><a href="docs/Crates.html"><strong aria-hidden="true">3.49.</strong> Crates</a></li><li class="chapter-item expanded "><a href="docs/Guessing_game_revisited.html"><strong aria-hidden="true">3.50.</strong> çŒœæ•°æ¸¸æˆé‡æ„ç‰ˆ</a></li><li class="chapter-item expanded "><a href="docs/Command_line_arguments.html"><strong aria-hidden="true">3.51.</strong> å‘½ä»¤è¡Œå‚æ•°</a></li><li class="chapter-item expanded "><a href="docs/Reading_content_from_file.html"><strong aria-hidden="true">3.52.</strong> è‡ªæ–‡ä»¶ä¸­è¯»å–å†…å®¹</a></li><li class="chapter-item expanded "><a href="docs/Writing_content_to_file.html"><strong aria-hidden="true">3.53.</strong> å‘æ–‡ä»¶ä¸­å†™å…¥å†…å®¹</a></li><li class="chapter-item expanded "><a href="docs/Fruit_finder.html"><strong aria-hidden="true">3.54.</strong> æ°´æœæŸ¥æ‰¾å™¨</a></li><li class="chapter-item expanded "><a href="docs/Shape_factories.html"><strong aria-hidden="true">3.55.</strong> å½¢çŠ¶å·¥å‚</a></li><li class="chapter-item expanded "><a href="docs/Generic_struct_definitions.html"><strong aria-hidden="true">3.56.</strong> æ³›å‹æ•°æ®ç»“æ„ä½“å®šä¹‰</a></li><li class="chapter-item expanded "><a href="docs/Generic_method_definitions.html"><strong aria-hidden="true">3.57.</strong> æ³›å‹æ–¹æ³•å®šä¹‰</a></li><li class="chapter-item expanded "><a href="docs/Generic_function_definitions.html"><strong aria-hidden="true">3.58.</strong> æ³›å‹å‡½æ•°å®šä¹‰</a></li><li class="chapter-item expanded "><a href="docs/Box_data_type.html"><strong aria-hidden="true">3.59.</strong> å°ç®±æ•°æ®ç±»å‹</a></li><li class="chapter-item expanded "><a href="docs/Summing_boxes.html"><strong aria-hidden="true">3.60.</strong> å°ç®±æ±‚å’Œ</a></li><li class="chapter-item expanded "><a href="docs/Traits.html"><strong aria-hidden="true">3.61.</strong> ç‰¹æ€§</a></li><li class="chapter-item expanded "><a href="docs/Default_trait_implementation.html"><strong aria-hidden="true">3.62.</strong> é»˜è®¤ç‰¹æ€§å®ç°</a></li><li class="chapter-item expanded "><a href="docs/Derivable_traits.html"><strong aria-hidden="true">3.63.</strong> å¯è¡ç”Ÿçš„ç‰¹æ€§</a></li><li class="chapter-item expanded "><a href="docs/Trait_bounds.html"><strong aria-hidden="true">3.64.</strong> ç‰¹æ€§ç•Œé™</a></li><li class="chapter-item expanded "><a href="docs/Multiple_trait_bounds_and_where_clause.html"><strong aria-hidden="true">3.65.</strong> å¤šé‡ç‰¹è´¨ç•Œé™å’Œwhereå­å¥</a></li><li class="chapter-item expanded "><a href="docs/Return_types_and_implemented_traits.html"><strong aria-hidden="true">3.66.</strong> è¿”å›ç±»å‹å’Œç‰¹æ€§å®ç°</a></li><li class="chapter-item expanded "><a href="docs/Return_types_and_dynamic_dispatching_with_traits.html"><strong aria-hidden="true">3.67.</strong> è¿”å›ç±»å‹å’Œç‰¹è´¨çš„åŠ¨æ€åˆ†æ´¾</a></li><li class="chapter-item expanded "><a href="docs/Comparing_jet_planes.html"><strong aria-hidden="true">3.68.</strong> å¯¹æ¯”é£æœº</a></li><li class="chapter-item expanded "><a href="docs/Borrow_checker.html"><strong aria-hidden="true">3.69.</strong> å€Ÿç”¨æ£€æŸ¥</a></li><li class="chapter-item expanded "><a href="docs/Lifetime_annotation.html"><strong aria-hidden="true">3.70.</strong> ç”Ÿå‘½å‘¨æœŸæ³¨è§£</a></li><li class="chapter-item expanded "><a href="docs/Multiple_lifetime_annotations.html"><strong aria-hidden="true">3.71.</strong> å¤šç”Ÿå‘½å‘¨æœŸæ³¨è§£</a></li><li class="chapter-item expanded "><a href="docs/Lifetime_elision_rules.html"><strong aria-hidden="true">3.72.</strong> ç”Ÿå‘½å‘¨æœŸå‰¥ç¦»è§„åˆ™</a></li><li class="chapter-item expanded "><a href="docs/Struct_lifetime_annotations.html"><strong aria-hidden="true">3.73.</strong> ç»“æ„ä½“ç”Ÿå‘½å‘¨æœŸæ³¨è§£</a></li><li class="chapter-item expanded "><a href="docs/Static_lifetimes.html"><strong aria-hidden="true">3.74.</strong> é™æ€ç”Ÿå‘½å‘¨æœŸ</a></li><li class="chapter-item expanded "><a href="docs/More_on_enums.html"><strong aria-hidden="true">3.75.</strong> æ›´å¤šæšä¸¾å€¼</a></li><li class="chapter-item expanded "><a href="docs/Match_with_wildcard_pattern.html"><strong aria-hidden="true">3.76.</strong> æ‰©å±•åŒ¹é…æ¨¡å¼</a></li><li class="chapter-item expanded "><a href="docs/Enum_methods.html"><strong aria-hidden="true">3.77.</strong> æšä¸¾æ–¹æ³•</a></li><li class="chapter-item expanded "><a href="docs/Option_enum.html"><strong aria-hidden="true">3.78.</strong> å¯é€‰æšä¸¾</a></li><li class="chapter-item expanded "><a href="docs/Matching_Option.html"><strong aria-hidden="true">3.79.</strong> åŒ¹é…é€‰é¡¹</a></li><li class="chapter-item expanded "><a href="docs/If_let_matching.html"><strong aria-hidden="true">3.80.</strong> If let åŒ¹é…</a></li><li class="chapter-item expanded "><a href="docs/Location_enum.html"><strong aria-hidden="true">3.81.</strong> å®šä½æšä¸¾</a></li><li class="chapter-item expanded "><a href="docs/Unrecoverable_errors.html"><strong aria-hidden="true">3.82.</strong> ä¸èƒ½æ¢å¤çš„é”™è¯¯</a></li><li class="chapter-item expanded "><a href="docs/Recoverable_errors.html"><strong aria-hidden="true">3.83.</strong> å¯æ¢å¤çš„é”™è¯¯</a></li><li class="chapter-item expanded "><a href="docs/Matching_Result_enum_for_error_handling.html"><strong aria-hidden="true">3.84.</strong> åŒ¹é…Result&lt;T,E&gt;æšä¸¾é”™è¯¯å¤„ç†</a></li><li class="chapter-item expanded "><a href="docs/Propagating_errors.html"><strong aria-hidden="true">3.85.</strong> ä¼ æ’­çš„é”™è¯¯</a></li><li class="chapter-item expanded "><a href="docs/Guessing_game_revisited_with_error_handling.html"><strong aria-hidden="true">3.86.</strong> çŒœæ•°æ¸¸æˆé”™è¯¯å¤„ç†é‡æ„</a></li><li class="chapter-item expanded "><a href="docs/Vectors_with_error_handling.html"><strong aria-hidden="true">3.87.</strong> çŸ¢é‡é”™è¯¯å¤„ç†</a></li><li class="chapter-item expanded "><a href="docs/HashMap_K_V_data_type.html"><strong aria-hidden="true">3.88.</strong> å“ˆå¸Œè¡¨æ•°æ®ç»“æ„</a></li><li class="chapter-item expanded "><a href="docs/Word_counter.html"><strong aria-hidden="true">3.89.</strong> å­—æ•°ç»Ÿè®¡</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust å¿«å­¦</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="å‰è¨€"><a class="header" href="#å‰è¨€">å‰è¨€</a></h1>
<p>æœ¬æ•™ç¨‹ï¼Œæ˜¯ä¸ºäº†å¿«é€Ÿè®©ä½ ä¸Šæ‰‹Rust ç¼–ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸»è¦æ˜¯å¿«é€Ÿè¿‡ä¸€ä¸‹Rust è¯­è¨€çš„å„ç§ç‰¹æ€§</p>
<p>å®˜æ–¹æ–‡æ¡£: <a href="https://doc.rust-lang.org/book/">https://doc.rust-lang.org/book/</a></p>
<p>ç›®å½•ä¼˜åŒ–ç‰ˆæ–‡æ¡£ï¼š<a href="https://cnmade.github.io/book/">https://cnmade.github.io/book/</a></p>
<p>ä¸­æ–‡æ–‡æ¡£: <a href="https://infobsmi.github.io/cn-rust-book/">https://infobsmi.github.io/cn-rust-book/</a></p>
<p>ä»£ç é‡‡ç”¨AGPL-3.0 å‘å¸ƒã€‚</p>
<p>æ¬¢è¿Fork, æ¬¢è¿è´¡çŒ®ã€‚æ¬¢è¿å‹˜è¯¯ï¼Œæ¬¢è¿æŠ¥å‘Šé—®é¢˜ã€‚</p>
<p>å¦‚æœä½ è¦ä¿®æ”¹ï¼Œæ¬¢è¿æäº¤PRã€‚æœ¬æ–‡æ¡£ä»£ç ä¸€ç›´å¼€æºã€‚ä¸ä¼šç”¨äºå•†ä¸šä»·å€¼ã€‚</p>
<p>æ„Ÿè°¢åŸä½œè€…æä¾›çš„æ•™ç¨‹ã€‚</p>
<pre><code> Rust Quick
    Copyright (C) &lt;2000-2022&gt;  cnmade

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
</code></pre>
<p>å–œæ¬¢çš„å¯ä»¥ä¹°ä¸€æ¯å’–å•¡ç»™ä½œè€…</p>
<p>Buy me a cup of coffee for $3</p>
<p><a href="https://ko-fi.com/M4M54KKIF"><img src="https://ko-fi.com/img/githubbutton_sm.svg" alt="ko-fi" /></a></p>
<p>æœ¬ä¹¦ä»‹ç»å¦‚ä½•å¿«å­¦rustï¼Œé‡‡ç”¨mdbookå¼€å‘æ„å»º</p>
<p>è®¿é—®ä»¥ä¸‹URLï¼Œåœ¨çº¿æŸ¥çœ‹æ–‡æ¡£</p>
<p><a href="https://rq.netroby.com/01-intro/intro.html">https://rq.netroby.com/01-intro/intro.html</a></p>
<p>ä¸ç®¡ä½ æ˜¯å¦æœ‰Rustç¼–ç¨‹åŸºç¡€ï¼Œè¿™ä»½æŒ‡å—ï¼Œéƒ½èƒ½å¸®åŠ©ä½ å¿«é€Ÿå­¦ä¹ Rustã€‚</p>
<p>å¦‚æœæœ‰é—®é¢˜ï¼Œå¯ä»¥åˆ°github ä»“åº“æäº¤é—®é¢˜æŠ¥å‘Šã€‚</p>
<p><a href="https://github.com/cnmade/rust-quick">https://github.com/cnmade/rust-quick</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cargo-æ•™ç¨‹"><a class="header" href="#cargo-æ•™ç¨‹">Cargo æ•™ç¨‹</a></h1>
<p>Cargo æ˜¯rusté»˜è®¤çš„åŒ…ç®¡ç†å·¥å…·ï¼Œä¹Ÿæ‰¿æ‹…ç€ç¼–è¯‘æ‰“åŒ…çš„å·¥ä½œã€‚</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å®‰è£…"><a class="header" href="#å®‰è£…">å®‰è£…</a></h1>
<p>å¦‚æœä½ ä¸‹è½½äº†rustå®‰è£…åŒ…ã€‚åº”è¯¥å·²ç»è‡ªå¸¦äº†cargo, ä¸éœ€è¦ç‰¹åˆ«å®‰è£….</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rustè¯­è¨€æ•™ç¨‹"><a class="header" href="#rustè¯­è¨€æ•™ç¨‹">Rustè¯­è¨€æ•™ç¨‹</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åˆ›å»ºä¸€ä¸ªrusté¡¹ç›®"><a class="header" href="#åˆ›å»ºä¸€ä¸ªrusté¡¹ç›®">åˆ›å»ºä¸€ä¸ªRusté¡¹ç›®</a></h1>
<p>ä½ å¯ä»¥ç”¨<a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018">Rust playground</a>åœ¨çº¿è¿è¡Œæœ¬æ–‡ä¸­çš„æ‰€æœ‰ä»£ç ï¼ˆå½“ç„¶ï¼Œé™¤äº†æ–‡ä»¶è®¿é—®ç­‰æœ¬åœ°çš„ä¸œè¥¿ï¼‰ã€‚</p>
<p>å®‰è£…å®ŒRuståï¼Œç”¨Cargoï¼ˆRustè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼‰åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>cargo new &lt;PROJECT_NAME&gt;ã€‚
<span class="boring">}
</span></code></pre></pre>
<p>è¿™å°†åœ¨ä½ çš„å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚</p>
<p>æˆ–è€…ï¼Œè®©ä½ çš„å½“å‰ç›®å½•æˆä¸ºé¡¹ç›®æ–‡ä»¶å¤¹ã€‚</p>
<pre><code>cargo init
</code></pre>
<p>æºæ–‡ä»¶ä½äºsrc/æ–‡ä»¶å¤¹ä¸­ã€‚å½“ç„¶ï¼Œè¿›å…¥ç‚¹æ˜¯main.rsæ–‡ä»¶åŠå…¶ä¸»å‡½æ•°ï¼ˆfnå…³é”®å­—ï¼‰ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println! (&quot;Hello, world!&quot;);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ‰“å°è¾“å‡º"><a class="header" href="#æ‰“å°è¾“å‡º">æ‰“å°è¾“å‡º</a></h1>
<p>åœ¨Rustä¸­ï¼Œä½ ä½¿ç”¨æ‰€è°“çš„<a href="https://en.wikipedia.org/wiki/Macro_(computer_science)">å®</a>æ¥æ‰“å°åˆ°æ§åˆ¶å°ã€‚Rustä¸­çš„å®æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œåé¢æ˜¯ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆï¼ï¼‰ã€‚printlnï¼å®æ˜¯éå¸¸çµæ´»çš„ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() { 
   // å­—ç¬¦ä¸²å†…æ’
   println!(&quot;Adding {} and {} gives {}&quot;, 22, 33, 22 + 33);
   // ä½ç½®å‚æ•° 
   println!(
        &quot;Ypur name is {0}. Welcome to {1}. Nice to meet you {0}&quot;,
        &quot;Goto&quot;, &quot;Rust&quot;
   );
    // å˜é‡å‘½å
     println!(
        &quot;{language} is very popular. It was created in {year}&quot;,
        language = &quot;Rust&quot;,
        year = 2010
   );
   // å ä½ç¬¦ç‰¹å¾ï¼ˆä½¿ç”¨ä½ç½®å‚æ•°ä»¥é¿å…é‡å¤ï¼‰ã€‚
   println!(&quot;{0}, in binary: {0:b}, in hexadecimal: {0:x}&quot;, 11);
    // è°ƒè¯•ç‰¹æ€§ï¼ˆå¯¹æ‰“å°ä»»ä½•ä¸œè¥¿éƒ½éå¸¸æœ‰ç”¨ï¼‰ã€‚
     // å¦‚æœä½ è¯•å›¾ç›´æ¥æ‰“å°æ•°ç»„ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚
  // å› ä¸ºæ•°ç»„ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•°å­—ç±»å‹ã€‚
   println!(&quot;{:?}&quot;, [11, 22, 33]);
  }
</code></pre></pre>
<p>è¿è¡Œå‘½ä»¤æŸ¥çœ‹è¾“å‡ºç»“æœï¼š</p>
<pre><code>cargo run
</code></pre>
<p>ä½ ä¼šçœ‹åˆ°ï¼ˆè¿åŒä»£ç çš„ç¼–è¯‘ä¿¡æ¯---Rustæ˜¯ä¸€ç§ç¼–è¯‘çš„è¯­è¨€ï¼‰ã€‚</p>
<pre><code>Adding 22 and 33 gives 55
Ypur name is Goto. Welcome to Rust. Nice to meet you Goto
Rust is very popular. It was created in 2010
Decimal: 11      Binary: 1011    Hexadecimal: b
[11, 22, 33]
</code></pre>
<p>åœ¨Rustä¸­ï¼Œä½ å¿…é¡»åœ¨è¡Œå°¾ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰ï¼Œé™¤éå®ƒæ˜¯ä¸€ä¸ªè¿”å›ä¸œè¥¿çš„å‡½æ•°çš„æœ€åä¸€è¡Œï¼ˆåé¢ä¼šè¯¦ç»†ä»‹ç»ï¼‰ã€‚</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="é«˜çº§æ•°å­—æ ¼å¼åŒ–æ‰“å°"><a class="header" href="#é«˜çº§æ•°å­—æ ¼å¼åŒ–æ‰“å°">é«˜çº§æ•°å­—æ ¼å¼åŒ–æ‰“å°</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 246.92385;
    let y = 24.69;
    let z = x / y;

    // print line macro with 3 decimal point precision
    // æ‰“å°æµ®ç‚¹æ•°ï¼Œå¸¦æœ‰å°æ•°ç‚¹å3ä½ç²¾åº¦
    println!(&quot;z is {:.3}&quot;, z);

    // å…±9ä½æ•°ï¼Œå‰ç½®ç”¨ç©ºæ ¼è¡¥ä½
    println!(&quot;z is {:9.3}&quot;, z);

    //ç”¨0è¡¥ä½
    println!(&quot;z is {:09.3}&quot;, z);
    println!(&quot;z is {:09.3}\nx is {}&quot;, z, x);
 
    // æ¢è¡Œ
    print!(&quot;y is {:09.3}\n x is {}\n&quot;, y, x); 
    // ä½ç½®å ä½ 
    println!(&quot;z is {0:05.1} and x is {1:.2}. \nx is also {1}&quot;, z, x)
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>z is 10.001
z is    10.001
z is 00010.001
z is 00010.001
x is 246.92385
y is 00024.690
 x is 246.92385
z is 010.0 and x is 246.92.
x is also 246.92385
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å˜é‡"><a class="header" href="#å˜é‡">å˜é‡</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // å˜é‡åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸å¯å˜çš„
    //å­˜å‚¨åœ¨å †ä¸Šï¼ˆåé¢ä¼šæœ‰æ›´å¤šçš„ä»‹ç»ï¼‰ã€‚
    let pc = &quot;Inspirion XYZ&quot;;
    println!(&quot;pc is {}&quot;, pc); 
    // å¯å˜çš„å˜é‡
    let mut age = 1;
    println!(&quot;age is {}&quot;, age);
    age = 2;
    println!(&quot;age is {}&quot;, age); 
    // å¸¸é‡ï¼ˆå¿…é¡»æ˜¯å¤§å†™å­—æ¯å’Œæ˜ç¡®çš„ç±»å‹å®šä¹‰ï¼‰ã€‚
     const BRAND: &amp;str = &quot;Dell&quot;;
    println!(&quot;brand is {}&quot;, BRAND); 
    // å¤šé‡èµ‹å€¼ï¼ˆå…ƒç»„è§£æ„ï¼‰ã€‚
    // åœ¨æ–‡ç« åé¢æœ‰æ›´å¤šå…³äºå…ƒç»„çš„å†…å®¹
     let (status, code) = (&quot;OK&quot;, 200);
    println!(&quot;status: {}, code: {}&quot;, status, code);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>pc is Inspirion XYZ
age is 1
age is 2
brand is Dell
status: OK, code: 200
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åŸºæœ¬æ•°æ®ç±»å‹"><a class="header" href="#åŸºæœ¬æ•°æ®ç±»å‹">åŸºæœ¬æ•°æ®ç±»å‹</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // é»˜è®¤æ•´æ•°çš„ç²¾åº¦æ•°æ®ç±»å‹æ˜¯32ä½: i32 
    let num1 = 123;
    println!(&quot;{} - type: {}&quot;, num1, get_type(&amp;num1)); 
    // é»˜è®¤æµ®ç‚¹æ•°çš„ç²¾åº¦ä¸º64ä½ï¼š f64
    let num2 = 1.23;
    println!(&quot;{} - type: {}&quot;, num2, get_type(&amp;num2)); 
    // æ˜¾ç¤ºå£°æ˜ ç±»å‹ 
    let num3: i8 = 23;
    println!(&quot;{} - type: {}&quot;, num3, get_type(&amp;num3)); 
    // æœ€å¤§å€¼
     // stdæ˜¯æ ‡å‡†åº“/rateã€‚
    // å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ã€‚
    // è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç±»å‹æ¨¡å—ï¼ˆi32ã€i16ç­‰ï¼‰å’Œå±æ€§ã€‚
    let max_i32 = i32::MAX;
    let max_i16 = i16::MAX;
    println!(&quot;max value for i32 is {}&quot;, max_i32);
    println!(&quot;max value for i16 is {}&quot;, max_i16); 
    // å¸ƒå°”å€¼ 
    let is_rust_fun: bool = true;
    println!(
        &quot;is_rust_fun is {} - type: {}&quot;,
        is_rust_fun,
        get_type(&amp;is_rust_fun)
    );
    let is_greater = 23 &gt; 5;
    println!(
        &quot;is_greater is {} - type: {}&quot;,
        is_greater,
        get_type(&amp;is_greater)
    );
     //å­—ç¬¦ï¼ˆunicode - æœ€å¤šå››ä¸ªå­—èŠ‚çš„é•¿åº¦ï¼‰ã€‚
    let smiley = 'ğŸ˜ˆ';
    println!(&quot;smiley is {} - type: {}&quot;, smiley, get_type(&amp;smiley));
}
// ç”¨äºæ‰“å°ç±»å‹çš„è¾…åŠ©å‡½æ•°
fn get_type&lt;T&gt;(_: &amp;T) -&gt; &amp;str {
    std::any::type_name::&lt;T&gt;()
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>123 - type: i32
1.23 - type: f64
23 - type: i8
max value for i32 is 2147483647
max value for i16 is 32767
is_rust_fun is true - type: bool
is_greater is true - type: bool
smiley is ğŸ˜ˆ - type: char
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æµ®ç‚¹æ•°"><a class="header" href="#æµ®ç‚¹æ•°">æµ®ç‚¹æ•°</a></h1>
<ul>
<li>f32 (32ä½é•¿åº¦çš„æµ®ç‚¹æ•°)</li>
<li>f64 (64ä½é•¿åº¦çš„æµ®ç‚¹æ•°)</li>
</ul>
<pre><pre class="playground"><code class="language-rust">fn main() {

    // é»˜è®¤æƒ…å†µä¸‹ï¼Œå°æ•°å€¼å­˜å‚¨åœ¨f64ä¸­

    let my_float = 12.345677890123456789012345;

    println!(&quot;my_float is: {}&quot;, my_float); 
    let a_float: f32 = 9.9438535983578493758;

    println!(&quot;a_float is: {}&quot;, a_float); 
    let min_f32 = f32::MIN;

    println!(&quot;min_f32 is: {}\n&quot;, min_f32); 
    let max_f32 = f32::MAX;

    println!(&quot;max_f32 is: {}\n&quot;, max_f32); 
    let min_f64 = f64::MIN;

    println!(&quot;min_f64 is: {}\n&quot;, min_f64);
     let max_f64 = f64::MAX;

    println!(&quot;max_f64 is: {}\n&quot;, max_f64);

}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
my_float is: 12.345677890123456

a_float is: 9.943853

min_f32 is: -340282350000000000000000000000000000000
max_f32 is: 340282350000000000000000000000000000000
min_f64 is: -179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
max_f64 is: 179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ä½æ“ä½œè¿ç®—"><a class="header" href="#ä½æ“ä½œè¿ç®—">ä½æ“ä½œè¿ç®—</a></h1>
<pre><pre class="playground"><code class="language-rust">/*
ä½æ“ä½œï¼šå¯¹å•ä¸ªæ¯”ç‰¹è€Œä¸æ˜¯å­—èŠ‚é›†è¿›è¡Œæ“ä½œã€‚
- äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œä¸€ä¸ªå­—èŠ‚çš„åºåˆ—
- ä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œå…è®¸ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”ç¬¦
- é»˜è®¤æƒ…å†µä¸‹ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºæ³•è¢«å­˜å‚¨ä¸ºi32
*/
fn main() {
    //é€šè¿‡æ·»åŠ åç¼€u8å­˜å‚¨ä¸ºu8

    let mut value = 0b1111_0101u8; 
    //å°†æ‰“å°åŸºæ•°10ï¼ˆåè¿›åˆ¶ï¼‰è¡¨ç¤ºæ³•

    println!(&quot;value is {}&quot;, value); 
    /*
    :08b
        0 -&gt; æ˜¾ç¤ºå‰å¯¼é›¶
        8 -&gt; æ˜¾ç¤ºçš„æ¯”ç‰¹æ•°
        b -&gt; æ˜¾ç¤ºäºŒè¿›åˆ¶è¡¨ç¤ºæ³•
    */
    println!(&quot;value is {:08b}&quot;, value); 
    // æ¯”ç‰¹å¼éï¼šåè½¬å„ä¸ªæ¯”ç‰¹

    value = !value; 
    // 0000_1010
    println!(&quot;value is {:08b}&quot;, value); 
    // æ¯”ç‰¹å¼å’Œï¼šç”¨äºæ¸…é™¤ä¸€ä¸ªç‰¹å®šä½çš„å€¼å€¼=å€¼&amp;0b1111_0111ã€‚
    // -&gt; 0000_0010
    println!(&quot;value is {:08b}&quot;, value); 
    // æ¯”ç‰¹å¼å’Œï¼šç”¨äºæ£€æŸ¥ç‰¹å®šä½çš„å€¼
    // å¦‚æœä¸€ä¸ªç‰¹å®šçš„ä½æ˜¯0æˆ–1ï¼Œå¯¹æ£€æŸ¥è¿›ç¨‹çŠ¶æ€çš„å¯„å­˜å™¨çš„çŠ¶æ€å¾ˆæœ‰ç”¨

    println!(&quot;value is {:08b}&quot;, value &amp; 0b0100_0000);
   // --&gt; 0000_0000 
   // ä½æ³•ORï¼šå¦‚æœä»»ä¸€æ“ä½œæ•°ä¸º1ï¼Œç»“æœä¸º1
    // å¯¹è®¾ç½®ä¸€ä¸ªç‰¹å®šä½çš„å€¼å¾ˆæœ‰ç”¨

    value = value | 0b0100_0000; 
    // -&gt; 0100_0010
    println!(&quot;value is {:08b}&quot;, value); 
    // æŒ‰ä½æ•°XORï¼ˆæ’ä»–æ€§ORï¼‰ã€‚
   // åªæœ‰å½“ä½æ•°ä¸åŒæ—¶ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0
   // å¦‚æœæœ‰ä¸åŒçš„ä½ï¼Œå¯ä»¥è®¾ç½®ä¸º0

   value = value ^ 0b0101_0101; 
   // -&gt; 0001_0111
   println!(&quot;value is {:08b}&quot;, value); 
   ////////////////////////////
   // ä½ç§»è¿ç®—ç¬¦
   //////////////////////////// 
   // å°†æ¯”ç‰¹æ¨¡å¼å‘å·¦æˆ–å‘å³ç§»åŠ¨è‹¥å¹²æ¯”ç‰¹
   // å¹¶ç”¨é›¶å›å¡«ç§»ä½çš„ä½ç©ºé—´ 
   // å·¦ç§»4ä½

   value = value &lt;&lt; 4; 
   // -&gt; 0111_0000
   println!(&quot;value is {:08b}&quot;, value); 
   // å³ç§»3ä½

   value = value &gt;&gt; 3; 
   // -&gt; 0000_1110
   println!(&quot;value is {:08b}&quot;, value);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>value is 245
value is 11110101
value is 00001010
value is 00000010
value is 00000000
value is 01000010
value is 00010111
value is 01110000
value is 00001110
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¸ƒå°”è¿ç®—å’ŒäºŒè¿›åˆ¶ä»£æ•°"><a class="header" href="#å¸ƒå°”è¿ç®—å’ŒäºŒè¿›åˆ¶ä»£æ•°">å¸ƒå°”è¿ç®—å’ŒäºŒè¿›åˆ¶ä»£æ•°</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a = true;
    let b = false;
    println!(&quot;a is {}\nb is {}&quot;, a, b); 
    println!(&quot;NOT a is {}&quot;, !a);
    println!(&quot;a AND b is {}&quot;, a &amp; b);
    println!(&quot;a OR b is {}&quot;, a | b);
    println!(&quot;a XOR b is {}&quot;, a ^ b); 
    // å¸ƒå°”å€¼è½¬ä¸ºæ•´æ•°åä¼šäº§ç”Ÿ0æˆ–1ã€‚
    println!(&quot;a XOR b is {}&quot;, (a ^ b) as i32); 
    // 1 
    let c = (a ^ b) | (a &amp; b);
    println!(&quot;c is {}&quot;, c); 
    // çŸ­è·¯çš„é€»è¾‘æ“ä½œã€‚
    // å³è¾¹çš„æ“ä½œæ•°æ²¡æœ‰è¢«è¯„ä¼° 
    let d = true || (a &amp; b);
    println!(&quot;d is {}&quot;, d);    
     // panicå®æ²¡æœ‰è¢«è¯„ä¼°ã€‚
    // æ‰€ä»¥è¿›ç¨‹ä»¥çŠ¶æ€0ç»“æŸï¼ˆOKï¼Œæ— é”™è¯¯ï¼‰ã€‚
    // panicä¼šç«‹å³é€€å‡ºç¨‹åºï¼ˆå°±åƒåœ¨Node.jsä¸­æŠ›å‡ºé”™è¯¯ï¼‰ã€‚
    let e = false &amp;&amp; panic!();
    println!(&quot;e is {}&quot;, e);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>a is true
b is false
NOT a is false
a AND b is false
a OR b is true
a XOR b is true
a XOR b is 1
c is true
d is true
e is false
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ç®—æœ¯è¿ç®—"><a class="header" href="#ç®—æœ¯è¿ç®—">ç®—æœ¯è¿ç®—</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // ç›¸åŒçš„æ•°æ®ç±»å‹æ‰èƒ½è¿ç®—
    let a = 11;
    let b = 33;
    let c = a + b;
    println!(&quot;c is {}&quot;, c);
     let d = c - b;
    println!(&quot;d is {}&quot;, d);
     let e = a * d;
    println!(&quot;e is {}&quot;, e); 
    // å…ˆè½¬æ¢æˆç›¸åŒçš„æ•°æ®ç±»å‹å†è¿ç®—ï¼Œè®°å¾—å¯èƒ½ä¼šæœ‰ç²¾åº¦æŸå¤±  
    let f = c as f32 / 4.5;
    println!(&quot;f is {}&quot;, f);

     // æ“ä½œä¼˜å…ˆæƒæ§åˆ¶

    let g = 43.5432 % (a as f64 * e as f64);
    println!(&quot;g is {}&quot;, g);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>c is 44
d is 11
e is 121
f is 9.777778
g is 43.5432

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ¯”è¾ƒè¿ç®—"><a class="header" href="#æ¯”è¾ƒè¿ç®—">æ¯”è¾ƒè¿ç®—</a></h1>
<pre><pre class="playground"><code class="language-rust">
/*
 * åªèƒ½æ¯”è¾ƒç›¸åŒç±»å‹çš„å˜é‡
*/
fn main() {
    let a = 11;
    let b = 88; 
    println!(&quot;a is {}\nb is {}&quot;, a, b); 
    println!(&quot;a EQUAL TO b is {}&quot;, a == b);
     println!(&quot;a NOT EQUAL TO b is {}&quot;, a != b);
      println!(&quot;a GREATER THAN b is {}&quot;, a &gt; b); 
      println!(&quot;a GREATER THAN OR EQUAL TO b is {}&quot;, a &gt;= b); 
      println!(&quot;a LESS THAN b is {}&quot;, a &lt; b); 
      println!(&quot;a LESS THAN OR EQUAL TO b is {}&quot;, a &lt;= b);
       let c = true;
    let d = false; 
    println!(&quot;\nc is {}\nd is {}&quot;, c, d);
    println!(&quot;c EQUAL TO d is {}&quot;, c == d);
    println!(&quot;c NOT EQUAL TO d is {}&quot;, c != d);
    println!(&quot;c GREATER THAN d is {}&quot;, c &gt; d);
    println!(&quot;c GREATER THAN OR EQUAL TO d is {}&quot;, c &gt;= d);
    println!(&quot;c LESS THAN d is {}&quot;, c &lt; d);
    println!(&quot;c LESS THAN OR EQUAL TO d is {}&quot;, c &lt;= d);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>a is 11
b is 88
a EQUAL TO b is false
a NOT EQUAL TO b is true
a GREATER THAN b is false
a GREATER THAN OR EQUAL TO b is false
a LESS THAN b is true
a LESS THAN OR EQUAL TO b is truec is true
d is false
c EQUAL TO d is false
c NOT EQUAL TO d is true
c GREATER THAN d is true
c GREATER THAN OR EQUAL TO d is true
c LESS THAN d is false
c LESS THAN OR EQUAL TO d is false
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å­—ç¬¦"><a class="header" href="#å­—ç¬¦">å­—ç¬¦</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
  //Unicodeæ ‡é‡å€¼ä½¿ç”¨4ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰å­˜å‚¨ã€‚
    // ä¸Cè¯­è¨€ç›¸åï¼ŒCè¯­è¨€å°†å…¶å­˜å‚¨åœ¨1ä¸ªå­—èŠ‚ä¸­
    let letter: char = 'z';
    let number_char = '9';
    let finger = '\u{261D}'; println!(&quot;letter is {}&quot;, letter);
    println!(&quot;number_char is {}&quot;, number_char);
    println!(&quot;finger is {}&quot;, finger);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>letter is z
number_char is 9
finger is â˜
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è®¡ç®—å¹³å‡å€¼"><a class="header" href="#è®¡ç®—å¹³å‡å€¼">è®¡ç®—å¹³å‡å€¼</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a = 33;
    let b = 4.9;
    let c: f32 = 123.5;
    let average = (a as f32 + b as f32 + c) / 3.0;
    println!(&quot;average is {}&quot;, average);
    assert_eq!(average, 53.8);
    println!(&quot;test passed.&quot;);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>average is 53.8
test passed.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ•°ç»„"><a class="header" href="#æ•°ç»„">æ•°ç»„</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    // å›ºå®šé•¿åº¦å’Œå•ä¸€ç±»å‹çš„
    //å­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜ä½ç½®
    // æ¯—è¿æ˜¯æŒ‡å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼Œä½¿æ¯ä¸ªå…ƒç´ ä¸ç›¸é‚»å…ƒç´ æœ‰ç›¸åŒçš„è·ç¦»ã€‚
    let letters = ['a', 'b', 'c'];
     // ç±»å‹: [char; 3]
    let first_letter = letters[0];
    println!(&quot;first_letter is {}&quot;, first_letter); 
    // è¦ä¿®æ”¹ä¸€ä¸ªå…ƒç´ ï¼Œå¿…é¡»è®¾ç½®ä¸ºå¯å˜ 
    let mut numbers = [11, 22, 44]; 
    // ç±»å‹ï¼š[i32; 3]
    numbers[2] = 33;
    println!(&quot;numbers is {}&quot;, numbers[2]);
     // ç©ºæ•°ç»„å®šä¹‰ ï¼ˆåˆ†é…å†…å­˜)
    let words: [&amp;str; 2];
    words = [&quot;ok&quot;; 2]; 
    // é‡å¤è¡¨è¾¾å¼ï¼Œç›¸å½“äº [&quot;ok&quot;, &quot;ok&quot;]
    println!(&quot;words is {:?}&quot;, words); 
    /*
    usizeçš„é•¿åº¦æ˜¯åŸºäºä½ çš„ç›®æ ‡æ¶æ„ä¸­å¼•ç”¨å†…å­˜æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚
    - å¯¹äº32ä½çš„ç¼–è¯‘ç›®æ ‡ -&gt; usizeæ˜¯4å­—èŠ‚
    - å¯¹äº64ä½çš„ç¼–è¯‘ç›®æ ‡ -&gt; usizeæ˜¯8å­—èŠ‚ã€‚
    */ 
    let ints = [22; 5];
    let length: usize = ints.len();
    println!(&quot;length is {}&quot;, length);    
     //è·å¾—å†…å­˜ä¸­çš„å¤§å°ï¼ˆstd crateçš„memæ¨¡å—ï¼‰ã€‚
     let mem_size_byte = std::mem::size_of_val(&amp;ints);
    println!(&quot;mem_size_byte is {}&quot;, mem_size_byte); 
    //ä»æ•°ç»„ä¸­è·å–åˆ‡ç‰‡
    let mut slice: &amp;[i32] = &amp;ints;
    println!(&quot;slice is {:?}&quot;, slice);

    slice = &amp;ints[3..5];
    println!(&quot;slice is {:?}&quot;, slice);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>first_letter is a
numbers is 33
words is [&quot;ok&quot;, &quot;ok&quot;]
length is 5
mem_size_byte is 20
slice is [22, 22, 22, 22, 22]
slice is [22, 22]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åˆ‡ç‰‡"><a class="header" href="#åˆ‡ç‰‡">åˆ‡ç‰‡</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
// åˆ‡ç‰‡ï¼šç”¨äºå¼•ç”¨ä¸€ä¸ªé›†åˆï¼ˆarrayç­‰ï¼‰çš„è¿ç»­éƒ¨åˆ†ï¼ˆå­é›†ï¼‰ï¼Œè€Œä¸å ç”¨è¿™äº›å…ƒç´ çš„æ‰€æœ‰æƒã€‚
// å¸¸ç”¨çš„æœ‰ï¼šå­—ç¬¦ä¸²åˆ†ç‰‡ dt type : &amp;str
    
// å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç‰‡æ–­
    
// æ•°æ®åœ¨å¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ˜¯ç¡¬ç¼–ç çš„ï¼Œç¨‹åºä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ç‰‡æ–­æ¥è®¿é—®å®ƒ 
// ä»å­—ç¬¦ä¸²æ•°æ®ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ç‰‡æ–­ 
// å¥å­å˜é‡ä¹Ÿæœ‰ä¸€ä¸ªæŒ‡å‘å†…å­˜ä¸­å­—ç¬¦ä¸²æ•°æ®å¼€å¤´çš„æŒ‡é’ˆï¼Œä½œä¸ºå…¶é•¿åº¦å’Œå®¹é‡çš„ä¿¡æ¯ã€‚
 let sentence = String::from(&quot;This is a sequence of words.&quot;);
    println!(&quot;sentence is {}&quot;, sentence); 
// last_wordå˜é‡æœ‰ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²æ•°æ®éƒ¨åˆ†çš„åç§»é‡/èµ·å§‹ç´¢å¼•çš„æŒ‡é’ˆï¼Œä»¥åŠåˆ†ç‰‡çš„é•¿åº¦
    
// åƒå¾€å¸¸ä¸€æ ·ï¼Œåˆ‡ç‰‡çš„ç»“æŸç´¢å¼•è¢«æ’é™¤åœ¨ç»“æœä¹‹å¤–ï¼ˆåœ¨å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œåœ¨å¯¹é›†åˆè¿›è¡Œåˆ‡ç‰‡æ—¶å¾ˆå¸¸è§ï¼‰ã€‚
let last_word = &amp;sentence[22..22 + 5];          
// [start..end_excluded]
    println!(&quot;last_word is \&quot;{}\&quot;&quot;, last_word); 
//ä»åç§»ç´¢å¼•åˆ°é›†åˆç»“æŸçš„åˆ‡ç‰‡ï¼ˆè¿™é‡Œæ˜¯å­—ç¬¦ä¸²æ•°æ®ï¼‰ã€‚
let last_part: &amp;str = &amp;sentence[22..];
    println!(&quot;last_part is \&quot;{}\&quot;&quot;, last_part); 
//ä»é›†åˆçš„å¼€å§‹åˆ°ç»“æŸçš„ç´¢å¼•è¿›è¡Œåˆ‡ç‰‡ 
let without_last_word = &amp;sentence[..22];
    println!(&quot;without_last_word is \&quot;{}\&quot;&quot;, without_last_word); 
// å­—ç¬¦ä¸²ç‰‡çš„é•¿åº¦æ˜¯ä»¥å­—èŠ‚æ•°ä¸ºå•ä½çš„ï¼ˆusizeæ•°æ®ç±»å‹ï¼‰ã€‚
    
// ä¸æ˜¯ä»¥å­—ç¬¦æ•°ä¸ºå•ä½ 
let slice_length: usize = last_part.len();
    println!(&quot;slice_length is {} bytes&quot;, slice_length); 
// å½“åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ç‰‡æ–­æ—¶ï¼ŒèŒƒå›´ç´¢å¼•å¿…é¡»å‡ºç°åœ¨æœ‰æ•ˆçš„UTF-8å­—ç¬¦è¾¹ç•Œä¸Šã€‚
    
// è®°ä½ï¼ŒUTF-8å­—ç¬¦å¯ä»¥å ç”¨å¤šä¸ªå­—èŠ‚ã€‚
    
// è¿™å°±æ˜¯è¯´ï¼Œåˆ†ç‰‡èŒƒå›´ç´¢å¼•å¿…é¡»æ˜¯å­—ç¬¦çš„è¾¹ç•Œã€‚
    
// å¦‚æœä½ çš„ç´¢å¼•åœ¨ä¸€ä¸ªå­—ç¬¦çš„ä¸­é—´ï¼Œç¨‹åºä¼šæƒŠæ…Œå¤±æªã€‚
    
// æ‰€ä»¥å½“ä»å¸¦æœ‰ç‰¹æ®Šå­—ç¬¦æˆ–è¡¨æƒ…ç¬¦å·çš„å­—ç¬¦ä¸²ä¸­åˆ›å»ºå­—ç¬¦ä¸²ç‰‡æ–­æ—¶è¦å°å¿ƒã€‚
// æ˜¯çš„ï¼Œè¿™æ˜¯ä¸€äº›ä½çº§åˆ«çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬é€šå¸¸ä¸ä¼šåœ¨æ—¥å¸¸çš„Node.jsä¸­å¤„ç†ã€‚
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>sentence is This is a sequence of words.
last_word is &quot;words&quot;
last_part is &quot;words.&quot;
without_last_word is &quot;This is a sequence of &quot;
slice_length is 6 bytes
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åˆ‡ç‰‡ä¸ºå‚æ•°"><a class="header" href="#åˆ‡ç‰‡ä¸ºå‚æ•°">åˆ‡ç‰‡ä¸ºå‚æ•°</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    let message = String::from(&quot;lorem ipsum&quot;); 
    let first_word = get_first_word(&amp;message);
    println!(&quot;first_word is \&quot;{}\&quot;&quot;, first_word); 
    let first_word_too = get_first_word_too(&amp;message[6..]);
    println!(&quot;first_word_too is \&quot;{}\&quot;&quot;, first_word_too);
}
// ======= å°†æ•´ä¸ªå­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ä¼ é€’ ===========
fn get_first_word(msg: &amp;String) -&gt; &amp;str {
    //ä»å­—ç¬¦ä¸²æ•°æ®ä¸­åˆ›å»ºä¸€ä¸ªå­—èŠ‚ç‰‡ï¼ˆ&amp;[u8] æ•°æ®ç±»å‹ï¼‰ã€‚
    let bytes: &amp;[u8] = msg.as_bytes(); 
    // åœ¨å­—èŠ‚åºåˆ—ä¸­ä¸€ä¸ªä¸€ä¸ªåœ°è¿­ä»£ã€‚
    // è¿­ä»£æ—¶ä½¿ç”¨enumerate()æ¥è·å–ç´¢å¼•
     for (index, &amp;item) in bytes.iter().enumerate() {
        // æ‰¾åˆ°ç¬¬ä¸€ä¸ªç©ºæ ¼ï¼Œå¹¶å°†ä¹‹å‰çš„æ‰€æœ‰å†…å®¹ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç‰‡æ–­è¿”å›
         // b''æ˜¯ä¸€ä¸ªç©ºæ ¼çš„å­—èŠ‚è¡¨ç¤ºã€‚
        // è®°ä½ï¼Œæˆ‘ä»¬æ˜¯åœ¨è¿­ä»£ä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼Œè€Œä¸æ˜¯å­—ç¬¦ã€‚
       // æˆ‘ä»¬è¿™æ ·åšæ˜¯å› ä¸ºå­—ç¬¦ä¸²ç‰‡æ–­çš„ç´¢å¼•æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½çš„ã€‚
       if item == b' ' {
            return &amp;msg[..index];
       }
    } 
    // æ²¡æœ‰å‘ç°ç©ºç™½å¤„ï¼Œè¿”å›æ•´ä¸ªä¿¡æ¯ &amp;msg
}
// ======= ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ç‰‡æ–­ä½œä¸ºè¾“å…¥ ===========
fn get_first_word_too(msg: &amp;str) -&gt; &amp;str {
    let bytes: &amp;[u8] = msg.as_bytes(); 
    for (index, &amp;item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &amp;msg[..index];
        }
    } 
    &amp;msg
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>first_word is &quot;lorem&quot;
first_word_too is &quot;ipsum&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deref-è§£æ„"><a class="header" href="#deref-è§£æ„">Deref è§£æ„</a></h1>
<p>æ³¨æ„ã€‚</p>
<ul>
<li>ä¼ é€’ä¸€ä¸ªå€Ÿæ¥çš„å­—ç¬¦ä¸²å¼•ç”¨ï¼ˆ&amp;Stringï¼‰ä¸ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ç‰‡æ–­ï¼ˆ&amp;strï¼‰æ˜¯ä¸ä¸€æ ·çš„ã€‚</li>
<li>å€Ÿç”¨çš„å­—ç¬¦ä¸²å¼•ç”¨æŒ‡å‘å †æ ˆä¸­çš„å­—ç¬¦ä¸²ï¼Œè€Œå †æ ˆåˆæ‹¥æœ‰å¹¶æŒ‡å‘å †ä¸­çš„æ•°æ®</li>
<li>sliceåªå­˜å‚¨ä¸€ä¸ªæŒ‡å‘å †æ•°æ®çš„æŒ‡é’ˆå’Œé•¿åº¦ä¿¡æ¯ã€‚å®ƒå¹¶ä¸è·Ÿè¸ªå®¹é‡ï¼Œå› ä¸ºå®ƒå¹¶ä¸æ‹¥æœ‰å †ä¸Šçš„ä»»ä½•ä¸œè¥¿ã€‚</li>
<li>ç”±äºå­—ç¬¦ä¸²å¼•ç”¨åŒ…å«äº†ä½œä¸ºä¸€ä¸ªç‰‡æ–­çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆæŒ‡å‘å †æ•°æ®çš„æŒ‡é’ˆ+é•¿åº¦ï¼‰ï¼ŒRustå…è®¸åœ¨é¢„æœŸæœ‰å­—ç¬¦ä¸²ç‰‡æ–­çš„åœ°æ–¹ä½¿ç”¨å­—ç¬¦ä¸²å¼•ç”¨ã€‚</li>
<li>è¿™ç§ä¾¿åˆ©è¢«ç§°ä¸º deref coercionã€‚</li>
</ul>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let message = String::from(&quot;lorem ipsum&quot;);

    // æ³¨æ„åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å¼•ç”¨è¢«ä½œä¸ºå‚æ•°ä¼ å…¥ 
    let first_word = get_first_word(&amp;message);
    println!(&quot;first_word is \&quot;{}\&quot;&quot;, first_word);
}
// æ³¨æ„åˆ°é¢„æœŸçš„å‚æ•°æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„slice (&amp;str)ã€‚
fn get_first_word(msg: &amp;str) -&gt; &amp;str {
    let bytes: &amp;[u8] = msg.as_bytes();
    for (index, &amp;item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &amp;msg[..index];
        }
    }
    &amp;msg
}
</code></pre></pre>
<ul>
<li>å½“ç„¶ï¼Œå½“ä½¿ç”¨å­—ç¬¦ä¸²ç‰‡æ—¶ï¼Œderef coercionä¸èµ·ä½œç”¨ï¼Œå› ä¸ºå­—ç¬¦ä¸²å¼•ç”¨æ˜¯é¢„æœŸçš„ï¼ˆå› ä¸ºç¼ºå°‘å±æ€§ï¼‰ã€‚</li>
<li>å½“ç¼–å†™ä»£ç æ—¶ï¼Œåœ¨ä¸éœ€è¦æ•°æ®æ‰€æœ‰æƒçš„æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨å­—ç¬¦ä¸²ç‰‡ã€‚</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¤šç»´æ•°ç»„"><a class="header" href="#å¤šç»´æ•°ç»„">å¤šç»´æ•°ç»„</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let d2: [[i32; 3]; 3] = [[9, 8, 7], [6, 5, 4], [3, 2, 1]];
    let value = d2[1][0];
    println!(&quot;value is {}&quot;, value); 
    // å˜æ›´ä¸€ä¸ªå…ƒç»„
    let d3: [[[&amp;str; 100]; 20]; 5];
    d3 = [[[&quot;ok&quot;; 100]; 20]; 5];
    println!(&quot;value d3[3][11][35] is {}&quot;, d3[3][11][35])
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>value is 6
value d3[3][11][35] is ok
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="çŸ¢é‡"><a class="header" href="#çŸ¢é‡">çŸ¢é‡</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    
// å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹çš„å…ƒç´ çš„é›†åˆ
    
// å…ƒç´ æ˜¯æŒ‰é¡ºåºæ’åˆ—çš„ 
// æ•°ç»„æœ‰ä¸€ä¸ªå›ºå®šçš„å¤§å°ï¼Œåœ¨ç¼–è¯‘æ—¶å¿…é¡»çŸ¥é“ã€‚
    
// å› ä¸ºæ•°ç»„çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨å †æ ˆä¸­çš„ 
// å‘é‡å¯ä»¥åŠ¨æ€åœ°å¢é•¿å’Œç¼©å°
    
// é€šè¿‡æ·»åŠ /åˆ é™¤é¡¹ç›®æ¥å®ç°
    
// çŸ¢é‡æ•°æ®è¢«å­˜å‚¨åœ¨å †å†…å­˜ä¸­
    
// å› æ­¤ä½ éœ€è¦å¤„ç†[æ‰€æœ‰æƒ]å’Œ[å€Ÿç”¨]ã€‚
// å‘é‡ = å¯å˜å¤§å°çš„æ•°ç»„ 
let mut letters: Vec&lt;char&gt; = vec!['a', 'b', 'c'];
    println!(&quot;letters are {:?}&quot;, letters); 
    let first_letter = letters[0];
    println!(&quot;first_letter is {}&quot;, first_letter); 
//ä¸ºå‘é‡æ·»åŠ å€¼ 
letters.push('d');
    letters.push('e');
    letters.push('f');
    println!(&quot;letters are {:?}&quot;, letters); 
// åˆ é™¤æœ€åä¸€ä¸ªå€¼ 
letters.pop();
    println!(&quot;letters are {:?}&quot;, letters); 
    let mut numbers: Vec&lt;i32&gt; = vec![11, 22, 44];
    numbers[2] = 33;
    println!(&quot;numbers is {}&quot;, numbers[2]); 
    let words: Vec&lt;&amp;str&gt;;
    words = vec![&quot;ok&quot;; 2]; 
    println!(&quot;words are {:?}&quot;, words); 
    let mut ints = vec![22, 33, 44, 55, 66, 77];
    let length: usize = ints.len();
    println!(&quot;length is {}&quot;, length); 
    let mem_size_byte = std::mem::size_of_val(&amp;ints);
    println!(&quot;mem_size_byte is {}&quot;, mem_size_byte); 
// ä»çŸ¢é‡ä¸­åˆ‡å‡ºä¸€ç‰‡
let mut slice: &amp;[i32] = &amp;ints;
    println!(&quot;slice is {:?}&quot;, slice); slice = &amp;ints[2..5];
    println!(&quot;slice is {:?}&quot;, slice); 
// åœ¨å‘é‡ä¸Šè¿›è¡Œè¿­ä»£
 for it in ints.iter() {
        println!(&quot;it is {}&quot;, it);
    } 
// è¿­ä»£æ—¶å¯¹å‘é‡é¡¹ç›®è¿›è¡Œå˜å¼‚ 
for it in ints.iter_mut() {
        
// è§£é™¤å¯¹æŒ‡é’ˆçš„å¼•ç”¨ï¼Œä»¥è·å¾—å’Œè®¾ç½®å€¼ï¼ˆ*itï¼‰ã€‚
        *it *= *it;
    }
    println!(&quot;ints is {:?}&quot;, ints);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>letters are ['a', 'b', 'c']
first_letter is a
letters are ['a', 'b', 'c', 'd', 'e', 'f']
letters are ['a', 'b', 'c', 'd', 'e']
numbers is 33
words is [&quot;ok&quot;, &quot;ok&quot;]
length is 6
mem_size_byte is 24
slice is [22, 33, 44, 55, 66, 77]
slice is [44, 55, 66]
it is 22
it is 33
it is 44
it is 55
it is 66
it is 77
ints is [484, 1089, 1936, 3025, 4356, 5929]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å…ƒç»„"><a class="header" href="#å…ƒç»„">å…ƒç»„</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    //ç”¨äºåˆ†ç»„æ··åˆæ•°æ®ç±»å‹çš„ç›¸å…³é¡¹ç›®
    //æœ€å¤šå¯ä»¥æœ‰12ä¸ªæ··åˆç±»å‹çš„å€¼
    // å¦‚æœå¢åŠ æ›´å¤šçš„å€¼ï¼Œå®ƒå°†ä¸å†æ˜¯ä¸€ä¸ªå…ƒç»„ç±»å‹ã€‚
    let a_tuple: (&amp;str, u8, char) = (&quot;ok&quot;, 0, 'd');
    let first_item = a_tuple.0;
    println!(&quot;first_item is {}&quot;, first_item); 
    // ä½¿å…ƒç»„å¯å˜ 
    let mut b_tuple = (&quot;ok&quot;, 0);
    b_tuple.0 = &quot;ko&quot;;
    b_tuple.1 += 1;
    println!(&quot;b_tuple.1 is {}&quot;, b_tuple.1);
     // è§£æ„ä¸€ä¸ªå…ƒç»„ 
     let c_tuple = (&quot;en&quot;, &quot;US&quot;, 1);
    let (language, country, code) = c_tuple;
    println!(
        &quot;language is: {}\ncountry is: {}\ncode is: {}&quot;,
        language, country, code
    )
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>first_item is ok
b_tuple.1 is 1
language is: en
country is: US
code is: 1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å‡½æ•°æ–¹æ³•"><a class="header" href="#å‡½æ•°æ–¹æ³•">å‡½æ•°æ–¹æ³•</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    be_polite(); 
// yå’Œzçš„æ¨æ–­ç±»å‹æ˜¯ä½œä¸ºadd()çš„å‚æ•°ä½¿ç”¨çš„ç±»å‹ã€‚
    
// å¦‚æœä½ æ²¡æœ‰å£°æ˜å˜é‡çš„å…·ä½“ç±»å‹ï¼Œé‚£ä¹ˆè¿™äº›å˜é‡å°†å‡å®šä¸ºç¬¬ä¸€æ¬¡ä½¿ç”¨çš„å‡½æ•°çš„å‚æ•°ç±»å‹ã€‚
// è®°ä½ï¼Œé»˜è®¤çš„æ¨æ–­ç±»å‹æ˜¯æ•´æ•°çš„i32ã€‚
    let y = 12;
    let z = 34; 
// ç°åœ¨yå’Œzè¢«è®¤ä¸ºæ˜¯u8ç±»å‹ï¼Œå› ä¸ºè¿™å°±æ˜¯å®ƒä»¬ç¬¬ä¸€æ¬¡ä½œä¸ºå‡½æ•°å‚æ•°ä½¿ç”¨çš„æ–¹å¼ 
    add(y, z); 
// ç¨åå°†yå’Œzä¼ ç»™å¦ä¸€ä¸ªå‚æ•°ç±»å‹ä¸åŒçš„fnï¼Œä¼šå¼•èµ·panic
    
guess_number(z) 
// --&gt; å¸Œæœ›æ˜¯ä¸€ä¸ªi32è€Œä¸æ˜¯ä¸€ä¸ªu8
    
// éœ€è¦æ˜ç¡®çš„è½¬æ¢ã€‚
guess_number(y as i32)
}
fn be_polite() {
    println!(&quot;Greetings, pleased to meet you.&quot;);
    guess_number(25)
}
fn guess_number(number: i32) {
    println!(&quot;Indeed, {} is the correct answer&quot;, number)
}
fn add(a: u8, b: u8) {
    let sum = a + b;
    println!(&quot;sum is {}&quot;, sum)
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
Greetings, pleased to meet you.
Indeed, 25 is the correct answer
sum is 46
Indeed, 12 is the correct answer
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è¯­å¥å’Œè¡¨è¾¾å¼"><a class="header" href="#è¯­å¥å’Œè¡¨è¾¾å¼">è¯­å¥å’Œè¡¨è¾¾å¼</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // è¯­å¥æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œè€Œä¸è¿”å›ä¸€ä¸ªå€¼ 
    // è¯­å¥ä»¥åˆ†å·ç»“å°¾ï¼ša = 6ã€‚
     // è¡¨è¾¾å¼è¯„ä¼°ä¸ºä¸€ä¸ªç»“æœå€¼ 
     // è¡¨è¾¾å¼ä¸ä»¥åˆ†å·ç»“æŸã€‚3 + 4ï¼Œè¯„ä¼°ç»“æœä¸º7
      // åœ¨è¡¨è¾¾å¼ä¸­åŠ å…¥åˆ†å·å¯ä»¥å°†å…¶è½¬åŒ–ä¸ºä¸€ä¸ªè¯­å¥ã€‚
      // è¡¨è¾¾å¼å¯ä»¥ä½œä¸ºè¯­å¥çš„ä¸€éƒ¨åˆ†ä½¿ç”¨ï¼š let total = r + c;\n\t{}\n\t{}&quot;ã€‚
       // å…¶ä¸­ &quot;r + c &quot;æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œ&quot;let total = r + c; &quot;æ˜¯ä¸€ä¸ªè¯­å¥ã€‚
       println!(&quot;expression 4 + 5 evaluates to: {}&quot;, 4 + 5);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>expression 4 + 5 evaluates to: 9
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å‡½æ•°è¿”å›ç±»å‹"><a class="header" href="#å‡½æ•°è¿”å›ç±»å‹">å‡½æ•°è¿”å›ç±»å‹</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let result = square(3);
    println!(&quot;result is {}&quot;, result); 
    let result_tuple = triple(33);
    let (input, result1) = result_tuple;
    println!(&quot;result_tuple is {:?}&quot;, result_tuple);
    
// {:?} ==&gt; debug æ ¼å¼åŒ– 
println!(&quot;input {} evaluates to {}&quot;, input, result1); 
let nothing: () = does_not_return();
    println!(&quot;nothing (union data type) is {:?}&quot;, nothing)
}
fn square(number: i32) -&gt; i32 {
    println!(&quot;processing square({})&quot;, number); 
// è¿”å›ä¸€ä¸ªæ•°å€¼çš„è¡¨è¾¾å¼ number * number
    
// &quot;return number * number; &quot;ä¹Ÿæ˜¯æœ‰æ•ˆçš„è¯­æ³•ã€‚
}
// ç”¨å…ƒç»„å®ç°å¤šè¿”å›
fn triple(number: i32) -&gt; (i32, i32) {
    println!(&quot;tripling the number: {}&quot;, number);
    let input = number;
    let result = number * 3;
    (input, result)
}
// è”ç›Ÿæ•°æ®ç±»å‹

// å½“fnè¿”å›çš„å€¼æ²¡æœ‰æ„ä¹‰æ—¶ä½¿ç”¨

// ç”¨ç©º()è¡¨ç¤º

// å®ƒæ˜¯å¯é€‰çš„
fn does_not_return() -&gt; () {
    println!(&quot;ain't returning nuthing!&quot;)
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>processing square(3)
result is 9
tripling the number: 33
result_tuple is (33, 99)
input 33 evaluates to 99
ain't returning nuthing!
nothing (union data type) is ()
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="é—­åŒ…"><a class="header" href="#é—­åŒ…">é—­åŒ…</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    
    // é—­åŒ…æ˜¯åŒ¿åå‡½æ•°ï¼Œå¯ä»¥è®¿é—®åŒ…å›´èŒƒå›´å†…çš„å˜é‡ã€‚
    // é•¿å½¢å¼
    let double = |n1: u8| -&gt; u8 { n1 * 2 }; 
    // çŸ­å½¢å¼
    let triple = |n1| n1 * 3; 
    const DAYS_IN_YEAR: u16 = 365; 
    //ä»å°é—­çš„ä½œç”¨åŸŸå¼•ç”¨å˜é‡
    let quadruple_than_add_number_days_in_year = |n1: i32| n1 * 4 + (DAYS_IN_YEAR as i32);
    const FACTOR: i32 = 22;
    let multiple_by_22 = |x| FACTOR * x; 
    println!(&quot;{}&quot;, double(11));
    println!(&quot;{}&quot;, triple(99));
    println!(&quot;{}&quot;, quadruple_than_add_number_days_in_year(44));
    println!(&quot;{}&quot;, multiple_by_22(5));
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>22
297
541
110
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ‘„æ°åº¦è½¬æ¢ä¸ºåæ°åº¦"><a class="header" href="#æ‘„æ°åº¦è½¬æ¢ä¸ºåæ°åº¦">æ‘„æ°åº¦è½¬æ¢ä¸ºåæ°åº¦</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let (celsius, farenheit) = to_farenheit(40.0);
    println!(&quot;{} celsius is {} farenheit&quot;, celsius, farenheit);
    assert_eq!(farenheit, 104.0); 
    // å¦‚æœæ–­è¨€å¤±è´¥ï¼Œå°†ä¸æ‰§è¡Œ
    println!(&quot;test passed&quot;);
}
fn to_farenheit(celsius: f32) -&gt; (f32, f32) {
    let farenheit = (1.8 * celsius) + 32.0; 
    // è¿”å›è¯­å¥ï¼ˆæ²¡æœ‰åˆ†å·ï¼‰
    (celsius, farenheit)
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ¡ä»¶æ‰§è¡Œ"><a class="header" href="#æ¡ä»¶æ‰§è¡Œ">æ¡ä»¶æ‰§è¡Œ</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    let x = 5;
    if x == 5 {
        println!(&quot;x is 5&quot;);
    } 
    // å¦‚æœè¡¨è¾¾å¼ï¼ˆç›¸å½“äºJS/Node.jsä¸­çš„ä¸‰å…ƒè¿ç®—ç¬¦ï¼‰ã€‚
    let x_odd = if x % 2 == 0 { &quot;odd&quot; } else { &quot;even&quot; };
    println!(&quot;x_odd is {}&quot;, x_odd);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>x is 5
x_odd is even
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¤šæ¡ä»¶åˆ¤æ–­if-else-if"><a class="header" href="#å¤šæ¡ä»¶åˆ¤æ–­if-else-if">å¤šæ¡ä»¶åˆ¤æ–­If else if</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 2;
    let y = 5; if x &gt; y {
        println!(&quot;x is greater than  y&quot;);
    } else if x &lt; y {
        println!(&quot;x is less than y&quot;);
    } else {
        println!(&quot;x is equal to y&quot;);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>x is less than y
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¾ªç¯èµ‹å€¼"><a class="header" href="#å¾ªç¯èµ‹å€¼">å¾ªç¯èµ‹å€¼</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut count = 0;
     // æ— é™å¾ªç¯ 
     loop {
        if count == 10 {
            break;
        }
        count += 1;
        println!(&quot;count is {}&quot;, count);
    }
     println!(&quot;\nAfter first loop.\n&quot;);
     //ä»å¾ªç¯è¡¨è¾¾å¼ä¸­è¿”å›ä¸€ä¸ªå€¼ 
     let result = loop {
        if count == 15 {
            // ç”¨breakè¯­å¥è¿”å›ä¸€ä¸ªå€¼ 
            break count * 20;
        }
        count += 1;
        println!(&quot;count is {}&quot;, count);
    }; 
    println!(&quot;\nAfter second loop, result is {}&quot;, result);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>count is 1
count is 2
count is 3
count is 4
count is 5
count is 6
count is 7
count is 8
count is 9
count is 10After first loop.count is 11
count is 12
count is 13
count is 14
count is 15After second loop, result is 300
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="while-å¾ªç¯"><a class="header" href="#while-å¾ªç¯">While å¾ªç¯</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut count = 0;
    let letters: [char; 5] = ['a', 'b', 'c', 'd', 'e']; 
    while count &lt; letters.len() {
        println!(&quot;letter[{}] is {}&quot;, count, letters[count]);
        count += 1;
    }
    // ä¸å¾ªç¯è¡¨è¾¾å¼ç›¸åï¼Œwhileå¾ªç¯ä¸­çš„breakè¯­å¥ä¸èƒ½è¿”å›ä¸€ä¸ªå€¼ã€‚
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>letter[0] is a
letter[1] is b
letter[2] is c
letter[3] is d
letter[4] is e
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="forå¾ªç¯"><a class="header" href="#forå¾ªç¯">Forå¾ªç¯</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let message = ['m', 'e', 's', 's', 'a', 'g', 'e']; 
    /* è¿­ä»£å™¨
    - å®ç°äº†å¯¹ä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªé¡¹ç›®è¿›è¡Œè¿­ä»£çš„é€»è¾‘ã€‚
    - next()æ–¹æ³•è¿”å›ä¸€ä¸ªåºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ã€‚
      */
    for item in message.iter() {
        println!(&quot;current item is {}&quot;, item);
    } 
    println!(&quot;&quot;); 
// è¿­ä»£æ—¶ä¹Ÿè¦è·å¾—ç´¢å¼•
    
// enumerate()è¿”å›ä¸€ä¸ªå¸¦æœ‰ç´¢å¼•/é¡¹ç›®_å¼•ç”¨å¯¹çš„å…ƒç»„ã€‚
    
// è¦è·å¾—é¡¹ç›®ï¼Œä½¿ç”¨&amp;item
    
// å› ä¸ºè¿­ä»£å™¨ä¼šè¿”å›ä¸€ä¸ªå¼•ç”¨ï¼ˆ&amp;&lt;NAME&gt;ï¼‰ã€‚
    
// æ·»åŠ &amp;ï¼ˆå€Ÿç”¨æ“ä½œç¬¦ï¼‰å¯ä»¥è®©ä½ 
    
// å€Ÿç”¨è¯¥å˜é‡è€Œä¸
    
// å–å¾—æ‰€æœ‰æƒï¼ˆå‚è§å€Ÿç”¨éƒ¨åˆ†ï¼‰ã€‚
    
// ç„¶åå½“ä½ åœ¨forå¾ªç¯èŒƒå›´å†…ä½¿ç”¨è¯¥å˜é‡æ—¶ï¼Œä½ å°±å¯ä»¥è®¿é—®è¯¥å€¼äº† 
for (index, &amp;item) in message.iter().enumerate() {
        println!(&quot;item {} is {}&quot;, index, item);
        if item == 'e' {
            break;
        }
    }
     println!(&quot;&quot;); 
// åœ¨ä¸€ä¸ªæ•°å­—èŒƒå›´ä¸Šè¿›è¡Œè¿­ä»£
    
// æ’é™¤è¯¥èŒƒå›´çš„ç»ˆå€¼
 for number in 0..5 {
        println!(&quot;number is {}&quot;, number);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>current item is m
current item is e
current item is s
current item is s
current item is a
current item is g
current item is eitem 0 is m
item 1 is enumber is 0
number is 1
number is 2
number is 3
number is 4
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åµŒå¥—å¾ªç¯"><a class="header" href="#åµŒå¥—å¾ªç¯">åµŒå¥—å¾ªç¯</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    let mut matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]; 
    // ä»çŸ©é˜µä¸­è¯»å– 
    for row in matrix.iter() {
        for number in row.iter() {
            print!(&quot;{}\t&quot;, number);
        }
        println!(&quot;&quot;);
    } 
    println!(&quot;=======================&quot;); 
    // ä¿®æ”¹å¯å˜çŸ©é˜µçš„å€¼
    // iter_mut()è¿”å›å¯å˜çš„å¼•ç”¨ 
    for row in matrix.iter_mut() {
        for number in row.iter_mut() {
            //ç”¨æ˜Ÿå·è§£é™¤å¼•ç”¨ï¼Œä»¥è·å¾—å€¼æœ¬èº« 
            *number += 20;
            print!(&quot;{}\t&quot;, number);
        }
        println!(&quot;&quot;);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>1 2 3
4 5 6
7 8 9
=======================
21 22 23
24 25 26
27 28 29
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="çŒœæ•°æ¸¸æˆ"><a class="header" href="#çŒœæ•°æ¸¸æˆ">çŒœæ•°æ¸¸æˆ</a></h1>
<pre><pre class="playground"><code class="language-rust">use rand::Rng;
use std::io;
fn main() {
    println!(&quot;Guess a number&quot;);
    println!(&quot;Please enter your guess:&quot;); 
    let secret_number = rand::thread_rng().gen_range(1, 101);
    println!(&quot;The secret number is {}&quot;, secret_number); 
    // &quot;:: &quot;ç”¨äºç»™å®šç±»å‹çš„å…³è”å‡½æ•°ï¼ˆç›¸å½“äºOOPä¸­çš„é™æ€æ–¹æ³•--ä»¥åä¼šæœ‰æ›´å¤šçš„ä»‹ç»ï¼‰ã€‚
    // String::new() åˆ›å»ºä¸€ä¸ªStringç±»å‹çš„ç©ºå­—ç¬¦ä¸²ï¼ˆå¯å¢é•¿çš„UTF-8ç¼–ç æ–‡æœ¬ï¼‰ã€‚
    let mut guess = String::new(); 
    /*
        std::io::stdinï¼Œå¦‚æœä½ ä¸ä½¿ç”¨æ–‡ä»¶é¡¶éƒ¨çš„å¯¼å…¥çš„è¯
        std::io::stdin() è¿”å›ä¸€ä¸ªstd::io::stdinç±»å‹çš„å®ä¾‹
    */ 
    io::stdin()
        .read_line(&amp;mut guess)
        .expect(&quot;Failed to read line&quot;); 
        println!(&quot;You guess: {}&quot;, guess);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åŸºæœ¬ç»Ÿè®¡"><a class="header" href="#åŸºæœ¬ç»Ÿè®¡">åŸºæœ¬ç»Ÿè®¡</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let numbers = [1, 9, -2, 0, 23, 20, -7, 13, 37, 20, 56, -18, 20, 3];
    let mut max: i32 = numbers[0];
    let mut min: i32 = numbers[0];
    let mut mean: f64 = 0.0;
     for item in numbers.iter() {
        mean += *item as f64; if *item &gt; max {
            max = *item;
        } if *item &lt; min {
            min = *item;
        }
    }
     mean /= numbers.len() as f64; 
    assert_eq!(max, 56);
    assert_eq!(min, -18);
    assert_eq!(mean, 12.5); println!(&quot;Test passed!&quot;);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Test passed!
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="èŒƒå›´"><a class="header" href="#èŒƒå›´">èŒƒå›´</a></h1>
<pre><pre class="playground"><code class="language-rust">

fn main() {
    let planet = &quot;Dunya&quot;;
    if true {
        let planet = &quot;Jupiter&quot;;
        println!(&quot;planet is {}&quot;, planet);
    } 
    println!(&quot;planet is {}&quot;, planet);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>planet is Jupiter
planet is Dunya
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å˜é‡å¯å˜æ€§"><a class="header" href="#å˜é‡å¯å˜æ€§">å˜é‡å¯å˜æ€§</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let car = &quot;Mitsubishi&quot;;
    println!(&quot;car is a {}&quot;, car); 
    //ä»£ç å—ï¼Œæœ‰è‡ªå·±çš„èŒƒå›´ 
    {
        // å˜é‡é®ç½©ï¼Œè¿™é‡Œçš„carå°±è·Ÿä¸Šé¢çš„å¯ä»¥ä¸ä¸€æ ·
        let car = 1;
        println!(&quot;car is a {}&quot;, car);
    } 
    println!(&quot;car is a {}&quot;, car);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>car is a Mitsubishi
car is a 1
car is a Mitsubishi
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å †å†…å­˜å’Œæ ˆå†…å­˜"><a class="header" href="#å †å†…å­˜å’Œæ ˆå†…å­˜">å †å†…å­˜å’Œæ ˆå†…å­˜</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    println!(&quot;=== STACK ====\n&quot;);
    println!(&quot;- values stored in sequential order of insertion&quot;);
    println!(&quot;- data added in LIFO (last in first out)&quot;);
    println!(&quot;- stores variables - pushing values on the stack&quot;);
    println!(&quot;- also holds info for function execution&quot;);
    println!(
        &quot;- stack have very fast access because no guessing where to put data, it will be on top&quot;
    );
    println!(&quot;- stacks are limited in size&quot;);
    println!(&quot;- all data in stack must have a known fixed size\n&quot;);
    func1();
    println!(&quot;func1 done&quot;);
    println!(&quot;pop variable y off the stack&quot;);
    println!(&quot;pop variable z off the stack\n&quot;);println!(&quot;\n\n=== HEAP ====\n&quot;);
    println!(&quot;- adding data to heap, search for large enough place in memory to store data&quot;);
    println!(&quot;- marks memory spot as being used (allocating) and put data in it&quot;);
    println!(&quot;- accessing data in heap is more complex than the stack because the stack allocates anywhere in available memory&quot;);
    println!(&quot;- slower than stack&quot;);
    println!(&quot;- dynamically add and remove data&quot;);
    println!(&quot;\n\n=== POINTER ====\n&quot;);
    println!(&quot;- data type that stores a memory address&quot;);
    println!(&quot;- pointers have a fixed size so can be stored on the stack&quot;);
    println!(&quot;- adding and accessing data on the heap is done through pointers (addresses in memory)&quot;);
}
fn func1() {
    println!(&quot;func1 executing...&quot;);
    let y = 3.11;
    println!(&quot;push variable y = {} onto the stack&quot;, y);
    let z = 5;
    println!(&quot;push variable z = {} onto the stack&quot;, z);
    func2();
    println!(&quot;func2 done&quot;);
    println!(&quot;pop variable arr off the stack&quot;);
}
fn func2() {
    println!(&quot;func2 executing...&quot;);
    let arr = [2, 3, 4];
    println!(&quot;push variable arr = {:?} onto the stack&quot;, arr);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>=== STACK ====- 
values stored in sequential order of insertion
- data added in LIFO (last in first out)
- stores variables - pushing values on the stack
- also holds info for function execution
- stack have very fast access because no guessing where to put data, it will be on top
- stacks are limited in size
- all data in stack must have a known fixed sizefunc1 executing...
push variable y = 3.11 onto the stack
push variable z = 5 onto the stack
func2 executing...
push variable arr = [2, 3, 4] onto the stack
func2 done
pop variable arr off the stack
func1 done
pop variable y off the stack
pop variable z off the stack=== HEAP ====- adding data to heap, search for large enough place in memory to store data
- marks memory spot as being used (allocating) and put data in it
- accessing data in heap is more complex than the stack because the stack allocates anywhere in available memory
- slower than stack
- dynamically add and remove data=== POINTER ====- data type that stores a memory address
- pointers have a fixed size so can be stored on the stack
- adding and accessing data on the heap is done through pointers (addresses in memory)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å­—ç¬¦ä¸²"><a class="header" href="#å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</a></h1>
<p>Rust has two kinds of string types.</p>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    
// ä¸¤ç§ç±»å‹çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

    
// - å­—ç¬¦ä¸²ï¼šç¡¬ç¼–ç åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚
    
// è¿™äº›æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œåœ¨ç¼–è¯‘å‰å¿…é¡»çŸ¥é“ã€‚

    
// - å­—ç¬¦ä¸²ç±»å‹ï¼šåœ¨å †ä¸Šåˆ†é…çš„æ•°æ®ï¼Œ\n/tmutableï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆã€‚
// å­˜å‚¨åœ¨å †ä¸Šçš„å­—ç¬¦ä¸²å­—é¢æ„ä¹‰ 
// String::from() ä»ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢å†…å®¹ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ã€‚
//åºåˆ—[m,a,r,s]å°†è¢«å­˜å‚¨åœ¨å †ä¸­ã€‚
// ä¸ºäº†è®¿é—®å­˜å‚¨åœ¨å †ä¸­çš„å­—ç¬¦ä¸²ï¼Œç¨‹åºåœ¨å †ä¸­æŒæœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ˆæ¶ˆæ¯å˜é‡ï¼‰ã€‚
// æ ˆä¸Šçš„æŒ‡é’ˆåŒ…æ‹¬ç¬¬ä¸€ä¸ªå­—ç¬¦çš„å†…å­˜åœ°å€ã€å­—ç¬¦ä¸²çš„é•¿åº¦å’Œå®¹é‡ï¼Œè¿™æ ·ä½ å°±çŸ¥é“åœ¨å †ä¸Šä¸ºå®ƒåˆ†é…äº†å¤šå°‘å†…å­˜ã€‚
let mut message = String::from(&quot;Jupiter&quot;);
    println!(&quot;message is {}&quot;, message); 
//å°†å­—ç¬¦ä¸²é™„åŠ åˆ°åŸå§‹çš„å­—ç¬¦ä¸²ä¸Š 
// å¦‚æœéœ€è¦çš„å†…å­˜å¤§äºå®¹é‡ï¼ŒæŒ‡é’ˆåœ°å€ä»¥åŠé•¿åº¦å’Œå®¹é‡å°±ä¼šæ›´æ–°ï¼Œä»¥åæ˜ å†…å­˜ä¸­çš„æ–°ä½ç½®ã€‚
 message.push_str(&quot; is smoke and mirrors&quot;);
    println!(&quot;message is {}&quot;, message); 
// æ¨é€ä¸€ä¸ªå­—ç¬¦
    message.push('!');
    println!(&quot;message is {}&quot;, message); 
// è·å–é•¿åº¦
   println!(&quot;message lenght is {}&quot;, message.len()); 
// è·å¾—ä»¥å­—èŠ‚ä¸ºå•ä½çš„å®¹é‡
   println!(&quot;message capacity is {}&quot;, message.capacity()); 
// æ£€æŸ¥æ˜¯å¦ä¸ºç©º
  println!(&quot;Is empty: {}&quot;, message.is_empty()); 
// å­—ç¬¦ä¸²æœç´¢
  println!(&quot;Contains smoke: {}&quot;, message.contains(&quot;smoke&quot;)); 
// æ›¿æ¢å­—ç¬¦ä¸²
  println!(&quot;message is {}&quot;, message.replace(&quot;smoke&quot;,&quot;gaz&quot;)); 
// å¾ªç¯å¤„ç†å­—ç¬¦ä¸²ä¸­çš„å•è¯ï¼ˆç”¨ç©ºç™½å¤„åˆ†å‰²ï¼‰ã€‚
  for word in message.split_whitespace() {
    println!(&quot;word is {}&quot;, word);
  } 
//åˆ›å»ºæœ‰å®¹é‡çš„å­—ç¬¦ä¸²
 let mut s = String::with_capacity(4); 
// 4ä¸ªå­—èŠ‚çš„å®¹é‡
  println!(&quot;s capacity is  {} bytes&quot;, s.capacity()); 
// æ¶ˆè€—çš„æ˜¯1ä¸ªå­—èŠ‚
  
// æ‹‰ä¸å­—æ¯é€šå¸¸æœ‰1ä¸ªå­—èŠ‚çš„å¤§å°
  
// è®°ä½Unicodeæ”¯æŒ4å­—èŠ‚çš„å­—ç¬¦
  s.push('Q'); s.push('W'); 
// æ¶ˆè€—äº†1ä¸ªå­—èŠ‚
  s.push_str(&quot;er&quot;); 
// æ¶ˆè€—äº†2ä¸ªå­—èŠ‚ 
//è¶…è¿‡äº†å­—ç¬¦ä¸²çš„å®¹é‡ï¼ˆè‡ªåŠ¨å¢åŠ å¹¶åœ¨å†…å­˜ä¸­é‡æ–°åˆ†é…ï¼‰ã€‚
s.push('T'); 
// æ¶ˆè€—1ä¸ªå­—èŠ‚
  println!(&quot;s capacity is  now {} bytes&quot;, s.capacity());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>message is Jupiter
message is Jupiter is smoke and mirrors
message is Jupiter is smoke and mirrors!
message lenght is 29
message capacity is 56
Is empty: false
Contains smoke: true
message is Jupiter is gaz and mirrors!
word is Jupiter
word is is
word is smoke
word is and
word is mirrors!
s capacity is  4 bytes
s capacity is  now 8 bytes
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ‰€æœ‰æƒ"><a class="header" href="#æ‰€æœ‰æƒ">æ‰€æœ‰æƒ</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    /*éœ€è¦æ¸…ç†ä¸å†éœ€è¦çš„å·²åˆ†é…å†…å­˜å—
    åœ¨C/C++ä¸­ï¼šmalloc()å’Œfree()ç”¨äºæ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚
    å¦ä¸€ç§æ–¹æ³•æ˜¯åƒåœ¾æ”¶é›†ï¼Œå®ƒæ˜¯è‡ªåŠ¨çš„ */ /*
    Rustä½¿ç”¨OWNERSHIPç³»ç»Ÿã€‚
       - å˜é‡è´Ÿè´£é‡Šæ”¾è‡ªå·±çš„èµ„æº
       - æ¯ä¸ªå€¼åœ¨åŒä¸€æ—¶é—´åªèƒ½ç”±ä¸€ä¸ªå˜é‡æ‹¥æœ‰
       - å½“æ‹¥æœ‰çš„å˜é‡è¶…å‡ºèŒƒå›´æ—¶ï¼Œè¯¥å€¼å°±ä¼šè¢«ä¸¢å¼ƒã€‚
       - æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ªå€¼çš„æ‰€æœ‰æƒä»ä¸€ä¸ªå˜é‡è½¬ç§»åˆ°å¦ä¸€ä¸ªå˜é‡ã€‚
    */ 
    let outer_planet: String;
    let outer_galaxy: String;
    let outer_planet_position: i32; 
    // å†…éƒ¨ä»£ç å—èŒƒå›´ 
    {
        let inner_planet = String::from(&quot;Mercury&quot;);
        println!(&quot;inner_planet is {}&quot;, inner_planet); 
        /*
        å› ä¸ºæ‰€æœ‰æƒè§„å®šæ¯ä¸ªå€¼/æ•°æ®åªæœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚
         - inner_planetå°†ä¸å†æŒ‡å‘å †ä¸Šçš„Stringå€¼ã€‚
         - åœ¨Rustä¸­ï¼Œå°†æ‰€æœ‰æƒä»ä¸€ä¸ªå˜é‡è½¬ç§»åˆ°å¦ä¸€ä¸ªå˜é‡è¢«ç§°ä¸º &quot;ç§»åŠ¨&quot;ã€‚
         - è¿™æ„å‘³ç€åœ¨Rustä¸­æ²¡æœ‰å­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®çš„æµ…å±‚æ‹·è´ã€‚
            (æµ…å±‚æ‹·è´=å¤šä¸ªå˜é‡æŒ‡å‘å†…å­˜ä¸­çš„ç›¸åŒæ•°æ®)
        */ 
        // è½¬ç§»æ‰€æœ‰æƒ
        outer_planet = inner_planet; 
        // åœ¨è½¬ç§»å­—ç¬¦ä¸²æ•°æ®çš„æ‰€æœ‰æƒåï¼Œä¸èƒ½å†ä½¿ç”¨inner_planetå˜é‡äº†
        // println! (&quot;inner_planet is {}&quot;, inner_planet); 
        // =&gt; ä¼šå‡ºç°panic
        let mut inner_galaxy = String::from(&quot;Milky Way&quot;);
        println!(&quot;inner_galaxy is {}&quot;, inner_galaxy); 
        //é‡å¤å­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®ï¼Œåˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°æ®çš„æ·±åº¦æ‹·è´

        outer_galaxy = inner_galaxy.clone(); 
        inner_galaxy.clear();
        println!(&quot;inner_galaxy is now: {}&quot;, inner_galaxy);
        println!(&quot;outer_galaxy is {}&quot;, outer_galaxy); 
        // æ•´æ•°æ•°æ®ç±»å‹ä½åœ¨å †æ ˆä¸­ã€‚
        let mut inner_planet_position = 1;
        println!(&quot;inner_planet_position is {}&quot;, inner_planet_position);
        /*
        ä¸º outer_planet_position åˆ›å»ºä¸€ä¸ªæ•´æ•°æ•°æ®çš„å‰¯æœ¬ã€‚
        - æ‰€æœ‰æƒå—åˆ°å°Šé‡ï¼ˆæ²¡æœ‰æµ…å±‚æ‹·è´--æ¯æ¬¡æ¯ä¸ªå€¼åªæœ‰ä¸€ä¸ªå˜é‡ï¼‰--é€šå¸¸STACK-ONLYæ•°æ®ç±»å‹ï¼ˆå³å›ºå®šå¤§å°ï¼‰è¢«éšå¼æ‹·è´
            å½“åŒ…å«å®ƒä»¬çš„å˜é‡è¢«åˆ†é…ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ - å­˜å‚¨åœ¨å †æ ˆä¸­çš„æ•°æ®ç±»å‹å®ç°äº†å…è®¸å®ƒä»¬è¢«å¤åˆ¶è€Œä¸æ˜¯ç§»åŠ¨çš„ç‰¹æ€§
        */ 
        outer_planet_position = inner_planet_position;
        inner_planet_position += 4; 
        println!(&quot;inner_planet_position is {}&quot;, inner_planet_position); 
        println!(&quot;outer_planet_position is {}&quot;, outer_planet_position); 
    } 
    println!(&quot;\nouter_planet is {}&quot;, outer_planet);
    println!(&quot;outer_galaxy is {}&quot;, outer_galaxy);
    println!(&quot;outer_planet_position is {}&quot;, outer_planet_position);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>inner_planet is Mercury
inner_galaxy is Milky Way
inner_galaxy is now:
outer_galaxy is Milky Way
inner_planet_position is 1
inner_planet_position is 5
outer_planet_position is 1
</code></pre>
<p>æ›´å¤šæ¡ˆä¾‹:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut arr_1: [u8; 2] = [33, 66]; 
    // ////////////////
    // å›ºå®šé•¿åº¦çš„ç±»å‹ï¼ˆå­˜å‚¨åœ¨å †æ ˆä¸­ï¼‰è¢«COPIEDã€‚
    // //////////////// 
    let arr_2 = arr_1;
    println!(&quot;arr_1 is {:?}&quot;, arr_1);
    arr_1 = [1, 2];
    println!(&quot;arr_1 is now {:?}&quot;, arr_1);
    println!(&quot;arr_2 is {:?}&quot;, arr_2); 
    // ////////////////
    // å¯å˜é•¿åº¦ç±»å‹çš„å€¼å°†æ‰€æœ‰æƒè½¬ç§»åˆ°æ–°çš„å˜é‡ä¸Š
    // //////////////// 
    let vec_1 = vec![3, 4];
    let vec_2 = vec_1; 
    //ä¸èƒ½å†ä½¿ç”¨æ‰€æœ‰æƒå·²è¢« &quot;è½¬ç§» &quot;çš„å˜é‡äº† 
    // 
    println!(&quot;vec_1 is {:?}&quot;, vec_1); 
    // =&gt; wll panic println! (&quot;vec_2 is {:?}&quot;, vec_2); 
    // å€Ÿç”¨ä¸€ä¸ªå˜é‡æ‰€æ‹¥æœ‰çš„å€¼è€Œä¸ç§»åŠ¨æ‰€æœ‰æƒã€‚
    // ä½¿ç”¨å¯¹è¯¥å€¼çš„å¼•ç”¨ 
    let vec_4 = vec![5, 6, 7]; 
    //ç”¨ä¸€ä¸ªå¼•ç”¨æ¥å€Ÿå–å€¼ï¼ˆ&amp;&lt;NAME&gt;ï¼‰ã€‚
    let vec_5 = &amp;vec_4;
    println!(&quot;vec_4 is {:?}&quot;, vec_4);
    println!(&quot;vec_5 is {:?}&quot;, vec_5);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>è¾“å‡º
arr_1 is [33, 66]
arr_1 is now [1, 2]
arr_2 is [33, 66]
vec_2 is [3, 4]
vec_4 is [5, 6, 7]
vec_5 is [5, 6, 7]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è½¬è®©æ‰€æœ‰æƒå­˜å‚¨åœ¨stackä¸Šçš„æ•°æ®"><a class="header" href="#è½¬è®©æ‰€æœ‰æƒå­˜å‚¨åœ¨stackä¸Šçš„æ•°æ®">è½¬è®©æ‰€æœ‰æƒï¼ˆå­˜å‚¨åœ¨STACKä¸Šçš„æ•°æ®ï¼‰</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let rocket_fuel = 1;
    process_fuel(rocket_fuel);
    println!(&quot;rocket_fuel is {}&quot;, rocket_fuel);
}
/*
    - å› ä¸ºæ¨è¿›å‰‚æ˜¯i32çš„ï¼Œæ‰€ä»¥ä½åœ¨å †æ ˆä¸Šã€‚
    ä½œä¸ºå‚æ•°ä¼ é€’çš„å€¼åœ¨fnèŒƒå›´å†…è¢«å¤åˆ¶ã€‚
    - ä¸ºäº†èƒ½å¤Ÿä¿®æ”¹å‡½æ•°èŒƒå›´å†…çš„æ‹·è´ï¼Œè¯·ä½¿ç”¨mutå…³é”®å­—
*/
fn process_fuel(mut propellant: i32) {
    //å‰¯æœ¬è¢«ä¿®æ”¹ 
    propellant += 2;
    println!(&quot;Processing propellant {}&quot;, propellant);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Processing propellant 3
rocket_fuel is 1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è½¬è®©æ‰€æœ‰æƒå­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®"><a class="header" href="#è½¬è®©æ‰€æœ‰æƒå­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®">è½¬è®©æ‰€æœ‰æƒï¼ˆå­˜å‚¨åœ¨å †ä¸Šçš„æ•°æ®)</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let rocket_fuel = String::from(&quot;MU-RF&quot;);
    process_fuel(rocket_fuel); 
    //å­—ç¬¦ä¸²çš„æ‰€æœ‰æƒå·²ç»è½¬ç§»åˆ°äº†æ¨è¿›å‰‚å˜é‡ä¸Šã€‚

    // ä¸‹é¢çš„ä»£ç ä¼šå‡ºç°ææ…Œï¼Œå› ä¸ºç«ç®­ç‡ƒæ–™çš„æ‰€æœ‰æƒå·²ç»è¢«å‰¥å¤ºï¼Œæ‰€ä»¥ä½ ä¸èƒ½å†ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚
    println!(&quot;rocket_fuel is {}&quot;, rocket_fuel);
}
/*
    - å› ä¸ºæ¨è¿›å‰‚æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å­˜åœ¨äºHEAPä¸­ã€‚
    - å½“ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œæ•°æ®å­˜å‚¨åœ¨å †ä¸­ã€‚
    - å‡½æ•°çš„å±€éƒ¨å˜é‡å¾—åˆ°ä¸€ä¸ªæŒ‡å‘æ‰€ä¼ é€’æ•°æ®çš„æŒ‡é’ˆ
    - å› æ­¤ï¼Œæœ¬åœ°å‡½æ•°å˜é‡è·å¾—äº†æ•°æ®çš„æ‰€æœ‰æƒã€‚
*/
fn process_fuel(propellant: String) {
    //æ¨è¿›å™¨å¯¹å­˜å‚¨åœ¨å †ä¸Šçš„å­—ç¬¦ä¸²æ•°æ®æ‹¥æœ‰æ‰€æœ‰æƒ 
    println!(&quot;Processing propellant {}&quot;, propellant);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Processing propellant MU-RF
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šä½œä¸ºä¸€ä¸ªNode.jså¼€å‘è€…ï¼Œéœ€è¦è®°ä½çš„æ˜¯ï¼Œä¸å¯å˜é•¿åº¦æ•°æ®ç›¸å…³çš„å˜é‡ï¼ˆåˆç§°å­˜å‚¨åœ¨å †ä¸Šçš„å˜é‡ï¼‰å¹¶ä¸åŒ…å«æ•°æ®æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…å­˜ä¸­æ•°æ®çš„æŒ‡é’ˆã€‚æŒ‡é’ˆæ˜¯å¯¹æ•°æ®çš„å¼•ç”¨ï¼Œä½†ä¹Ÿä¸æ˜¯æ•°æ®æœ¬èº«ï¼Œå®ƒæè¿°äº†æ•°æ®ä»¥åŠå¦‚ä½•æ£€ç´¢å®ƒã€‚</p>
</blockquote>
<p>ä¸ºäº†ä¿æŒRocket_fuelå˜é‡å¯¹è¯¥å­—ç¬¦ä¸²çš„æ‰€æœ‰æƒï¼Œä½ å¯ä»¥å…‹éš†è¯¥æ•°æ®ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let rocket_fuel = String::from(&quot;MU-RF&quot;); 
    //å­—ç¬¦ä¸²çš„æ‰€æœ‰æƒç”±rocket_fuelå˜é‡ä¿å­˜ã€‚
    //å­—ç¬¦ä¸²æ•°æ®çš„å…‹éš†/æ‹·è´ä½œä¸ºå‚æ•°è¢«ä¼ é€’ã€‚
    process_fuel( rocket_fuel.clone() );

    // æ²¡æœ‰panicï¼Œå› ä¸ºRocket_fuelä»ç„¶æ‹¥æœ‰å­—ç¬¦ä¸²æ•°æ®ã€‚
    println!(&quot;rocket_fuel is {}&quot;, rocket_fuel);
}
fn process_fuel(propellant: String) {
    // æ¨è¿›å™¨å¯¹å…‹éš†çš„å­—ç¬¦ä¸²æ•°æ®æ‹¥æœ‰æ‰€æœ‰æƒ 
    // å…‹éš†ä¸Šçš„çªå˜å½“ç„¶ä¸ä¼šå½±å“åŸå§‹æ•°æ®ï¼ˆä½†è¯·è®°ä½ï¼Œä½ éœ€è¦åœ¨å‡½æ•°ç­¾åä¸­å£°æ˜çªå˜ï¼‰ã€‚
    println!(&quot;Processing propellant {}&quot;, propellant);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Processing propellant MU-RF
rocket_fuel is MU-RF
</code></pre>
<p>å¦‚æœä½ ä¸æƒ³å¤åˆ¶æ•°æ®ï¼Œéœ€è¦åŸå§‹å˜é‡ä¿æŒæ•°æ®çš„æ‰€æœ‰æƒï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨å‡½æ•°å®Œæˆåå°†æ‰€æœ‰æƒä¼ å›ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut rocket_fuel = String::from(&quot;MU-RF&quot;); 
    // å½“ç„¶ï¼Œä½ å¯ä»¥å†æ¬¡å£°æ˜ï¼Œè€Œä¸éœ€è¦Mut 
    rocket_fuel = process_fuel(rocket_fuel); 
    println!(&quot;rocket_fuel is {}&quot;, rocket_fuel);
}
// æ³¨æ„å‚æ•°å£°æ˜ä¸­çš„ mutï¼Œä»¥ä¾¿èƒ½å¤Ÿå¯¹å‡½æ•°èŒƒå›´å†…ä¼ é€’çš„æ•°æ®è¿›è¡Œå˜å¼‚ã€‚
// æ³¨æ„å­—ç¬¦ä¸²çš„è¿”å›ç±»å‹å’Œæœ€åä¸€è¡Œæ²¡æœ‰åˆ†å·ã€‚
fn process_fuel(mut propellant: String) -&gt; String {
    println!(&quot;Processing propellant {}&quot;, propellant);

    propellant.push_str(&quot;-super&quot;);

    propellant
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Processing propellant MU-RF
rocket_fuel is MU-RF-super
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å€Ÿç”¨"><a class="header" href="#å€Ÿç”¨">å€Ÿç”¨</a></h1>
<p>All this stuff about ownership is great but what if you don't need to transfer ownership, you just need the data:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    
// å€Ÿç”¨ï¼šåœ¨ä¸å–å¾—æ‰€æœ‰æƒçš„æƒ…å†µä¸‹è®¿é—®æ•°æ® 
//åˆ›å»ºä¸€ä¸ªä½ æƒ³å€Ÿç”¨çš„å˜é‡çš„å¼•ç”¨
    
// ä½¿ç”¨å€Ÿç”¨æ“ä½œç¬¦&quot;&amp;&quot;ã€‚
let rocket_fuel = String::from(&quot;MU-RF&quot;); 
// æ³¨æ„å€Ÿç”¨æ“ä½œç¬¦æ¥åˆ›å»ºä¸€ä¸ªå¼•ç”¨
    
// è¯¥å‡½æ•°æœŸæœ›çš„æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå€¼ 
let length = process_fuel(&amp;rocket_fuel); 
println!(&quot;rocket_fuel is {}, length: {}&quot;, rocket_fuel,length);
}
// æ³¨æ„å‚æ•°ç±»å‹ä¸­çš„å€Ÿç”¨æ“ä½œç¬¦

// æˆ‘ä»¬å¸Œæœ›propellantæ˜¯å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼•ç”¨ã€‚

// è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å€¼(/pointer to it...)
fn process_fuel(propellant: &amp;String) -&gt; usize {
    
// propellantæ˜¯æŒ‡å‘å­—ç¬¦ä¸²æ•°æ®çš„å˜é‡çš„ä¸€ä¸ªå¼•ç”¨ï¼Œç”¨æ¥å€Ÿç”¨æ•°æ®ã€‚
// å†è¯´ä¸€éï¼Œè¿™é‡Œæ²¡æœ‰SHALLOW COPYï¼Œå› ä¸ºpropellantå€Ÿç”¨äº†æŒ‡é’ˆï¼Œå®ƒç¡®å®åŒ…å«äº†æŒ‡é’ˆæœ¬èº«ï¼ˆå‡è®¾å®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªæŒ‡é’ˆçš„æŒ‡é’ˆ...ï¼‰ã€‚
println!(&quot;Processing propellant {}&quot;, propellant);
    let length = propellant.len();
    length 
//å½“æ¨è¿›å‰‚å˜é‡åœ¨å‡½æ•°ç»“æŸæ—¶è¶…å‡ºèŒƒå›´ã€‚
    
// å­—ç¬¦ä¸²æ•°æ®ä»ç„¶åœ¨å †ä¸­ï¼Œå› ä¸ºå®ƒä»ç„¶å±äºåŸå§‹å˜é‡ï¼ˆç«ç®­ç‡ƒæ–™ï¼‰ã€‚
    }
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
Processing propellant MU-RF
rocket_fuel is MU-RF, lenght: 5

In Rust, data will most often be passed byÂ referenceÂ (borrowed)than by value (ownership transfer). But you still need to know which variable really owns the data.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ”¹å˜å€Ÿç”¨æ•°æ®"><a class="header" href="#æ”¹å˜å€Ÿç”¨æ•°æ®">æ”¹å˜å€Ÿç”¨æ•°æ®</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // æ³¨æ„å®ƒæ˜¯ä¸€ä¸ªå¯å˜çš„å˜é‡ 
    let mut rocket_fuel = String::from(&quot;MU-RF&quot;); 
    // æ³¨æ„æˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªå¯å˜çš„å¼•ç”¨ï¼ˆ&amp;mut &lt;TYPE&gt;ï¼‰ã€‚
    let length = process_fuel(&amp;mut rocket_fuel); 
    println!(&quot;rocket_fuel is {}, length: {}&quot;, rocket_fuel, length);
}
// æ³¨æ„å‚æ•°åˆ—è¡¨ä¸­çš„&amp;mut
// æˆ‘ä»¬å¸Œæœ›propellantæ˜¯ä¸€ä¸ªå¯¹Stringçš„å¯å˜å¼•ç”¨
fn process_fuel(propellant: &amp;mut String) -&gt; usize {
    println!(&quot;Processing propellant {}&quot;, propellant); 
    //çªå˜å€Ÿæ¥çš„æ•°æ® 
    propellant.push_str(&quot;333&quot;); 
    let length = propellant.len();
    length
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Processing propellant MU-RF
rocket_fuel is MU-RF333, lenght: 8
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å€Ÿç”¨çš„æ•°æ®é™åˆ¶"><a class="header" href="#å€Ÿç”¨çš„æ•°æ®é™åˆ¶">å€Ÿç”¨çš„æ•°æ®é™åˆ¶</a></h1>
<p>ä¸€æ—¦ä½ ä¸ºä¸€ä¸ªå˜é‡åˆ›å»ºäº†ä¸€ä¸ªå¯å˜çš„å¼•ç”¨ï¼Œä½ å°±ä¸èƒ½åœ¨åŒä¸€èŒƒå›´å†…ä¸ºå®ƒåˆ›å»ºå…¶ä»–å¼•ç”¨ã€‚</p>
<p>è¿™å¯ä»¥é˜²æ­¢æ•°æ®ç«èµ›ï¼Œå› ä¸ºå½“å¤šä¸ªå¼•ç”¨å¯ä»¥è®¿é—®å’Œå˜å¼‚ç›¸åŒçš„æ•°æ®æ—¶ï¼Œä¼šå‘ç”Ÿæ•°æ®ç«èµ›ã€‚</p>
<p>åœ¨ç¼–å†™å¤„ç†å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„ç¨‹åºæ—¶ï¼Œæ•°æ®ç«èµ›æ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜
ï¼ˆä¸ç®¡æ˜¯ä»€ä¹ˆç¼–ç¨‹è¯­è¨€---å³ä½¿æ˜¯ä½¿ç”¨Node.jsçš„JavaScript[å®ƒåº”è¯¥æ˜¯å•çº¿ç¨‹çš„......ä½†é«˜çº§ç”¨ä¾‹å…è®¸å¤šå¤„ç†å’Œå¤šçº¿ç¨‹......äº†è§£ä½ çš„å·¥å…·ï¼] ï¼‰ã€‚]).</p>
<p>è¿™ç§é™åˆ¶å…è®¸Ruståœ¨ç¼–è¯‘æ—¶é˜²æ­¢æ•°æ®ç«èµ›ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼ˆæ³¨æ„å¤§æ‹¬å·è¡¨ç¤ºä¸åŒçš„ä½œç”¨åŸŸï¼‰ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    
// IMMUTABLEå¼•ç”¨ = æ¯ä¸ªèŒƒå›´å†…ä½ æƒ³è¦å¤šå°‘å°±æœ‰å¤šå°‘ 
    {
        let something = String::from(&quot;a thing&quot;); 
        let one_ref = &amp;something;
        let another_ref = &amp;something;
        let some_ither_ref = &amp;something; 
        println!(&quot;{:?}&quot;, (one_ref, another_ref, some_ither_ref));
    } 
// MUTABLEå¼•ç”¨ = æ¯ä¸ªèŒƒå›´ä¸€ä¸ª 
    {
        let mut something_changing = String::from(&quot;another thing&quot;); 
        let the_one_and_only_ref = &amp;mut something_changing; 
// ä¸èƒ½åˆ›å»ºå¯¹ &quot;something_changing &quot;çš„å…¶ä»–å¼•ç”¨ã€‚
        
// ä¸ç®¡æ˜¯å¯å˜çš„è¿˜æ˜¯ä¸å¯å˜çš„ 
// ä»¥ä¸‹æƒ…å†µä¼šä½¿ç¨‹åºæƒŠæ…Œå¤±æª
        
// 
        let trying_ref = &amp;something_changing;
        
// 
        let trying_other_ref = &amp;mut something_changing; 
        println!(&quot;It's only {}&quot;, the_one_and_only_ref);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>(&quot;a thing&quot;, &quot;a thing&quot;, &quot;a thing&quot;)
It's only another thing
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æœªçŸ¥å¼•ç”¨"><a class="header" href="#æœªçŸ¥å¼•ç”¨">æœªçŸ¥å¼•ç”¨</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let everything = create_something(); 
    // &quot;everything &quot;æ˜¯ä¸€ä¸ªé™ˆæ—§çš„å¼•ç”¨ï¼ŒæŒ‡å‘ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚
    // ç¨‹åºå°†æ— æ³•ç¼–è¯‘ 
    println!(&quot;everything is {}&quot;, everything);
}
// notice the return type
fn create_something() -&gt; &amp;String {
    let new_thing = String::from(&quot;new in town&quot;); 
    // è¿™æ˜¯ä¸€ä¸ªæ‚¬ç©ºçš„å¼•ç”¨ï¼Œå› ä¸ºã€‚
    å› ä¸º: // new_thingåœ¨å‡½æ•°ç»“æŸæ—¶å·²ç»è¶…å‡ºäº†èŒƒå›´ã€‚
    // è¿”å›å¯¹è¯¥å˜é‡çš„å¼•ç”¨æ˜¯æ²¡æœ‰æ„ä¹‰çš„
    // å› ä¸ºæ•°æ®å·²ç»ä»å†…å­˜ä¸­åˆ é™¤äº†ï¼Œå› ä¸ºå®ƒä¸å†å±äºä¸€ä¸ªå˜é‡äº†ã€‚
    &amp;new_thing
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>ç¨‹åºå°†æ— æ³•ç¼–è¯‘ï¼Œå› ä¸ºå­˜åœ¨æ‚¬ç©ºå¼•ç”¨ã€‚è§£å†³åŠæ³•æ˜¯å¯¹åˆ›å»ºçš„å­—ç¬¦ä¸²è€Œä¸æ˜¯å¯¹å®ƒçš„å¼•ç”¨ã€‚
</code></pre>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let everything = create_something();
    println!(&quot;everything is {}&quot;, everything);
}
fn create_something() -&gt; String {
    let new_thing = String::from(&quot;new in town&quot;);
    new_thing
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>everything is new in town
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ•°æ®ç»“æ„"><a class="header" href="#æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</a></h1>
<ul>
<li>ç”¨æ¥åˆ†ç»„æ··åˆæ•°æ®ç±»å‹çš„å¤šä¸ªç›¸å…³é¡¹ç›®</li>
<li>å…ƒç´ è¢«å‘½åï¼ˆä¸å›¾å…ƒä¸åŒï¼Œå›¾å…ƒæ˜¯æœ‰é¡ºåºçš„</li>
<li>ä¸¤ç§ç»“æ„ï¼ˆå¸¸è§„ç»“æ„å’Œå…ƒç»„ç»“æ„</li>
</ul>
<pre><pre class="playground"><code class="language-rust">// tupleç»“æ„
// ç”¨äºå­˜å‚¨æ²¡æœ‰å‘½åå­—æ®µçš„æ··åˆæ•°æ®é›†åˆ
// ç”¨äºåŒºåˆ†ä¸ºç‰¹å®šçš„ç±»å‹
// ï¼ˆä¸æ˜¯æ™®é€šçš„å…ƒç»„ï¼‰ç»“æ„ Signal(u8, bool, String)ã€‚
// å¸¸è§„ç»“æ„
// ç»“æ„åç§°è¢«å¤§å†™
//åƒJavaScriptå’ŒOOPä¸­çš„ç±»ä¸€æ ·
struct Car {
    // ç»“æ„ä¸­çš„å­—æ®µ
    model: String,
    year: String,
    used: bool,
}
// æ–¹æ³•ï¼šä¸ç»“æ„ç›¸å…³çš„å‡½æ•°/å­ç¨‹åº
// æ–¹æ³•æ˜¯åœ¨ç»“æ„çš„ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„ã€‚
// æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹ä¸€ä¸ªç»“æ„å®ä¾‹çš„å¼•ç”¨
impl Car {
    // construct car
    fn new(m: &amp;str, y: &amp;str) -&gt; Car {
        Car {
            model: m.to_string(),
            year: y.to_string(),
            used: false,
        }
    } 
    // selfç­‰åŒäºJavaScriptä¸­çš„ &quot;this&quot;ã€‚
    fn serialize(&amp;self) -&gt; String {
        format!(
            &quot;model: {} - year: {} - used: {}&quot;,
            self.model, self.year, self.used
        )
    } 
    // å˜æ›´çŠ¶æ€
    fn marked_used(&amp;mut self) {
        self.used = true;
    }
}
struct Position {
  latitude: f64,
  longitude: f64
}
fn print_signal(s: &amp;Signal) {
    println!(&quot;s1 is {}, {}, {}&quot;, s.0, s.1, s.2);
}
fn main() {
    let mut pos_1 = Position {
        latitude: 27.299112,
        longitude: 95.387110,
    }; 
    println!(
      &quot;pos_1 is {:.3}, {:.3}&quot;,
      pos_1.latitude,
      pos_1.longitude
    ); 
    pos_1.latitude = 23.1111;
    println!(
      &quot;pos_1 is now {:.3}, {:.3}&quot;,
      pos_1.latitude,
      pos_1.longitude
    ); 
    let mut s1 = Signal(0, true, String::from(&quot;ok&quot;)); 
    // å…ƒç»„ç»“æ„çš„å­—æ®µå¯ä»¥åƒæ™®é€šå…ƒç»„çš„å€¼ä¸€æ ·è¢«è®¿é—®ã€‚
    // ä½¿ç”¨å®ƒä»¬çš„ç´¢å¼•
    // è®°ä½å…ƒç»„ç»“æ„æ²¡æœ‰å‘½åçš„å­—æ®µ 
    print_signal(&amp;s1); 
    s1.0 = 23;
    s1.1 = false;
    s1.2 = String::from(&quot;NETERR&quot;); 
    println!(&quot;s1 is now {}, {}, {}&quot;, s1.0, s1.1, s1.2); 
    let car_1 = Car::new(&quot;QBC&quot;, &quot;2133&quot;);
    println!(&quot;car_1 is a {} of {}&quot;, car_1.model, car_1.year); 
    let is_used = if car_1.used == true {
        &quot;used&quot;
    } else {
        &quot;brand new&quot;
    };
    println!(&quot;car_1 is {}&quot;, is_used);
    println!(&quot;car_1 is {}&quot;, car_1.serialize()); 
    let mut car_2 = Car::new(&quot;ZZ7&quot;, &quot;2042&quot;);
    println!(&quot;car_2 is a {}&quot;, car_2.serialize()); 
    car_2.marked_used();
    println!(&quot;car_2 is now {}&quot;, car_2.serialize());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>pos_1 is 27.299, 95.387
pos_1 is now 23.111, 95.387
s1 is 0, true, ok
s1 is now 23, false, NETERR
car_1 is a QBC of 2133
car_1 is brand new
car_1 is model: QBC - year: 2133 - used: false
car_2 is a model: ZZ7 - year: 2042 - used: false
car_2 is now model: ZZ7 - year: 2042 - used: true
</code></pre>
<p>æ›´å¤šç»“æ„çš„ç¤ºä¾‹ï¼š</p>
<pre><pre class="playground"><code class="language-rust">// éœ€è¦ä½¿ç”¨debugå’Œclone traits
// èƒ½å¤Ÿç”¨è°ƒè¯•è¿ç®—ç¬¦æ‰“å°ç»“æ„ä½“çš„å®ä¾‹
// èƒ½å¤Ÿå…‹éš†è¯¥ç»“æ„çš„ä¸€ä¸ªå®ä¾‹ã€‚
// ä»¥åä¼šæœ‰æ›´å¤šå…³äºç‰¹è´¨çš„å†…å®¹
#[derive(Debug, Clone)]
struct Spaceship {
    name: String,
    crew: u8,
    propellant: f64,
}
// methods are defined within a impl block
impl Spaceship {
    fn get_name(&amp;self) -&gt; &amp;str {
      //ç”¨å€Ÿè´·è¿ç®—ç¬¦å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç‰‡æ–­ 
      &amp;self.name
    } 
    fn add_fuel(&amp;mut self, gallons: f64) {
        self.propellant += gallons;
    } 
    // è¿™æ˜¯ä¸€ä¸ªå…³è”å‡½æ•°
    // ä¸ç»“æ„æ•°æ®ç±»å‹ç›¸å…³è”
    // ä¸æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ²¡æœ‰&amp;selfå¼•ç”¨
    // ç”¨äºä¸è¯¥ç»“æ„ç›¸å…³çš„ä¸€èˆ¬å‡½æ•°ã€‚
    // è€Œä¸æ˜¯ä¸€ä¸ªç‰¹å®šçš„å®ä¾‹
    //ï¼ˆå°±åƒé¢å‘å¯¹è±¡ä¸­çš„ç±»é™æ€æ–¹æ³•ï¼‰ã€‚
    // é€šå¸¸ç”¨äºæ„å»ºç»“æ„ä½“çš„å®ä¾‹ 
    fn new(name: &amp;str) -&gt; Spaceship {
      Spaceship {
        name: String::from(name),
        crew: 11,          // é»˜è®¤å€¼ï¼Œæ‰€æœ‰å®ä¾‹éƒ½ä¸€æ ·
        propellant: 0.0    // é»˜è®¤å€¼ï¼Œæ‰€æœ‰å®ä¾‹éƒ½ä¸€æ ·
      }
    }
}
fn main() {
    let mut spaceship1 = Spaceship {
        name: String::from(&quot;spaceship1&quot;),
        crew: 123,
        propellant: 1234567.654,
    }; 
    //è®¿é—®å­—æ®µå€¼ 
    println!(&quot;spaceship1 has {} members.&quot;, spaceship1.crew); 
    spaceship1.crew = 99; 
    println!(
        &quot;After attack, spaceship1 has now {} members.&quot;,
        spaceship1.crew
    ); 
    println!(&quot;spaceship1 is {:?}&quot;, spaceship1); 
    // é»˜è®¤æƒ…å†µä¸‹ï¼Œç»“æ„æ•°æ®è¢«å­˜å‚¨åœ¨ STACK ä¸Šã€‚
    // å¦‚æœç»“æ„åŒ…å«HEAPå­˜å‚¨çš„æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼‰ã€‚
    // æŒ‡é’ˆå­˜å‚¨åœ¨STACKä¸Šï¼Œæ•°æ®å­˜å‚¨åœ¨HEAPä¸Šã€‚
    // ä»å…¶ä»–å®ä¾‹çš„å­—æ®µä¸­åˆ›å»ºç»“æ„å®ä¾‹
    //ï¼ˆå°±åƒJSä¸­çš„spread operatorï¼Œä½†æ˜¯æ˜¯ä¸¤ä¸ªç‚¹è€Œä¸æ˜¯ä¸‰ä¸ªç‚¹ï¼‰ã€‚
    // è¿™å°±æ˜¯æ‰€è°“çš„ç»“æ„æ›´æ–°è¯­æ³•
    // å®ƒå…è®¸åˆ›å»ºæ–°çš„å®ä¾‹
    // é€šè¿‡å¤åˆ¶ç°æœ‰å®ä¾‹çš„å­—æ®µå€¼æ¥åˆ›å»ºæ–°å®ä¾‹
    //ï¼ˆé™¤äº†åœ¨æ–°å®ä¾‹ä¸­æ˜ç¡®è®¾ç½®çš„å­—æ®µï¼‰ã€‚
    let spaceship2 = Spaceship {
        name: String::from(&quot;Galactos&quot;),
        ..spaceship1
    }; 
    println!(&quot;spaceship2 is {:?} members.&quot;, spaceship2); 
    // åœ¨ä¿®æ”¹å¤åˆ¶çš„ç»“æ„å®ä¾‹æ—¶
    // ä¸ä¼šå½±å“å¤åˆ¶åçš„æ–°å®ä¾‹ã€‚
    //ï¼ˆä¸ä¿ç•™çš„JavaScriptå¼•ç”¨ä¸åŒã€‚
    // å½“ç”¨æ•°ç»„ä¼ æ’­å¯¹è±¡æ—¶......) 
    spaceship1.name = String::from(&quot;Battlestar&quot;); 
    spaceship1.crew = 78; 
    assert_eq!(spaceship2.crew, 99); 
    println!(&quot;spaceship1 is {:?}&quot;, spaceship1); 
    println!(&quot;spaceship2 is {:?}&quot;, spaceship2); 
    // è¦å¤åˆ¶æ‰€æœ‰å­—æ®µï¼Œç”šè‡³æ˜¯åŸºäºå †çš„å­—æ®µã€‚
    // ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªç»“æ„å®ä¾‹çš„å‰¯æœ¬ã€‚
    // å¦åˆ™ï¼Œå½“ä½¿ç”¨ç»“æ„æ›´æ–°è¯­æ³•æ—¶ï¼Œä¼šè½¬ç§»åŸºäºå †çš„æ•°æ®çš„æ‰€æœ‰æƒ
    // è¿™æ„å‘³ç€ä½ ä¸èƒ½å†ä½¿ç”¨å¤åˆ¶çš„å®ä¾‹ä¸­çš„ç›¸å…³å­—æ®µã€‚
    let mut spaceship3 = Spaceship {
        //éœ€è¦æ‰‹åŠ¨å®ç°å…‹éš†ç‰¹æ€§
        //åœ¨ç»“æ„å®šä¹‰ä¸­ï¼ˆè§ä¸Šæ–‡ï¼‰ã€‚
        ..spaceship1.clone()
    }; 
    println!(&quot;spaceship3 is {:?}&quot;, spaceship3); 
    let name = spaceship3.get_name(); 
    println!(&quot;name is {}&quot;, name); 
    println!(&quot;spaceship3 propellant is {}&quot;, spaceship3.propellant);

    spaceship3.add_fuel(4567.113);

    println!(
      &quot;After going to space refuel station, spaceship3 propellant is now {}&quot;,
      spaceship3.propellant
    ); 
    //è¦è°ƒç”¨ä¸€ä¸ªæŒ‡å®šçš„å‡½æ•°ï¼Œè¯·ä½¿ç”¨è·¯å¾„æ“ä½œç¬¦ï¼ˆ::ï¼‰ã€‚
    let spaceship4 = Spaceship::new(&quot;Serenity&quot;); 
    assert_eq!(spaceship4.crew, 11);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æšä¸¾"><a class="header" href="#æšä¸¾">æšä¸¾</a></h1>
<pre><pre class="playground"><code class="language-rust">
//å®šä¹‰äº†ä¸€ä¸ªå…·æœ‰å¤šç§å¯èƒ½å˜ä½“çš„æ•°æ®ç±»å‹
enum Controller {
    Turbo,
    Up,
    Down,
    Left,
    Right,
    X,
    Y,
    A,
    B,
}
fn push_button_notify(c: &amp;Controller) {
    
// æ¨¡å¼åŒ¹é…ï¼ˆç›¸å½“äºJavaScriptä¸­çš„switchï¼‰ã€‚
    match c {
        Controller::Turbo =&gt; println!(&quot;Turbo button pushed.&quot;),
        Controller::Up =&gt; println!(&quot;Up button pushed.&quot;),
        Controller::Down =&gt; println!(&quot;Down button pushed.&quot;),
        Controller::Left =&gt; println!(&quot;Left button pushed.&quot;),
        Controller::Right =&gt; println!(&quot;Right button pushed.&quot;),
        Controller::Y =&gt; println!(&quot;Y button pushed.&quot;),
        Controller::X =&gt; println!(&quot;X button pushed.&quot;),
        Controller::A =&gt; println!(&quot;A button pushed.&quot;),
        Controller::B =&gt; println!(&quot;B button pushed.&quot;),
    }
}
fn main() {
    let secret_push_combo = [
        Controller::Up,
        Controller::Left,
        Controller::A,
        Controller::Turbo,
        Controller::Y,
        Controller::B,
        Controller::Turbo,
        Controller::Down,
        Controller::Right,
        Controller::X,
    ];
     for push in secret_push_combo.iter() {
        push_button_notify(push);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Up button pushed.
Left button pushed.
A button pushed.
Turbo button pushed.
Y button pushed.
B button pushed.
Turbo button pushed.
Down button pushed.
Right button pushed.
X button pushed.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è£å‰ªå­—ç¬¦ä¸²"><a class="header" href="#è£å‰ªå­—ç¬¦ä¸²">è£å‰ªå­—ç¬¦ä¸²</a></h1>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    let test1 = &quot;This is test1.        &quot;;
    assert_eq!(trim_space(&amp;test1), &quot;This is test1.&quot;); let test2 = &quot;        This is test2.&quot;;
    assert_eq!(trim_space(&amp;test2), &quot;This is test2.&quot;); let test3 = &quot;        This is test3.               &quot;;
    assert_eq!(trim_space(&amp;test3), &quot;This is test3.&quot;); let test4 = &quot;This is test4.&quot;;
    assert_eq!(trim_space(&amp;test4), &quot;This is test4.&quot;); let test5 = &quot;        &quot;;
    assert_eq!(trim_space(&amp;test5), &quot;&quot;); let test6 = &quot;&quot;;
    assert_eq!(trim_space(&amp;test6), &quot;&quot;); let test7 = &quot;    ğŸ˜¸   &quot;;
    assert_eq!(trim_space(&amp;test7), &quot;ğŸ˜¸&quot;); let test8 = &quot;     ğŸ˜¸ğŸ˜¸ test8.   &quot;;
    assert_eq!(trim_space(&amp;test8), &quot;ğŸ˜¸ğŸ˜¸ test8.&quot;); let test9 = &quot;     ğŸ˜¸ğŸ˜¸ test9. ğŸ˜¸ğŸ˜¸   &quot;;
    assert_eq!(trim_space(&amp;test9), &quot;ğŸ˜¸ğŸ˜¸ test9. ğŸ˜¸ğŸ˜¸&quot;); 
    // æ³¨æ„ï¼šRustä¸­çš„å­—ç¬¦ä¸²æœ‰ä¸€ä¸ªtrim()æ–¹æ³• 
    let test10 = &quot; ğŸ˜¸This is the last testğŸ˜¸.ğŸ˜¸      &quot;;
    let trimmed_message = test10.trim();
    assert_eq!(trimmed_message, &quot;ğŸ˜¸This is the last testğŸ˜¸.ğŸ˜¸&quot;);
}
fn trim_space(s: &amp;str) -&gt; &amp;str {
    let bytes = s.as_bytes();
    let mut result = &quot;&quot;; 
    //é€šè¿‡å¯»æ‰¾ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦æ¥ä¿®å‰ªå‰é¢çš„ç©ºæ ¼ 
    // éå†å­—ç¬¦ä¸²ç‰‡æ®µçš„å­—èŠ‚è¡¨ç¤ºæ³•
    // æˆ‘ä»¬è¿™æ ·åšæ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†ä¸­é—´çš„å­—ç¬¦ä¸²ç‰‡æ–­ 
    for (index, &amp;item) in bytes.iter().enumerate() {
        if item != b' ' {
            result = &amp;s[index..];
            break;
        }
    } 
    let bytes = result.as_bytes(); 
    //é€šè¿‡æŸ¥æ‰¾æœ€åä¸€ä¸ªéç©ºæ ¼å­—ç¬¦æ¥ä¿®å‰ªå°¾éƒ¨çš„ç©ºæ ¼ 
    for t in bytes.iter().enumerate() {
        let index = t.0;
        let reverse_index = result.len() - index;
        if bytes[reverse_index - 1] != b' ' {
            result = &amp;result[..reverse_index];
            break;
        }
    } 
    result
}
</code></pre></pre>
<p>å…¶ä»–è§£å†³æ–¹æ¡ˆ:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn trim_space(s: &amp;str) -&gt; &amp;str {
    let mut start = 0;
    let mut end = 0; 
    // éå†å­—ç¬¦ä¸²ç‰‡æ–­çš„å­—ç¬¦ 
    for (index, character) in s.chars().enumerate() {
        if character != ' ' {
            start = index;
            break;
        }
    } 
    for (index, character) in s.chars().rev().enumerate() {
        if character != ' ' {
            end = s.len() - index;
            break;
        }
    } 
    &amp;s[start..end]
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ ‡å‡†åº“"><a class="header" href="#æ ‡å‡†åº“">æ ‡å‡†åº“</a></h1>
<ul>
<li>æ–‡æ¡£:Â <a href="https://doc.rust-lang.org/std/">https://doc.rust-lang.org/std/</a></li>
</ul>
<pre><pre class="playground"><code class="language-rust">
// ä½¿ç”¨å£°æ˜æ˜¯ç”¨æ¥å¯¼å…¥æ¨¡å—/åº“çš„ã€‚
// å®ƒæŠŠä¸€ä¸ªæ¨¡å—çš„è·¯å¾„å¸¦å…¥ç¨‹åºçš„èŒƒå›´å†…
// æ ‡å‡†åº“ä¸­çš„ä¸€äº›æ¨¡å—å¹¶ä¸æ˜¯Rustè¯­è¨€æœ¬èº«çš„ä¸€éƒ¨åˆ†ã€‚
// æ„æ€æ˜¯è¯´ï¼Œä½ éœ€è¦å¯¼å…¥å®ƒä»¬--æ¯”å¦‚Node.jsä¸­çš„ &quot;fs &quot;æ¨¡å—--å¦åˆ™ç¼–è¯‘å™¨å°†ä¸çŸ¥é“å®ƒä»¬æ˜¯ä»€ä¹ˆã€‚
// å¦åˆ™ç¼–è¯‘å™¨å°†ä¸çŸ¥é“å®ƒä»¬çš„å«ä¹‰)
// æ‰€æœ‰ç¨‹åºéƒ½é»˜è®¤ä½¿ç”¨æ ‡å‡†åº“
// [prelude](https://doc.rust-lang.org/std/prelude/index.html)æ˜¯æ¯ä¸ªRustç¨‹åºéƒ½ä¼šè‡ªåŠ¨å¯¼å…¥çš„ä¸œè¥¿çš„åˆ—è¡¨ã€‚
// å®ƒå¹¶æ²¡æœ‰å¯¼å…¥æ•´ä¸ªæ ‡å‡†åº“ï¼ˆåªæœ‰æœ€å¸¸è§çš„æ ‡å‡†æ¨¡å—ï¼‰ã€‚
// å¦‚æœä¸€ä¸ªæ¨¡å—æ²¡æœ‰è¢«åŒ…å«åœ¨é¢„æ¼”ä¸­ï¼Œä½ éœ€è¦æ‰‹åŠ¨å°†å…¶å¯¼å…¥ã€‚
import ituse std::thread;
fn main() {
    let child = thread::spawn(move || 2 + 2);
    let res = child.join(); 
    println!(&quot;res is {}&quot;, res.unwrap());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
res is 4
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è§£ææ ‡å‡†è¾“å…¥"><a class="header" href="#è§£ææ ‡å‡†è¾“å…¥">è§£ææ ‡å‡†è¾“å…¥</a></h1>
<pre><pre class="playground"><code class="language-rust">
// è¯»å–å‘½ä»¤è¡Œçš„è¾“å…¥å€¼
std::io;
fn main() {
  let mut buffer = String::new();
  println!(&quot;Enter your name:&quot;); 
// ===== è®¿é—®stdinæµ ===== 
// read_line()å‡½æ•°å°†ç”¨è¾“å…¥çš„å­—ç¬¦ä¸²æ›´æ–°ç¼“å†²åŒºã€‚
  
// read_line()å‡½æ•°é˜»æ­¢ç¨‹åºçš„æ‰§è¡Œï¼Œç›´åˆ°æœ‰äººåœ¨å‘½ä»¤è¡Œä¸Šè¾“å…¥ä¸œè¥¿ä¸ºæ­¢ 
  let read_line_result = io::stdin().read_line(&amp;mut buffer);
  println!(&quot;read_line_result is {:?}&quot;, read_line_result); 
  println!(&quot;Welcome to Rust, {}&quot;, buffer); 
// ===== è§£æè¾“å…¥å­—ç¬¦ä¸² ======== 
// æ¸…é™¤ä¹‹å‰è¾“å…¥çš„ç¼“å†²åŒº
  buffer.clear(); 
  println!(&quot;Enter the year when you started learning Rust:&quot;); 
  let read_line_result = io::stdin().read_line(&amp;mut buffer);
  println!(&quot;read_line_result is {:?}&quot;, read_line_result); 
// éœ€è¦å¯¹è¾“å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œä¿®å‰ªï¼Œå› ä¸ºåœ¨ç»“å°¾å¤„åŒ…å«ä¸€ä¸ªæ¢è¡Œã€‚
  
// æ³¨æ„Turbofishæ“ä½œç¬¦ï¼ˆ::&lt;i32&gt;ï¼‰è¡¨ç¤ºè¦ä»è¾“å…¥å­—ç¬¦ä¸²ä¸­è§£æçš„æ•°æ®ç±»å‹ï¼ˆè¿™é‡Œæ˜¯ä¸€ä¸ªi32æ•´æ•°ï¼‰ã€‚
// parse()è¿”å›ä¸€ä¸ªç»“æœæšä¸¾ã€‚
  
// ç»“æœæšä¸¾å…è®¸å¤„ç†é”™è¯¯ï¼ˆåé¢ä¼šæœ‰æ›´å¤šä»‹ç»
  
// ä½¿ç”¨unwrapå‡½æ•°æ¥æå–å€¼ 
  let start_year = buffer.trim().parse::&lt;i32&gt;().unwrap();
  println!(&quot;You started your Rust journey in {}&quot;, start_year); 
//ä¸ä½¿ç”¨turbofishæ“ä½œç¬¦ï¼Œå°†ç›®æ ‡ç±»å‹è¡¨ç¤ºä¸ºå˜é‡ç±»å‹ 
  let start_year: i32 = buffer.trim().parse().unwrap();
  println!(&quot;You will be an expert in {}&quot;, start_year + 5);
}
</code></pre></pre>
<p>è¾“å‡º (&gt; åé¢è¡¨ç¤ºå‘½ä»¤è¡Œè¾“å…¥)</p>
<pre><code>Enter your name:
&gt; Florian
read_line_result is Ok(8)
Welcome to Rust, FlorianEnter the year when you started learning Rust:
&gt; 2021
read_line_result is Ok(6)
You started your Rust journey in 2021
You will be an expert in 2026
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="crates"><a class="header" href="#crates">Crates</a></h1>
<ul>
<li>æºä»£ç æ–‡ä»¶çš„æ”¶é›†</li>
<li>cratesæ³¨å†Œä»“åº“ã€‚Â <a href="https://crates.io/">crates.io</a>
(ç›¸å½“äº<a href="https://www.npmjs.com/">npmjs.com</a>çš„Node.jsæ¨¡å—)</li>
<li>ä¸¤ç§ç±»å‹ã€‚
<ul>
<li>äºŒè¿›åˆ¶crate
åŒ…å«ç”¨äºç¼–è¯‘æ‰§è¡Œç¨‹åºçš„æºä»£ç </li>
<li>åº“crate
åŒ…å«ç”¨äºæ‰§è¡Œå…¶ä»–ç¨‹åºçš„ä»£ç </li>
</ul>
</li>
<li>è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¨‹åºç®±ï¼Œè¯·åœ¨Cargo.tomlæ–‡ä»¶çš„[dependencies]éƒ¨åˆ†æ·»åŠ crateçš„åç§°å’Œç‰ˆæœ¬ï¼ˆå¤–éƒ¨crateï¼‰ã€‚</li>
</ul>
<pre><code class="language-yml">[package]
name = &quot;crates&quot;
version = &quot;0.1.0&quot;
authors = [&quot;Florian GOTO &lt;&lt;you@example.com&gt;&gt;&quot;]
edition = &quot;2018&quot;
# åœ¨&lt;https://doc.rust-lang.org/cargo/reference/manifest.html&gt;[dependencies]çœ‹åˆ°æ›´å¤šçš„é”®å’Œå®ƒä»¬çš„å®šä¹‰ã€‚
# æ·»åŠ éšæœºæ•°ç”Ÿæˆå·¥å…·ç®±
rand = &quot;0.8.3&quot;
</code></pre>
<ul>
<li>Cargo will automatically download the crates in theÂ [dependencies]Â section along with their own dependencies before compiling</li>
<li>to use the downloaded crate</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use rand;
fn main() {
  let random_number = rand::random::&lt;u8&gt;();
  println!(&quot;random_number is {}&quot;, random_number);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>random_number is 97
</code></pre>
<ul>
<li>å¦‚æœä½ ä½¿ç”¨ä¸€ä¸ªæ¿å—çš„ç‰¹å®šå‡½æ•°ï¼Œè¯·åœ¨useè¯­å¥ä¸­ç›´æ¥æŒ‡å®šå®ƒï¼ˆç¼–è¯‘å™¨ä¼šè­¦å‘Šä½ ä¸æœ¬åœ°å®šä¹‰çš„ä»£ç å‘ç”Ÿåç§°å†²çªï¼‰ã€‚</li>
</ul>
<pre><pre class="playground"><code class="language-rust">// åªå¯¼å…¥ rand è½¯ä»¶çš„ random() å‡½æ•° rand::randomã€‚
// ä»rand crate preludeä¸­å¯¼å…¥æ‰€æœ‰å†…å®¹
 use rand::prelude::*;
 fn main() {
  let random_number = random::&lt;u8&gt;();
  println!(&quot;random_number is {}&quot;, random_number);
}
//ä¸èƒ½åœ¨åŒä¸€èŒƒå›´å†…æœ‰ä¸€ä¸ªåä¸ºéšæœºçš„å±€éƒ¨å‡½æ•°

// ç”±äºåç§°å†²çªï¼Œå¦‚æœæ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œç¨‹åºå°†æ— æ³•ç¼–è¯‘
 fn random() -&gt; u8 {

//   123

 }
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="çŒœæ•°æ¸¸æˆé‡æ„ç‰ˆ"><a class="header" href="#çŒœæ•°æ¸¸æˆé‡æ„ç‰ˆ">çŒœæ•°æ¸¸æˆé‡æ„ç‰ˆ</a></h1>
<pre><pre class="playground"><code class="language-rust">
use rand::prelude::*;
use std::io;fn main() {
    const MAX_RETRIES: i8 = 3;
    //ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°
    let random_number: i8 = thread_rng().gen_range(1..101);
    let mut buffer = String::new();
    let mut retry_count = 0; 
    println!(&quot;Guess a number between 1 and 100:&quot;); 
    while retry_count &lt; MAX_RETRIES {
       //æ¸…é™¤ä¹‹å‰çš„çŒœæµ‹
       buffer.clear(); 
       io::stdin()
            .read_line(&amp;mut buffer)
            .expect(&quot;Failed to read line&quot;); 
            // expect()ç­‰åŒäºunwrap()
       // ç”¨äºä»ç»“æœæšä¸¾ä¸­è·å–å€¼
       // å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œå®ƒå…è®¸æ‰“å°ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¿¡æ¯ 
       let guess = buffer.trim()
                         .parse::&lt;i8&gt;()
                         .expect(&quot;Failed to parse number&quot;); 
                         if guess &lt; random_number {
            retry_count += 1;
            println!(
                &quot;too low. {}&quot;,
                if retry_count &lt; MAX_RETRIES {
                    &quot;Try again:&quot;
                } else {
                    &quot;&quot;
                }
            );
        } 
        if guess &gt; random_number {
            retry_count += 1;
            println!(
                &quot;too high. {}&quot;,
                if retry_count &lt; MAX_RETRIES {
                    &quot;Try again:&quot;
                } else {
                    &quot;&quot;
                }
            );
        } 
        if guess == random_number {
            println!(&quot;correct!&quot;);
            return;
        }
    } 
    println!(&quot;random_number was {}&quot;, random_number);
}
</code></pre></pre>
<p>æ›¿ä»£è§£å†³æ–¹æ¡ˆ</p>
<pre><pre class="playground"><code class="language-rust">use rand::prelude::*;
use std::io;fn main() {
    guess_with_infinite_retry();
}
fn guess_with_infinite_retry() {
    let secret_number = thread_rng().gen_range(1..101);
    println!(&quot;Guess a number between 1 and 100:&quot;); 
    loop {
        let mut guess = String::new(); io::stdin()
            .read_line(&amp;mut guess)
            .expect(&quot;Failed to read line&quot;); 
        let guess: u32 = guess.trim()
                              .parse()
                              .expect(&quot;Failed to parse guess&quot;); 
        if guess &lt; secret_number {
            println!(&quot;guess too low, guess higher:&quot;);
        } else if guess &gt; secret_number {
            println!(&quot;guess too high, guess lower:&quot;);
        } else {
            println!(&quot;you found it!&quot;);
            break;
        }
    }
}
</code></pre></pre>
<p>æ›¿ä»£æ–¹æ¡ˆï¼Œå®ç°äº† &quot;ç»§ç»­ç©&quot;:</p>
<pre><pre class="playground"><code class="language-rust">use rand::prelude::*;
use std::io;fn main() {
    guess_with_limited_retry(5);
}
fn guess_with_limited_retry(max_retries: i8) {
    //ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°
    let random_number: i8 = thread_rng().gen_range(1..101);
    let mut buffer = String::new();
    let mut new_game = true; while new_game == true {
        println!(&quot;Guess a number between 1 and 100:&quot;);
        let mut retry_count = 0; 
        while retry_count &lt; max_retries {
            buffer.clear(); 
            io::stdin()
                .read_line(&amp;mut buffer)
                .expect(&quot;Failed to read line&quot;); 
            let guess = buffer.trim()
                              .parse::&lt;i8&gt;()
                              .expect(&quot;Failed to parse number&quot;); 
            if guess &lt; random_number {
                retry_count += 1;
                println!(
                    &quot;too low. {}&quot;,
                    if retry_count &lt; max_retries {
                        &quot;Try again:&quot;
                    } else {
                        &quot;&quot;
                    }
                );
            } 
            if guess &gt; random_number {
                retry_count += 1;
                println!(
                    &quot;too high. {}&quot;,
                    if retry_count &lt; max_retries {
                        &quot;Try again:&quot;
                    } else {
                        &quot;&quot;
                    }
                );
            } 
            if guess == random_number {
                println!(&quot;correct!&quot;);
                break;
            }
        }
        println!(&quot;random_number was {}&quot;, random_number); 
        println!(&quot;do you want to continue playing ? (y/n)&quot;);
      let mut try_again = String::new(); 
      io::stdin()
         .read_line(&amp;mut try_again)
         .expect(&quot;Failed to read line&quot;); 
      let try_again: char = try_again
         .trim()
         .parse()
         .expect(&quot;Failed to parse try again answer.&quot;); 
      if try_again == 'y' {
            new_game = true;
      } else if try_again == 'n' {
            new_game = false;
      } else {
            println!(&quot;answer with y or n.&quot;)
      }
    }
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å‘½ä»¤è¡Œå‚æ•°"><a class="header" href="#å‘½ä»¤è¡Œå‚æ•°">å‘½ä»¤è¡Œå‚æ•°</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::env;
fn main() {
    // æ£€æŸ¥æ‰€éœ€çš„å‚æ•°æ•°é‡
     if env::args().len() &lt;= 2 {
        println!(&quot;this program requires at least two arguments&quot;);
        return;
    }
     // args()è¿”å›ä¼ é€’ç»™ç¨‹åºå¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„å‚æ•°çš„è¿­ä»£å™¨
    // ä½¿ç”¨enumerate()æ¥è·å–è¾“å…¥å‚æ•°å’Œå®ƒä»¬çš„ç´¢å¼•
    // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯æ‰§è¡Œè·¯å¾„ï¼ˆä½†ä¸ä¸€å®šï¼‰ã€‚
    for (index, arg) in env::args().enumerate() {
        println!(&quot;argument {} is {}&quot;, index, arg);
    }
     //è·å¾—ç‰¹å®šç´¢å¼•çš„å‚æ•° 
    let arg2 = env::args().nth(2).unwrap();
    println!(&quot;\narg2 is {}&quot;, arg2);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>&gt; cargo run toto &quot;titi.txt&quot; --flag -targument 0 is target/debug/command_line_args
argument 1 is toto
argument 2 is titi.txt
argument 3 is --flag
argument 4 is -targ2 is titi.txt
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è‡ªæ–‡ä»¶ä¸­è¯»å–å†…å®¹"><a class="header" href="#è‡ªæ–‡ä»¶ä¸­è¯»å–å†…å®¹">è‡ªæ–‡ä»¶ä¸­è¯»å–å†…å®¹</a></h1>
<ul>
<li>åœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª fruits.txt æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ã€‚</li>
</ul>
<pre><code>apple
avocado
banana
cherry
orange
mango
coconut
pear
lemon
</code></pre>
<hr />
<pre><pre class="playground"><code class="language-rust">use std::fs;
use std::path::Path;fn main() {
    let path = Path::new(&quot;./fruits.txt&quot;); 
    let contents = fs::read_to_string(path)
                      .expect(&quot;Failed to read file.&quot;); 
    println!(&quot;contents is: {}&quot;, contents); 
    //å¤„ç†æ¯ä¸€è¡Œ
    for line in contents.lines() {
        println!(&quot;line is {}&quot;, line);
    } 
    // è¯»å–æ–‡ä»¶ä¸ºå­—èŠ‚
    let contents: Vec&lt;u8&gt; = fs::read(path)
                               .expect(&quot;Failed to read file.&quot;); 
    println!(&quot;\ncontents is: {:?}&quot;, contents);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>contents is: apple
avocado
banana
cherry
orange
mango
coconut
pear
lemonline is apple
line is avocado
line is banana
line is cherry
line is orange
line is mango
line is coconut
line is pear
line is lemoncontents is: [97, 112, 112, 108, 101, 10, 97, 118, 111, 99, 97, 100, 111, 10, 98, 97, 110, 97, 110, 97, 10, 99, 104, 101, 114, 114, 121, 10, 111, 114, 97, 109, 103, 101, 10, 109, 97, 110, 103, 111, 10, 99, 111, 99, 111, 110, 117, 116, 10, 112, 101, 97, 114, 10, 108, 101, 109, 111, 110, 10]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å‘æ–‡ä»¶ä¸­å†™å…¥å†…å®¹"><a class="header" href="#å‘æ–‡ä»¶ä¸­å†™å…¥å†…å®¹">å‘æ–‡ä»¶ä¸­å†™å…¥å†…å®¹</a></h1>
<ul>
<li>æ–°å»ºä¸€ä¸ªåä¸º fruits.txtçš„çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼šè®°å¾—æ”¾åœ¨é¡¹ç›®çš„ç›®å½•ä¸‹é¢ã€‚ </li>
</ul>
<pre><code>apple
avocado
banana
cherry
orange
mango
coconut
pear
lemon
</code></pre>
<pre><pre class="playground"><code class="language-rust">use std::fs;
use std::path;
// å¯¼å…¥å†™ ç‰¹æ€§ï¼Œå®ƒä½äºPrelude ç±»é‡Œé¢ï¼Œæ›´å¤šçš„ç‰¹æ€§åœ¨åé¢
use std::io::prelude::*;
fn main() {
    let path = path::Path::new(&quot;./file.txt&quot;); 
    let mut contents = String::new();
    contents.push_str(&quot;this is line 1\n&quot;);
    contents.push_str(&quot;this is line 2\n&quot;);
    contents.push_str(&quot;this is line 3\n&quot;); 
// === å†™/æ›¿æ¢æ–‡ä»¶ 
content === fs::write(path, contents)
       .expect(&quot;Failed to write to file.&quot;); 
// === è¿½åŠ å†…å®¹åˆ°æ–‡ä»¶  === 
let path = path::Path::new(&quot;./fruits.txt&quot;); 
// åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„fsæ¨¡å—çš„ OpenOptions é€‰é¡¹

let mut file = fs::OpenOptions::new()
        .append(true)
        .open(path)
        .expect(&quot;Failed to open file.&quot;); 
// ä½¿ç”¨å·²å¯¼å…¥çš„Wrieç‰¹æ€§ 
// æœŸæœ›å‚æ•°æ˜¯ä¸€ä¸ªå­—èŠ‚çš„æ•°ç»„
// æ³¨æ„å­—ç¬¦ä¸²æ•°æ®ç±»å‹å‰é¢åŠ bï¼Œè¡¨ç¤ºè½¬æ¢æˆä¸€ä¸ªå­—èŠ‚æ•°ç»„

file.write(b&quot;\nolive\n&quot;)
        .expect(&quot;Failed to write to file.&quot;);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ°´æœæŸ¥æ‰¾å™¨"><a class="header" href="#æ°´æœæŸ¥æ‰¾å™¨">æ°´æœæŸ¥æ‰¾å™¨</a></h1>
<ul>
<li>åœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­å¤åˆ¶å‰å‡ èŠ‚çš„fruit.txtæ–‡ä»¶</li>
<li>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç¨‹åºæ¥å¯»æ‰¾åˆ—è¡¨ä¸­çš„æ°´æœ</li>
<li>å¦‚æœä¸€ä¸ªæ°´æœåœ¨åˆ—è¡¨ä¸­ï¼Œå®ƒå°†è¿”å›ä¸€æ¡ä¿¡æ¯ï¼Œè¯´æ˜å®ƒåœ¨åˆ—è¡¨ä¸­çš„ä½ç½®</li>
<li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use std::env;
use std::fs;
use std::io::prelude::*;
use std::path::Path;
fn main() {
    if env::args().len() != 3 {
        println!(&quot;This programs takes two arguments&quot;);
        std::process::exit(1);
    } 
    let file_path = env::args().nth(1).expect(&quot;Failed to get file path&quot;);
    let search_name = env::args().nth(2).expect(&quot;Failed to get search name&quot;);
    let path = Path::new(&amp;file_path);
    let fruits = fs::read_to_string(path).expect(&quot;Failed to read file&quot;); 
    for (index, fruit) in fruits.lines().enumerate() {
        if fruit == search_name {
            println!(
                &quot;{} is the {}{} fruit in the list&quot;,
                search_name,
                index + 1,
                if index == 0 {
                    &quot;st&quot;
                } else if index == 1 {
                    &quot;nd&quot;
                } else if index == 2 {
                    &quot;rd&quot;
                } else {
                    &quot;th&quot;
                }
            );
            return;
        }
    } 
    println!(&quot;{} is not in the fruit list&quot;, search_name); 
    let mut file = fs::OpenOptions::new()
        .append(true)
        .open(path)
        .expect(&quot;Failed to open file.&quot;); 
    let mut new_fruit = search_name.clone(); 
    let fruits_bytes = fruits.as_bytes();
    if fruits_bytes[fruits_bytes.len() - 1] != b'\n' {
        // åœ¨å­—ç¬¦ä¸²çš„å¼€å¤´æ’å…¥æ¢è¡Œ
        new_fruit.insert(0, '\n');
    }
    new_fruit.push('\n'); 
    file.write(new_fruit.as_bytes())
        .expect(&quot;Failed to write to file.&quot;); 
    println!(&quot;{} was added to fruit list&quot;, search_name);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>&gt; cat fruits.txt
apple
avocado
banana
cherry
orange
mango
coconut
pear
lemon
lime
pineapple
papaya
grape
guava
kiwi
elderberry
raspberry
tomato&gt; cargo run -q fruits.txt tomato
tomato is the 18th fruit in the list&gt; cargo run -q fruits.txt avocado
avocado is the 2nd fruit in the list&gt; cargo run -q fruits.txt peach
peach is not in the fruit list
peach was added to fruit listcargo run -q fruits.txt peach
peach is the 19th fruit in the list
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å½¢çŠ¶å·¥å‚"><a class="header" href="#å½¢çŠ¶å·¥å‚">å½¢çŠ¶å·¥å‚</a></h1>
<pre><pre class="playground"><code class="language-rust">
struct Rectangle {
    width: f64,
    height: f64,
}
struct Circle {
    radius: f64,
}
impl Rectangle {
    fn new(width: f64, height: f64) -&gt; Rectangle {
        // æ³¨æ„è¿™ä¸ªé€Ÿè®°ç¬¦å·
        // åœ¨åˆ›å»ºç»“æ„ä½“çš„å®ä¾‹æ—¶
        // å› ä¸ºæ–¹æ³•å‚æ•°çš„åç§°ä¸ç»“æ„å­—æ®µçš„åç§°ç›¸åŒ 
        Rectangle { width, height }
    } 
    fn get_area(&amp;self) -&gt; f64 {
        self.height * self.width
    } 
    fn scale(&amp;mut self, scalar: f64) {
        self.width *= scalar;
        self.height *= scalar;
    }
}
impl Circle {
    fn new(radius: f64) -&gt; Circle {
        Circle { radius }
    } 
    fn get_area(&amp;self) -&gt; f64 {
        std::f64::consts::PI * self.radius * self.radius
    } 
    fn get_diameter(&amp;self) -&gt; f64 {
        self.radius * 2.0
    }
}
fn main() {
    let mut rect = Rectangle::new(1.2, 3.4);
    assert_eq!(rect.get_area(), 4.08); 
    rect.scale(0.5);
    assert_eq!(rect.get_area(), 1.02); 
    let expected = 16.0 * std::f64::consts::PI;
    assert_eq!(circ.get_area(), expected); 
    println!(&quot;Test passed!&quot;);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Test passed!
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ³›å‹æ•°æ®ç»“æ„ä½“å®šä¹‰"><a class="header" href="#æ³›å‹æ•°æ®ç»“æ„ä½“å®šä¹‰">æ³›å‹æ•°æ®ç»“æ„ä½“å®šä¹‰</a></h1>
<pre><pre class="playground"><code class="language-rust">// å…·ä½“æ•°æ®ç±»å‹æˆ–å…¶ä»–å±æ€§çš„æŠ½è±¡ä»£åè¯
// å¯ä»¥ä¸ç»“æ„ã€å‡½æ•°ã€æ–¹æ³•ç­‰ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å¸®åŠ©æ¶ˆé™¤é‡å¤çš„ä»£ç 
// èµ‹äºˆæ•°æ®ç±»å‹ä»¥çµæ´»æ€§
// ç”¨&lt;T&gt;å®šä¹‰ï¼ˆTï¼šé€šç”¨ç±»å‹å˜é‡
// é€šç”¨å˜é‡çš„åç§°æ˜¯ä»»æ„çš„ï¼Œå¯ä»¥æ˜¯&lt;Toto&gt;ã€‚
// ç±»ä¼¼äºTypeScryptä¸­çš„æ³›å‹
#[derive(Debug)]
struct Rectangle&lt;T&gt; {
    width: T,
    height: T,
}
//å¤šç§é€šç”¨ç±»å‹
#[derive(Debug)]
struct Shape&lt;T, U&gt; {
    width: T,
    height: U,
}
fn main() {
    //ç”¨f64æ•°æ®åˆ›å»ºçŸ©å½¢ 
    let rect = Rectangle {
        width: 1.2,
        height: 3.4,
    }; 
    println!(&quot;rect is {:?}&quot;, rect); 
    // ç”¨u32æ•°æ®åˆ›å»ºçŸ©å½¢ 
    let rect = Rectangle {
        width: 5,
        height: 11,
    }; 
    println!(&quot;rect is {:?}&quot;, rect); 
    // ç”¨u8æ•°æ®åˆ›å»ºçŸ©å½¢
    //æ³¨æ„æˆ‘ä»¬åœ¨æ•°å­—åé¢åŠ ä¸Šäº†u8çš„åç¼€ã€‚
    let rect = Rectangle {
        width: 7u8,
        height: 23u8,
    }; 
    println!(&quot;rect is {:?}&quot;, rect); 
    // ç”¨u16å’Œf32æ•°æ®åˆ›å»ºå½¢çŠ¶ 
    let rect = Shape {
        width: 456u16,
        height: 78.54f32,
    }; 
    println!(&quot;rect is {:?}&quot;, rect);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>rect is Rectangle { width: 1.2, height: 3.4 }
rect is Rectangle { width: 5, height: 11 }
rect is Rectangle { width: 7, height: 23 }
rect is Shape { width: 456, height: 78.54 }
</code></pre>
<ul>
<li>æ³›å‹æ˜¯ä¸€ç§é›¶æˆæœ¬çš„æŠ½è±¡=åœ¨ä¸é™ä½è¿è¡Œæ—¶æ€§èƒ½çš„æƒ…å†µä¸‹æ›´å®¹æ˜“ç¼–ç¨‹</li>
<li>Rustç¼–è¯‘å™¨å¯¹æ³›å‹ä½¿ç”¨å•æ€åŒ–=ç”¨å…·ä½“çš„æ•°æ®ç±»å‹ä»£æ›¿å ä½ç¬¦</li>
<li>åœ¨ç¼–è¯‘æ—¶ï¼Œä»£ç å°†åŒ…æ‹¬å…·ä½“çš„æ•°æ®ç±»å‹ï¼Œè€Œä¸æ˜¯æ³›å‹æŠ½è±¡=å¦‚æœä½ ç”¨f64æ•°æ®åˆ›å»ºä¸€ä¸ªçŸ©å½¢ï¼Œç¼–è¯‘åçš„ä»£ç å°†æœ‰ä¸€ä¸ªå¸¦æœ‰f64å­—æ®µçš„çŸ©å½¢çš„ç»“æ„å®šä¹‰ï¼Œä»¥åŠä¸åˆ›å»ºç»“æ„å®ä¾‹æ—¶åŒæ ·å¤šçš„å…·ä½“ç±»å‹å®šä¹‰ã€‚</li>
<li>æºä»£ç å°†ä½¿ç”¨é€šç”¨æ•°æ®ç±»å‹ï¼Œä½†ç¼–è¯‘åçš„ä»£ç å°†æœ‰å…·ä½“çš„æ•°æ®ç±»å‹ï¼Œå› æ­¤ä¸ä¼šå½±å“è¿è¡Œæ—¶çš„æ€§èƒ½ï¼ˆæ— éœ€çŒœæµ‹æ•°æ®ç±»å‹ï¼‰ã€‚</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ³›å‹æ–¹æ³•å®šä¹‰"><a class="header" href="#æ³›å‹æ–¹æ³•å®šä¹‰">æ³›å‹æ–¹æ³•å®šä¹‰</a></h1>
<pre><pre class="playground"><code class="language-rust">
#[derive(Debug)]
struct Rectangle&lt;T&gt; {
    width: T,
    height: T,
}
#[derive(Debug)]
struct Shape&lt;T, U&gt; {
    width: T,
    height: U,
}
// åœ¨ impl å…³é”®å­—ä¹‹ååŒ…æ‹¬é€šç”¨å˜é‡åç§°
// å’Œç»“æ„æ ‡è¯†ç¬¦ä¹‹å
// impl&lt;T, U&gt;å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œé€šç”¨ç»“æ„å®šä¹‰çš„æ–¹æ³•
impl&lt;T, U&gt; Shape&lt;T, U&gt; {
    fn get_width(&amp;self) -&gt; &amp;T {
        // éœ€è¦è¿”å›ä¸€ä¸ªå¼•ç”¨
        // å› ä¸ºä¸çŸ¥é“&lt;T&gt;å°†è¢«æ›¿æ¢æˆå“ªç§ç±»å‹ã€‚
        //è®°ä½å›ºå®š/å¯å˜é•¿åº¦æ•°æ®ç±»å‹çš„æ‰€æœ‰æƒ
        //è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼Œå¯¹è¿™ä¸¤ç§ç±»å‹éƒ½æœ‰æ•ˆï¼Œæ— éœ€è½¬ç§»æ‰€æœ‰æƒ &amp;self.width
    }
}
//ä¸ºç‰¹å®šçš„å…·ä½“ç±»å‹çš„Shapeå®ç°æ–¹æ³•
// æ³¨æ„ä¸è¦æŠŠé€šç”¨ç±»å‹æ”¾åœ¨ impl å…³é”®å­—åé¢ï¼Œè¿™å‘Šè¯‰ç¼–è¯‘å™¨è¿™äº›æ–¹æ³•æ˜¯ä¸ºå…·ä½“çš„ç»“æ„å®šä¹‰æœåŠ¡çš„ã€‚
impl Shape&lt;u8, u8&gt; {
    fn get_perimeter(&amp;self) -&gt; u8 {
        (self.height + self.width) * 2
    }
}
fn main() {
    let rect = Rectangle {
        width: 1.2,
        height: 3.4,
    }; 
    println!(&quot;rect is {:?}&quot;, rect); 
    let rect = Rectangle {
        width: 5,
        height: 11,
    }; 
    println!(&quot;rect is {:?}&quot;, rect); 
    let rect = Rectangle {
        width: 7u8,
        height: 23u8,
    }; 
    println!(&quot;rect is {:?}&quot;, rect); 
    let rect = Shape {
        width: 456u16,
        height: 78.54f32,
    }; 
    println!(&quot;rect is {:?}&quot;, rect); 
    println!(&quot;rect width is {:?}&quot;, rect.get_width()); 
    let rect = Shape {
        width: 54u8,
        height: 32u8,
    }; 
    // get_perimeter()æ–¹æ³•æ˜¯åœ¨Shapeçš„è¿™ä¸ªå®ä¾‹ä¸Šå®šä¹‰çš„ã€‚
    // å› ä¸ºè¿™ä¸¤ä¸ªå­—æ®µéƒ½æ˜¯u8æ•°æ®
    // å¦åˆ™è¿™ä¸ªæ–¹æ³•å°†æ— æ³•è¢«æ‰¾åˆ° 
    println!(&quot;rect perimter is {:?}&quot;, rect.get_perimeter());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>rect is Rectangle { width: 1.2, height: 3.4 }
rect is Rectangle { width: 5, height: 11 }
rect is Rectangle { width: 7, height: 23 }
rect is Shape { width: 456, height: 78.54 }
rect width is 456
rect perimter is 172
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ³›å‹å‡½æ•°å®šä¹‰"><a class="header" href="#æ³›å‹å‡½æ•°å®šä¹‰">æ³›å‹å‡½æ•°å®šä¹‰</a></h1>
<pre><pre class="playground"><code class="language-rust">

//é™åˆ¶é€šç”¨ç±»å‹

//é™äºé‚£äº›å®ç°äº†ç‰¹è´¨çš„ç±»å‹ï¼Œè¿™äº›ç±»å‹çš„å€¼å¯ä»¥è¿›è¡Œæ’åºæ¯”è¾ƒï¼ˆPartialOrdï¼‰ã€‚

// PartialOrdç‰¹æ€§åŒ…å«åœ¨std crate preludeä¸­ï¼ˆä¸éœ€è¦å…¨è·¯å¾„ï¼‰ã€‚

// å¦åˆ™ï¼Œç¼–è¯‘å™¨æ€ä¹ˆä¼šçŸ¥é“å…·ä½“ç±»å‹æ˜¯å¦å¯ä»¥ä½¿ç”¨&gt;è¿›è¡Œæ¯”è¾ƒï¼Ÿ
fn get_biggest&lt;T: PartialOrd&gt;(n1: T, n2: T) -&gt; T {
    if n1 &gt; n2 {
        n1
    } else {
        n2
    }
}
fn main() {
    println!(&quot;biggest is {}&quot;, get_biggest(23u8, 121u8));
    println!(&quot;biggest is {}&quot;, get_biggest(12345, 121));
    println!(&quot;biggest is {}&quot;, get_biggest(123.45, 1.21));
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>biggest is 121
biggest is 12345
biggest is 123.45
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å°ç®±æ•°æ®ç±»å‹"><a class="header" href="#å°ç®±æ•°æ®ç±»å‹">å°ç®±æ•°æ®ç±»å‹</a></h1>
<pre><pre class="playground"><code class="language-rust">// Box&lt;T&gt;ç”¨äºåœ¨å †ä¸Šè€Œä¸æ˜¯åœ¨æ ˆä¸Šå­˜å‚¨æ•°æ®
// å®ƒç”±å †æ ˆä¸Šçš„ä¸€ä¸ªæŒ‡é’ˆç»„æˆ
// æŒ‡å‘å †ä¸Šçš„ä¸€ä¸ªå†…å­˜å—
// è¯¥å†…å­˜å—å·²è¢«åˆ†é…å¾—è¶³å¤Ÿå¤§ï¼Œå¯ä»¥å®¹çº³&lt;T&gt;æ•°æ®ã€‚
// ç›’å­è¢«è®¤ä¸ºæ˜¯æ™ºèƒ½æŒ‡é’ˆ
// æä¾›äº†æ¯”å¼•ç”¨æ›´å¤šçš„åŠŸèƒ½ã€‚
// ç›’å­&lt;T&gt;å¯¹å®ƒæ‰€æŒ‡å‘çš„æ•°æ®æœ‰æ‰€æœ‰æƒ
// å½“Box&lt;T&gt;è¶…å‡ºèŒƒå›´æ—¶ï¼Œä¼šå°†å †ä¸­çš„å†…å­˜åˆ é™¤ã€‚
// Boxæ•°æ®ç±»å‹è¢«ç”¨æ¥å­˜å‚¨ä¸€ä¸ªåœ¨ç¼–è¯‘æ—¶æ— æ³•çŸ¥é“å¤§å°çš„ç±»å‹
// ä½†ä»ç„¶éœ€è¦ä¸€ä¸ªå°ºå¯¸
// ä¾‹å¦‚ï¼šé€’å½’ç±»å‹
// é€’å½’ç±»å‹çš„ä¾‹å­ï¼šä¸€ä¸ªç»“æ„ä½“åŒ…æ‹¬å¦ä¸€ä¸ªç›¸åŒç±»å‹çš„ç»“æ„ä½“ä½œä¸ºå®ƒçš„ä¸€ä¸ªå­—æ®µï¼ˆæƒ³æƒ³è¿­ä»£å™¨--æ¯”å¦‚åœ¨JavaScriptä¸­ï¼‰ã€‚
// åœ¨ç¼–è¯‘æ—¶ï¼Œä½ ä¸çŸ¥é“å±‚çš„æ·±åº¦ï¼Œå› æ­¤ä¸çŸ¥é“æ•´ä¸ªç»“æ„çš„å¤§å°ã€‚
// ç›’å­çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯è½¬ç§»æ•°æ®çš„æ‰€æœ‰æƒï¼Œè€Œä¸æ˜¯åœ¨å †æ ˆä¸­å¤åˆ¶å®ƒã€‚
// é¿å…å¤åˆ¶å¤§é‡çš„å †æ ˆæ•°æ®
// é€šè¿‡å°†æ•°æ®è½¬ç§»åˆ°å †ä¸­ï¼Œå¯èƒ½ä¼šæé«˜æ€§èƒ½ï¼ˆå› ä¸ºæœ‰æŒ‡é’ˆï¼‰ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°è½¬ç§»æ•°æ®ã€‚
use std::mem;
#[derive(Debug)]
struct Team {
    name: String,
    size: u8,
    capacity: f64,
    domain: String,
}
fn main() {
    // è®°ä½ç»“æ„ä½“æ˜¯åœ¨å †æ ˆä¸Šçš„
    // é™¤äº†é•¿åº¦å¯å˜çš„å­—æ®µï¼ˆä¾‹å¦‚ï¼šStringï¼‰ä¼šç•™åœ¨å †ä¸Šã€‚
    let lions = Team {
        name: String::from(&quot;The lions&quot;),
        size: 7,
        capacity: 11.5,
        domain: String::from(&quot;Authentication&quot;),
    }; 
    println!(&quot;lions is {:?}&quot;, lions); 
    // mem::size_of_val()ç»™å‡ºäº†ç»™å®šå‚è€ƒå€¼æ‰€æŒ‡å‘çš„å­—èŠ‚å¤§å°ã€‚
    println!(
      &quot;lions size is on stack {} bytes&quot;,
      mem::size_of_val(&amp;lions)
    ); 
    // è¿™ä¸æ˜¯ä¸€ä¸ªå¤åˆ¶æ“ä½œï¼Œæ‰€æœ‰æƒè¢«è½¬ç§»äº†ã€‚
    // ç‹®å­å˜é‡å¤±å»äº†å¯¹è¯¥ç»“æ„çš„æ‰€æœ‰æƒ 
    // ç‹®å­å˜é‡ä¸èƒ½å†è¢«ä½¿ç”¨äº† 
    // ç»“æ„å®ä¾‹è¢«è½¬ç§»åˆ°ç›’å­åˆ†é…çš„å †ä½ç½®ä¸Šã€‚
    // boxed_lionså˜é‡æˆä¸ºè¯¥ç»“æ„çš„æ–°ä¸»äºº
    //é€šè¿‡ä½åœ¨å †æ ˆä¸Šçš„ç›’å­æ™ºèƒ½æŒ‡é’ˆï¼Œæˆä¸ºç»“æ„çš„æ–°ä¸»äººã€‚
    let boxed_lions: Box&lt;Team&gt; = Box::new(lions); 
    println!(&quot;boxed_lions is {:?}&quot;, boxed_lions); 
    //æ‰“å°ç›’å­æŒ‡é’ˆçš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰ã€‚
    println!(
        &quot;boxed_lions size is on stack {} bytes&quot;,
        mem::size_of_val(&amp;boxed_lions)
    ); 
    //æ‰“å°ç»“æ„å®ä¾‹çš„å­—èŠ‚å¤§å° 
    // éœ€è¦å‘mem::size_of_val()ä¼ é€’ä¸€ä¸ªè¢«è§£é™¤å¼•ç”¨çš„ç›’å­æŒ‡é’ˆï¼ˆWTF...ï¼‰çš„å¼•ç”¨ã€‚
    // åœ¨ç›’å­æŒ‡é’ˆå‰ä½¿ç”¨è§£é™¤å¼•ç”¨æ“ä½œç¬¦ &quot;*&quot;ã€‚
    //å¼•ç”¨ä¸€ä¸ªæŒ‡é’ˆå°†ä»£è¡¨è¢«æŒ‡å‘çš„ä½ç½®/æ•°æ®ã€‚
    // &amp;*boxed_lionsæ˜¯å¯¹å †ä¸Šæ•°æ®çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å¯¹å †ä¸ŠæŒ‡é’ˆçš„å¼•ç”¨ã€‚
    println!(
        &quot;boxed_lions team size is on heap {} bytes&quot;,
        mem::size_of_val(&amp;*boxed_lions)
    ); 
    //å°†ç»“æ„å®ä¾‹ç§»å›å †æ ˆä¸­
    //é€šè¿‡å–æ¶ˆå¼•ç”¨ç›’å­çš„æŒ‡é’ˆæ¥å®ç° 
    let unboxed_lions: Team = *boxed_lions; 
    println!(&quot;unboxed_lions is {:?}&quot;, unboxed_lions); 
    println!(
        &quot;unboxed_lions team size is on stack {} bytes&quot;,
        mem::size_of_val(&amp;unboxed_lions)
    );
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>lions is Team { name: &quot;The lions&quot;, size: 7, capacity: 11.5, domain: &quot;Authentication&quot; }
lions size is on stack 64 bytes
boxed_lions is Team { name: &quot;The lions&quot;, size: 7, capacity: 11.5, domain: &quot;Authentication&quot; }
boxed_lions size is on stack 8 bytes
boxed_lions team size is on heap 64 bytes
unboxed_lions is Team { name: &quot;The lions&quot;, size: 7, capacity: 11.5, domain: &quot;Authentication&quot; }
unboxed_lions team size is on stack 64 bytes
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å°ç®±æ±‚å’Œ"><a class="header" href="#å°ç®±æ±‚å’Œ">å°ç®±æ±‚å’Œ</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::ops::Add;
//å°†é€šç”¨ç±»å‹Té™åˆ¶ä¸ºå®ç°Addç‰¹æ€§çš„å…·ä½“ç±»å‹ï¼ˆå¦‚u32ã€f64ç­‰ï¼‰ã€‚
fn sum_boxes&lt;T: Add&lt;Output = T&gt;&gt;(b1: Box&lt;T&gt;, b2: Box&lt;T&gt;) -&gt; Box&lt;T&gt; {
    let unboxed_b1 = *b1;
    let unboxed_b2 = *b2;
    let sum = unboxed_b1 + unboxed_b2;
    Box::new(sum)
}
fn main() {
    let box1 = Box::new(11);
    let box2 = Box::new(44);
    let sum_box = sum_boxes(box1, box2);
    assert_eq!(*sum_box, 55); let box1 = Box::new(1.1);
    let box2 = Box::new(4.4);
    let sum_box = sum_boxes(box1, box2);
    assert_eq!(*sum_box, 5.5); let box1 = Box::new(1.1f32);
    let box2 = Box::new(4.4f32);
    let sum_box = sum_boxes(box1, box2);
    assert_eq!(*sum_box, 5.5f32); let box1 = Box::new(11u8);
    let box2 = Box::new(44u8);
    let sum_box = sum_boxes(box1, box2);
    assert_eq!(*sum_box, 55u8); let box1 = Box::new(11u16);
    let box2 = Box::new(44u16);
    let sum_box = sum_boxes(box1, box2);
    assert_eq!(*sum_box, 55u16); println!(&quot;tests passed!&quot;);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>test passed!
</code></pre>
<p>æ•´åˆç‰ˆæœ¬</p>
<pre><pre class="playground"><code class="language-rust">use std::ops::Add;
fn sum_boxes&lt;T: Add&lt;Output = T&gt;&gt;(b1: Box&lt;T&gt;, b2: Box&lt;T&gt;) -&gt; Box&lt;T&gt; {
    Box::new(*b1 + *b2)
}
fn main() {
    assert_eq!(*sum_boxes(Box::new(11), Box::new(44)), 55); 
    assert_eq!(*sum_boxes(Box::new(1.1), Box::new(4.4)), 5.5); 
    assert_eq!(*sum_boxes(Box::new(1.1f32), Box::new(4.4f32)), 5.5f32); 
    assert_eq!(*sum_boxes(Box::new(11u8), Box::new(44u8)), 55u8); 
    assert_eq!(*sum_boxes(Box::new(11u16), Box::new(44u16)), 55u16); 
    println!(&quot;tests passed!&quot;);
}
</code></pre></pre>
<p>æ›´å¤æ‚çš„æ³›å‹ç±»å‹é™åˆ¶</p>
<pre><pre class="playground"><code class="language-rust">use std::ops::{Add, MulAssign};
// å–æ¶ˆå¤åˆ¶ç‰¹æ€§çš„é™åˆ¶ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚
// ä»¥åä¼šæœ‰æ›´å¤šå…³äºè¿™ä¸ªé—®é¢˜çš„å†…å®¹
fn sum_boxes&lt;T: Add&lt;Output = T&gt; + MulAssign + Copy&gt;(
    mut b1: Box&lt;T&gt;,
    b2: Box&lt;T&gt;
) -&gt; Box&lt;T&gt; {
    *b1 *= *b2;
    Box::new(*b1 + *b2)
}
fn main() {
    let box1 = Box::new(11);
    let box2 = Box::new(44);
    assert_eq!(*sum_boxes(box1, box2), 528); 
    let box1 = Box::new(1.1);
    let box2 = Box::new(4.4);
    assert_eq!(*sum_boxes(box1, box2), 9.240000000000002); 
    let box1 = Box::new(1.1f32);
    let box2 = Box::new(4.4f32);
    assert_eq!(*sum_boxes(box1, box2), 9.24f32); 
    let box1 = Box::new(11u16);
    let box2 = Box::new(44u16);
    assert_eq!(*sum_boxes(box1, box2), 528u16); 
    println!(&quot;tests passed!&quot;);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ç‰¹æ€§"><a class="header" href="#ç‰¹æ€§">ç‰¹æ€§</a></h1>
<pre><pre class="playground"><code class="language-rust">
// ç‰¹è´¨ã€‚

// ç”¨äºå®šä¹‰ç‰¹å®šæ•°æ®ç±»å‹åŠŸèƒ½çš„æŠ½è±¡æ–¹æ³•
// æ–¹æ³•çš„é›†åˆ

// ä»£è¡¨å®ŒæˆæŸäº›ä»»åŠ¡æ‰€éœ€çš„ä¸€ç»„è¡Œä¸º
// æ•°æ®ç±»å‹å¯ä»¥å®ç°ä¸€ä¸ªç‰¹å¾ã€‚

// è¯¥ç±»å‹å®ç°äº†è¿™äº›ç‰¹å®šçš„æ–¹æ³•ï¼Œå› æ­¤è¿™äº›æ–¹æ³•å¯ä»¥åœ¨å®ƒèº«ä¸Šä½¿ç”¨ã€‚
// æ³›å‹ä½¿ç”¨ç‰¹è´¨æ¥æŒ‡å®šæœªçŸ¥æ•°æ®ç±»å‹çš„èƒ½åŠ›ã€‚

// ç‰¹è´¨ä½œä¸ºä¸€ç§çº¦æŸï¼Œå¯ä»¥æ¥å—å“ªäº›å…·ä½“ç±»å‹ã€‚

// åªè¦è¿™äº›å…·ä½“ç±»å‹å®ç°äº†è¿™ç»„æ–¹æ³•
// ä¸TypeScriptå’Œå…¶ä»–æ”¯æŒç»å…¸OOPçš„è¯­è¨€ä¸­çš„æ¥å£ç›¸ä¼¼ã€‚
// Rustå¸¦æœ‰é»˜è®¤çš„é€šç”¨ç‰¹å¾ï¼ˆå‚è§std::preludeï¼‰ã€‚
// ä½ å¯ä»¥å®šä¹‰ä½ çš„è‡ªå®šä¹‰ç‰¹å¾
struct Car {
    model: String,
    brand: String,
    velocity: u16, 
// km/h
}
struct Plane {
    name: String,
    nick_name: String,
    velocity: u16, 
// km/h
    crew: u8,
    passengers: u16,
    ceiling: u32,
}
// è‡ªå®šä¹‰ç‰¹è´¨ 
trait Serialization {
    
// æ–¹æ³•ç­¾å
    fn describe(&amp;self) -&gt; String;
}
// å®ç°ä¸€ä¸ªç‰¹å®šçš„ç‰¹æ€§
impl Serialization for Car {
    fn describe(&amp;self) -&gt; String {
        
// format! å®è¿”å›æ ¼å¼åŒ–çš„å­—ç¬¦ä¸² 
    format!(
            &quot;{} from {} going at {} km/h.&quot;,
            self.model, self.brand, self.velocity
        )
    }
}
// ä¸ºå…¶ä»–ç±»å‹å®ç°ç‰¹æ€§
impl Serialization for Plane {
    fn describe(&amp;self) -&gt; String {
        format!(
            &quot;{} ({}) going at {} km/h with a crew of {} and up to {} passengers at {} m above.&quot;,
            self.name, self.nick_name, self.velocity, self.crew, self.passengers, self.ceiling
        )
    }
}
fn main() {
    let gle_class_coupe = Car {
        model: String::from(&quot;GLE-Class Coupe&quot;),
        brand: String::from(&quot;Mercedes-Benz&quot;),
        velocity: 280,
    };
     let g6 = Plane {
        name: String::from(&quot;Gulfstream G650 &quot;),
        nick_name: String::from(&quot;G6&quot;),
        velocity: 956,
        crew: 4,
        passengers: 19,
        ceiling: 15545,
    };
     println!(&quot;{}&quot;, gle_class_coupe.describe());
    println!(&quot;{}&quot;, g6.describe());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>GLE-Class Coupe from Mercedes-Benz going at 280 km/h.
Gulfstream G650  (G6) going at 956 km/h with a crew of 4 and up to 19 passengers at 15545 m above.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="é»˜è®¤ç‰¹æ€§å®ç°"><a class="header" href="#é»˜è®¤ç‰¹æ€§å®ç°">é»˜è®¤ç‰¹æ€§å®ç°</a></h1>
<pre><pre class="playground"><code class="language-rust">
struct Car {
    model: String,
    brand: String,
    velocity: u16, // km/h
}
struct Plane {
    name: String,
    nick_name: String,
    velocity: u16, // km/h
    crew: u8,
    passengers: u16,
    ceiling: u32,
}
trait Serialization {
    // é»˜è®¤çš„ç‰¹è´¨å®ç°
    // ä»¥é¿å…ä¸ºæ¯ä¸ªä½¿ç”¨è¯¥ç‰¹è´¨çš„ç±»å‹å®ç°å®ƒã€‚
    fn describe(&amp;self) -&gt; String {
        String::from(&quot;some kind of vehicle.&quot;)
    }
}
impl Serialization for Car {
    //ä¸ºæ±½è½¦ç»“æ„æä¾›å…·ä½“çš„ç‰¹è´¨å®ç°
    // è¦†ç›–é»˜è®¤å®ç° 
    fn describe(&amp;self) -&gt; String {
        format!(
            &quot;{} from {} going at {} km/h.&quot;,
            self.model, self.brand, self.velocity
        )
    }
}
//å°†ä½¿ç”¨é»˜è®¤çš„ç‰¹è´¨å®ç°ï¼Œå› ä¸ºæ²¡æœ‰ç‰¹å®šçš„ç‰¹è´¨ã€‚
impl Serialization for Plane {}
fn main() {
    let gle_class_coupe = Car {
        model: String::from(&quot;GLE-Class Coupe&quot;),
        brand: String::from(&quot;Mercedes-Benz&quot;),
        velocity: 280,
    }; 
    let g6 = Plane {
        name: String::from(&quot;Gulfstream G650 &quot;),
        nick_name: String::from(&quot;G6&quot;),
        velocity: 956,
        crew: 4,
        passengers: 19,
        ceiling: 15545,
    }; 
    println!(&quot;{}&quot;, gle_class_coupe.describe());
    println!(&quot;{}&quot;, g6.describe());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>GLE-Class Coupe from Mercedes-Benz going at 280 km/h.
some kind of vehicle.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¯è¡ç”Ÿçš„ç‰¹æ€§"><a class="header" href="#å¯è¡ç”Ÿçš„ç‰¹æ€§">å¯è¡ç”Ÿçš„ç‰¹æ€§</a></h1>
<pre><pre class="playground"><code class="language-rust">// é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–°ç»“æ„ä¸å®ç°ä»»ä½•ç‰¹è´¨
// ä½ ä½œä¸ºç¨‹åºå‘˜ç»™å®ƒæä¾›å®ƒæ‰€éœ€è¦çš„ç‰¹è´¨
// å¯æ´¾ç”Ÿç‰¹è´¨ä¸ºå¸¸è§ç‰¹è´¨æä¾›äº†é»˜è®¤çš„å®ç°æ–¹å¼
//æä¾›äº†å¯¹åŸºæœ¬åŠŸèƒ½çš„è®¿é—®
// è€Œä¸éœ€è¦å®ç°è‡ªå®šä¹‰ç‰¹å¾
//å½“æ´¾ç”Ÿç‰¹æ€§æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆé»˜è®¤ä»£ç ã€‚
// ç¼–è¯‘å™¨ä¼šç”Ÿæˆæ‰€éœ€æ–¹æ³•çš„é»˜è®¤ä»£ç ã€‚
// å¯æ´¾ç”Ÿç‰¹è´¨æ˜¯ï¼ˆéšç€è¯­è¨€çš„å‘å±•ä¼šæœ‰å˜åŒ–ï¼‰ã€‚
// Eq
// PartialEq
// Ord
// PartialOrd
// Clone
// Copy
// Hash
// Default - åˆ›å»ºä¸€ä¸ªæ•°æ®ç±»å‹çš„æ–°å®ä¾‹ 
// Debug - æä¾›ä¸€ä¸ªæ ¼å¼åŒ–çš„debugå­—ç¬¦ä¸² 
// è¡ç”Ÿæ€§çŠ¶ã€‚ #[ derive( trait_a, trait_b, ...) ] ã€‚
// PartialEqçš„é»˜è®¤å®ç°è¦æ±‚ä¸¤ä¸ªç»“æ„çš„æ‰€æœ‰å­—æ®µéƒ½ç›¸ç­‰ï¼Œä»¥è¿”å›true
// (æ£€æŸ¥æ–‡æ¡£ std::cmp::PartialEq)
// PartialOrdçš„é»˜è®¤å®ç°æ˜¯å¯¹å­—æ®µçš„å€¼è¿›è¡Œæ¯”è¾ƒã€‚
// æŒ‰ç…§å®šä¹‰çš„é¡ºåºè§£æå­—æ®µï¼Œå¹¶ä¸”
// ä¸€æ—¦æ‰¾åˆ°å¯ä»¥æ¯”è¾ƒçš„å­—æ®µã€‚
// å°†è¿”å›æ¯”è¾ƒçš„ç»“æœ
// è€Œä¸å»çœ‹å…¶ä»–å­—æ®µï¼ˆæŸ¥çœ‹æ–‡æ¡£ std::cmp::PartialOrdï¼‰ã€‚
#[derive(PartialEq, PartialOrd, Debug)]
struct Car {
    model: String,
    brand: String,
    velocity: u16, // km/h
}
fn main() {
    let gle_class_coupe = Car {
        model: String::from(&quot;GLE-Class Coupe&quot;),
        brand: String::from(&quot;Mercedes-Benz&quot;),
        velocity: 280,
    }; 
    let gle_class = Car {
        model: String::from(&quot;GLE-Class&quot;),
        brand: String::from(&quot;Mercedes-Benz&quot;),
        velocity: 218,
    };
     //ç”±äºæ´¾ç”Ÿçš„PartialEqç‰¹æ€§è€Œè¢«å…è®¸ã€‚
     println!(&quot;Are the cars equal: {}&quot;, gle_class_coupe == gle_class);
      //ç”±äºæ´¾ç”Ÿçš„PartialOrdç‰¹æ€§è€Œè¢«å…è®¸ã€‚
    //åœ¨è¿™é‡Œï¼Œåç§°å­—æ®µè¢«æ¯”è¾ƒä»¥æ–­å®šå“ªä¸€ä¸ªæ›´å¤§
     println!(
        &quot;Is the coupe greater then the SUV: {}&quot;,
        gle_class_coupe &gt; gle_class
    );
     //å› ä¸ºæ´¾ç”Ÿçš„Debugç‰¹æ€§è€Œè¢«å…è®¸ 
     println!(&quot;{:?}&quot;, gle_class);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Are the cars equal: false
Is the coupe greater then the SUV: true
Car { model: &quot;GLE-Class&quot;, brand: &quot;Mercedes-Benz&quot;, velocity: 218 }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ç‰¹æ€§ç•Œé™"><a class="header" href="#ç‰¹æ€§ç•Œé™">ç‰¹æ€§ç•Œé™</a></h1>
<pre><pre class="playground"><code class="language-rust">// å½“ä½¿ç”¨æ³›å‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‰¹è´¨ã€‚
// æ¥è§„å®šå…·ä½“ç±»å‹å¿…é¡»å®ç°å“ªäº›åŠŸèƒ½ã€‚
// ç‰¹è´¨çš„ç•Œé™è¿«ä½¿æ³›å‹å¿…é¡»å®ç°ç‰¹å®šçš„ç‰¹è´¨ã€‚
// ç‰¹è´¨è¾¹ç•Œä¿è¯äº†æ³›å‹å°†æ‹¥æœ‰å¿…è¦çš„è¡Œä¸ºï¼Œä½¿ç”¨core::fmt::Debugã€‚
use std::any;
// ä¸ºäº†èƒ½å¤Ÿæ‰“å°ä¸€ä¸ªé¡¹ç›®ï¼Œå®ƒå¿…é¡»å®ç° &quot;æ˜¾ç¤º &quot;ç‰¹è´¨ã€‚
// ä½†ç”±äºä¸æ˜¯æ‰€æœ‰çš„ç±»å‹éƒ½å®ç°äº†å®ƒï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Debugç‰¹æ€§
// è¿™æ˜¯æ›´å¸¸è§çš„é»˜è®¤å®ç°æ–¹å¼
fn print_type&lt;T: Debug&gt;(it: T) {
    // type_name()å°†ä¸€ä¸ªç±»å‹çš„åç§°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç‰‡æ–­è¿”å›
    //é€šè¿‡å°†ç±»å‹ä¼ é€’ç»™turbofishæ“ä½œç¬¦ï¼ˆ::&lt;MY_TYPE&gt;ï¼‰æ¥å®ç°ã€‚
    println!(&quot;{:?} is a {}&quot;, it, any::type_name::&lt;T&gt;());
}
fn main() {
    print_type(1);
    print_type(1.2);
    print_type([12, 34]);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>1 is a i32
1.2 is a f64
[12, 34] is a [i32; 2]

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¤šé‡ç‰¹è´¨ç•Œé™å’Œwhereå­å¥"><a class="header" href="#å¤šé‡ç‰¹è´¨ç•Œé™å’Œwhereå­å¥">å¤šé‡ç‰¹è´¨ç•Œé™å’Œwhereå­å¥</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::fmt::Display;
// å¤šä¸ªç‰¹è´¨è¾¹ç•Œç”¨+è¿ç®—ç¬¦éš”å¼€

// PartialEq/From/Copyæ˜¯stdåº“å‰å¥çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥æ²¡æœ‰å¯¼å…¥ã€‚
//
 //fn compare_and_print&lt;T: Display + PartialEq + From&lt;U&gt;, U: Display + PartialEq + Copy&gt;(a: T, b: U) {
// ä¸‹é¢çš„å‡½æ•°ç­¾åä¸ä¸Šé¢çš„å‡½æ•°ç­¾åæ˜¯ç­‰ä»·çš„

// ä½†ç”¨wereå­å¥æ¥å£°æ˜ç‰¹è´¨çš„è¾¹ç•Œï¼Œæ›´å…·æœ‰å¯è¯»æ€§
fn compare_and_print&lt;T, U&gt;(a: T, b: U)
where
    T: Display + PartialEq + From&lt;U&gt;,
    U: Display + PartialEq + Copy,
{
    
// 
T::from(b) =&gt; convert b to type T
    
// From traitå…è®¸ä¸€ä¸ªç±»å‹
    
// æ¥å®šä¹‰å¦‚ä½•ä»å¦ä¸€ä¸ªç±»å‹åˆ›å»ºè‡ªå·±ã€‚
    
// ä¾‹å¦‚ï¼šä»å­—ç¬¦ä¸²ç‰‡æ–­ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚
    
//      
String::From(&quot;ttoto&quot;) if a == T::from(b) {
        println!(&quot;{} is equal to {}&quot;, a, b);
    } else {
        println!(&quot;{} is not equal to {}&quot;, a, b);
    }
}
fn main() {
    compare_and_print(22, 55);
    compare_and_print(2.2, 2.2);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>22 is not equal to 55
2.2 is equal to 2.2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è¿”å›ç±»å‹å’Œç‰¹æ€§å®ç°"><a class="header" href="#è¿”å›ç±»å‹å’Œç‰¹æ€§å®ç°">è¿”å›ç±»å‹å’Œç‰¹æ€§å®ç°</a></h1>
<pre><pre class="playground"><code class="language-rust">
use std::fmt::Display;
// è¿”å›å€¼å¿…é¡»å®ç° &quot;Display &quot;ç‰¹è´¨ã€‚
fn get_displayable() -&gt; impl Display {
    1
}
fn main() {
    println!(&quot;Display: {}&quot;, get_displayable());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Display: 1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="è¿”å›ç±»å‹å’Œç‰¹è´¨çš„åŠ¨æ€åˆ†æ´¾"><a class="header" href="#è¿”å›ç±»å‹å’Œç‰¹è´¨çš„åŠ¨æ€åˆ†æ´¾">è¿”å›ç±»å‹å’Œç‰¹è´¨çš„åŠ¨æ€åˆ†æ´¾</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::fmt::Display;
// [åŠ¨æ€è°ƒåº¦](https://doc.rust-lang.org/stable/rust-by-example/trait/dyn.html)
// å½“è¿è¡Œæ—¶æ‰çŸ¥é“retunçš„ç±»å‹æ—¶

// æ³¨æ„ [dyn](https://doc.rust-lang.org/std/keyword.dyn.html) å…³é”®å­—å’Œç›’å¼æŒ‡é’ˆçš„ä½¿ç”¨
// è¿”å›ä¸€ä¸ªå®ç°äº†æ˜¾ç¤ºç‰¹æ€§çš„å€¼ã€‚

// ä½†æˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ªã€‚
fn get_dynamic_displayable(a: bool) -&gt; Box&lt;dyn Display&gt; {
    if a {
        
        returns u32 Box::new(1)
    } else {
        
     returns string slice Box::new(&quot;one&quot;)
    }
}
fn main() {
    println!(&quot;Display: {}&quot;, get_dynamic_displayable(false));
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Display: one
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¯¹æ¯”é£æœº"><a class="header" href="#å¯¹æ¯”é£æœº">å¯¹æ¯”é£æœº</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::cmp::*;
use std::fmt;
struct Jet {
    name: String,
    velocity: f64, 
    // km/h
}
// è‡ªä¸»å®ç° [Display](https://doc.rust-lang.org/std/fmt/trait.Display.html#required-methods) ç‰¹æ€§
impl fmt::Display for Jet {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;'_&gt;) -&gt; fmt::Result {
        write!(f, &quot;{}, flying at {} km/h&quot;, self.name, self.velocity)
    }
}
// è‡ªä¸»å®ç° [PartialOrd](https://doc.rust-lang.org/std/cmp/trait.PartialOrd.html#how-can-i-implement-partialord) ç‰¹æ€§
impl PartialOrd for Jet {
    fn partial_cmp(&amp;self, other: &amp;Self) -&gt; Option&lt;Ordering&gt; {
        self.velocity.partial_cmp(&amp;other.velocity)
    }
}
// è‡ªä¸»å®ç° [PartialEq](https://doc.rust-lang.org/std/cmp/trait.PartialEq.html#how-can-i-implement-partialeq) ç‰¹æ€§
impl PartialEq for Jet {
    fn eq(&amp;self, other: &amp;Self) -&gt; bool {
        self.velocity == other.velocity
    }
}
fn main() {
    let g6 = Jet {
        name: String::from(&quot;Gulfstream G650&quot;),
        velocity: 956.0,
    }; 
    let g7 = Jet {
        name: String::from(&quot;Gulfstream G700&quot;),
        velocity: 937.0,
    }; 
    println!(&quot;G6 jet is {}&quot;, g6); 
    println!(&quot;Does G6 velocity equal to G7's: {}&quot;, g6.eq(&amp;g7)); 
    println!(&quot;Is G6 faster than G7: {}&quot;, g6.gt(&amp;g7));
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>G6 jet is Gulfstream G650, flying at 956 km/h
Does G6 velocity equal to G7's: false
Is G6 faster than G7: true

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å€Ÿç”¨æ£€æŸ¥"><a class="header" href="#å€Ÿç”¨æ£€æŸ¥">å€Ÿç”¨æ£€æŸ¥</a></h1>
<pre><pre class="playground"><code class="language-rust">// å€Ÿç”¨æ£€æŸ¥å™¨
// æ¯”è¾ƒä½œç”¨åŸŸä»¥ç¡®å®šæ‰€æœ‰å€Ÿç”¨æ˜¯å¦æœ‰æ•ˆ
// æ³¨é‡Šä¸º&quot;'a'&quot;çš„å˜é‡çš„å¯¿å‘½ï¼ˆå®ƒçš„å­˜æ´»æ—¶é—´ï¼‰ã€‚

// å˜é‡çš„å¯¿å‘½ä¸å®ƒçš„ä½œç”¨åŸŸæœ‰å…³
// Rustä¼šåˆ†æå˜é‡æ‰€å¼•ç”¨çš„å€¼çš„èŒƒå›´/å¯¿å‘½ã€‚

// ä½¿ç”¨å€Ÿç”¨æ£€æŸ¥å™¨
fn main() {
    let fuel; 
// ========= START lifetime ('a) of fuel ========== 
    {
        let gasoil = String::from(&quot;gasoil&quot;); 
// ===== START lifetime ('b) of gasoil ======= 
        fuel = &amp;gasoil; 
        println!(&quot;fuel is {}&quot;, fuel);
    } 
// ========= END lifetime of gasoil ================
} 
// ========= END lifetime of fuel ================
</code></pre></pre>
<p>å€Ÿç”¨æ£€æŸ¥å™¨æ£€æµ‹åˆ°çš„é”™è¯¯ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let fuel; 
// ========= START 'a ================ 
    {

        let gasoil = String::from(&quot;gasoil&quot;); 
// ===== START 'b ===== 
        fuel = &amp;gasoil; 
    } 
// ========= END 'b ================

    
// fuelå­˜å‚¨äº†ä¸€ä¸ªå€Ÿæ¥çš„å¯¹gasoilçš„å¼•ç”¨ã€‚
    
// gasoilçš„ç”Ÿå‘½å‘¨æœŸå·²ç»ç»“æŸ
    
// fuelåŒ…å«ä¸€ä¸ªæ‚¬ç©ºçš„å¼•ç”¨ï¼Œç¨‹åºå°†æ— æ³•ç¼–è¯‘ 
    println!(&quot;fuel is {}&quot;, fuel);
} 
// ========= END 'a ================
</code></pre></pre>
<p>é€šè¿‡å»¶é•¿gasoilçš„ä½¿ç”¨å¯¿å‘½æ¥ä¿®å¤å¯¿å‘½é”™è¯¯ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let fuel; 
// ========= START 'a ================ 
    let gasoil = String::from(&quot;gasoil&quot;); 
// ======= START 'b ======== 
    {
        fuel = &amp;gasoil;
    }

    println!(&quot;fuel is {}&quot;, fuel);
} 
// ========= END 'a and 'b ================

</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>fuel is gasoil
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ç”Ÿå‘½å‘¨æœŸæ³¨è§£"><a class="header" href="#ç”Ÿå‘½å‘¨æœŸæ³¨è§£">ç”Ÿå‘½å‘¨æœŸæ³¨è§£</a></h1>
<pre><pre class="playground"><code class="language-rust">// å®šä¹‰ä¸€ä¸ªé€šç”¨çš„å¯¿å‘½ 'a
// æ˜ç¡®åœ°å®šä¹‰å‚æ•°çš„é€šç”¨å¯¿å‘½
//è¢«ç§°ä¸ºç”Ÿå‘½å‘¨æœŸæ³¨è§£
// å¿…é¡»ä»¥æ’‡å·ï¼ˆ'x'ï¼‰å¼€å¤´ã€‚
//æƒ¯ä¾‹æ˜¯ä½¿ç”¨å•ä¸ªå°å†™å­—æ¯ï¼ˆ'a, 'b, 'c)
// ä½†ä½ å¯ä»¥è‡ªç”±åœ°å‘½åå®ƒï¼ˆ'a_lifetime, 'toto)
// æ³¨æ„å¯¿å‘½æ³¨é‡Š
//åœ¨å€Ÿè´·æ“ä½œç¬¦åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œç„¶åæ˜¯ç±»å‹ã€‚
// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé€šè¿‡å¯¹è¿”å›ç±»å‹çš„æ³¨è§£ã€‚
// æˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿”å›çš„å€¼ä¸å‚æ•°çš„å¯¿å‘½ç›¸åŒã€‚
// å¦‚æœæœ‰ä¸åŒçš„ç”Ÿå­˜æœŸï¼Œç¼–è¯‘å™¨å°†é€‰æ‹©æœ€å°çš„ç”Ÿå­˜æœŸã€‚
// ç¼–è¯‘å™¨å°†é€‰æ‹©æœ€å°çš„ é€šè¿‡æ³¨é‡Šå‚æ•°çš„å¯¿å‘½ï¼Œ
//æˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨è¿”å›çš„å€¼ä¸å‚æ•°çš„å¯¿å‘½ç›¸åŒã€‚
// æˆ‘ä»¬ç»™å€Ÿè´·æ£€æŸ¥å™¨æä¾›ä¿¡æ¯æ¥éªŒè¯è¿”å›çš„å¼•ç”¨ã€‚
fn get_longest_name&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}
fn main() {
    let result;
    let name1 = String::from(&quot;Deep Space 9&quot;);
    let name2 = String::from(&quot;Voyager&quot;);
    result = get_longest_name(&amp;name1, &amp;name2);
    println!(&quot;result is {}&quot;, result);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>result is Deep Space 9
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¤šç”Ÿå‘½å‘¨æœŸæ³¨è§£"><a class="header" href="#å¤šç”Ÿå‘½å‘¨æœŸæ³¨è§£">å¤šç”Ÿå‘½å‘¨æœŸæ³¨è§£</a></h1>
<pre><pre class="playground"><code class="language-rust">// æ³¨æ„è¿™é‡Œï¼Œå°½ç®¡è¿”å›ç±»å‹ä¸ä¸€ä¸ªå‚æ•°æœ‰ç›¸åŒçš„å¯¿å‘½
// æˆ‘ä»¬å¿…é¡»ä¸ºå¦ä¸€ä¸ªå‚æ•°æ³¨è§£å¦ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ
// å³ä½¿ä»æœªè¿”å›
// ä»¥é¿å…ä»»ä½•æ··æ·†
// è®°ä½ï¼Œè¿™é‡Œçš„ä»£ç å¾ˆç®€å•
// ä½†è¾“å…¥å’Œè¿”å›çš„å€¼å¯èƒ½æ¥è‡ªäºä¸€ä¸ªå·²ç¼–è¯‘çš„åº“ã€‚
// ç¼–è¯‘å™¨ä¸èƒ½æ¥è§¦åˆ°æºä»£ç ã€‚
fn get_longest_name&lt;'a, 'b&gt;(x: &amp;'a str, y: &amp;'b str) -&gt; &amp;'a str {
    if x.len() &gt; y.len() {
        x
    } else {
        x
    }
}
fn main() {
    let result;
    // START 'a
    let name1 = String::from(&quot;Deep Space 9&quot;); {
        // START 'b
        let name2 = String::from(&quot;Voyager&quot;);
        result = get_longest_name(&amp;name1, &amp;name2);
    } // END 'b
    println!(&quot;result is {}&quot;, result);
} // END 'a
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>result is Deep Space 9
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ç”Ÿå‘½å‘¨æœŸå‰¥ç¦»è§„åˆ™"><a class="header" href="#ç”Ÿå‘½å‘¨æœŸå‰¥ç¦»è§„åˆ™">ç”Ÿå‘½å‘¨æœŸå‰¥ç¦»è§„åˆ™</a></h1>
<pre><pre class="playground"><code class="language-rust">
// å¯¿å‘½æ¶ˆé™¤è§„åˆ™
// ç¼–è¯‘å™¨åˆ†æå¼•ç”¨å¯¿å‘½çš„ä¸€å¥—è§„åˆ™ã€‚

// æè¿°äº†ä¸éœ€è¦æ˜ç¡®çš„å¯¿å‘½æ³¨é‡Šçš„æƒ…å†µ
// å¦‚æœæœ‰ä»»ä½•ä¸æ˜ç¡®çš„åœ°æ–¹ï¼Œå°±éœ€è¦æ˜ç¡®çš„å¯¿å‘½æ³¨é‡Šã€‚
// ç›®å‰ï¼Œæœ‰3æ¡å¯¿å‘½æ¶ˆé™¤è§„åˆ™ã€‚
// #1

// æ¯ä¸ªä½œä¸ºå‚è€ƒçš„è¾“å…¥å‚æ•°éƒ½è¢«åˆ†é…äº†è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸ
// 
//fn get_first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;str {
// å¯¿å‘½åªé€‚ç”¨äºä½œä¸ºå¼•ç”¨çš„å‚æ•°ã€‚

// éå¼•ç”¨å‚æ•°ä¸éœ€è¦å®ƒä»¬
// fn get_first_word&lt;'a&gt;(s: &amp;'a str, t: i32) -&gt; &amp;str {
// fn get_first_word&lt;'a, 'b&gt;(s: &amp;'a str, t: &amp;'b str) -&gt; &amp;str {

// fn get_first_word&lt;'a, 'b, 'c&gt;(s: &amp;'a str, t: &amp;'b str, u: &amp;'c str) -&gt; &amp;str {
// #2

// å¦‚æœåªæœ‰ä¸€ä¸ªè¾“å…¥å¯¿å‘½ã€‚

// å°†å…¶åˆ†é…ç»™æ‰€æœ‰çš„è¾“å‡ºå¯¿å‘½

// ï¼ˆè¾“å‡ºå¯¿å‘½å¿…é¡»ä¸è¾“å…¥å¯¿å‘½ä¹‹ä¸€ç›¸åŒ¹é…ï¼‰ã€‚
//ç¬¦åˆåˆ é™¤çš„æ¡ä»¶ï¼Œå› æ­¤å¯ä»¥çœç•¥å¯¿å‘½ã€‚

// fn get_first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;'a str {

// ==&gt;``fn get_first_word(s: &amp;str) -&gt; &amp;str {
// #3

// å¦‚æœæœ‰ä¸€ä¸ª&amp;selfæˆ–&amp;mut selfè¾“å…¥å‚æ•°ã€‚

// å®ƒçš„å¯¿å‘½å°†è¢«åˆ†é…ç»™æ‰€æœ‰çš„è¾“å‡ºå¯¿å‘½
// fn do_stuff(&amp;self, input: &amp;str) -&gt; &amp;str {

// rule #1 ==&gt; fn do_stuff&lt;'a,'b&gt;(&amp;'a self, input: &amp;'b str) -&gt; &amp;str {

// rule #3 ==&gt; fn do_stuff&lt;'a,'b&gt;(&amp;'a self, input: &amp;'b str) -&gt; &amp;'a str {
// è¿™äº›åˆ é™¤è§„åˆ™æ˜¯ä¸ºç¼–è¯‘å™¨å‡†å¤‡çš„

// ä½†çŸ¥é“ä»€ä¹ˆæ—¶å€™å¯ä»¥çœç•¥å¯¿å‘½æ˜¯å¾ˆå¥½çš„ã€‚
fn main() {
    let message = String::from(&quot;Hi there&quot;);
    let first_word = get_first_word(&amp;message);
    println!(&quot;first_word is {}&quot;, first_word);
}
fn get_first_word(s: &amp;str) -&gt; &amp;str {
    let bytes = s.as_bytes(); 
    for (index, &amp;item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &amp;s[..index]; 
// æœ‰ç©ºæ ¼
        }
    } 
    &amp;s 
// æ— ç©ºæ ¼ï¼Œæ‰€ä»¥è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•è¯
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>first_word is Hi
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ç»“æ„ä½“ç”Ÿå‘½å‘¨æœŸæ³¨è§£"><a class="header" href="#ç»“æ„ä½“ç”Ÿå‘½å‘¨æœŸæ³¨è§£">ç»“æ„ä½“ç”Ÿå‘½å‘¨æœŸæ³¨è§£</a></h1>
<pre><pre class="playground"><code class="language-rust">struct Spaceship&lt;'a&gt; {
    
// è¯¥ç»“æ„æ‹¥æœ‰è¯¥å­—ç¬¦ä¸²çš„æ‰€æœ‰æƒ
    
// å½“è¯¥ç»“æ„è¶…å‡ºèŒƒå›´æ—¶ã€‚
    
// è¯¥å­—ç¬¦ä¸²æ•°æ®å°†è¢«ä¸¢å¼ƒå¹¶ä»å †ä¸­åˆ é™¤ 
    name: String, 
//è¯¥ç»“æ„å¹¶ä¸æ‹¥æœ‰è¯¥å­—æ®µæ‰€å¼•ç”¨çš„æ•°æ®
    
// å¦‚æœè¯¥ç»“æ„ä»ç„¶å¯ä»¥ä½¿ç”¨è¯¥å¼•ç”¨ï¼Œå°±ä¼šå‡ºç°æ¨¡ç³Šä¸æ¸…çš„æƒ…å†µ
    
// éœ€è¦æ·»åŠ æ˜ç¡®çš„ç”Ÿå‘½å‘¨æœŸæ³¨è§£ 
    nickname: &amp;'a str,
}
//å°†ç”Ÿå‘½æœŸæ³¨é‡Šä¸ºimplã€‚
impl&lt;'a, 'b&gt; Spaceship&lt;'a&gt; {
    
//å› ä¸ºå¯¿å‘½æ¶ˆé™¤è§„åˆ™#3ã€‚
    
// ä¸éœ€è¦æ˜ç¡®çš„ç”Ÿå‘½æœŸæ³¨è§£
    
// è¾“å‡ºçš„å¯¿å‘½å°†ä½œä¸º&amp;selfå‚æ•°çš„å¯¿å‘½ã€‚
    fn send_transmission(&amp;self, msg: &amp;str) -&gt; (&amp;str, &amp;str) {
        println!(&quot;Transmitting message: {}&quot;, msg);
        (&amp;self.name, self.nickname)
    } 
// åœ¨è¿™é‡Œï¼Œå› ä¸ºè¾“å‡ºå¯¿å‘½ä¸&amp;selfè¾“å…¥å¯¿å‘½ä¸åŒã€‚
    
// éœ€è¦æ˜ç¡®çš„å¯¿å‘½æ³¨è§£ 
    fn test_send_transmission(&amp;'a self, msg: &amp;'b str) -&gt; &amp;'b str {
        println!(&quot;Transmitting message: {}&quot;, msg);
        msg
    }
}
fn main() {
    let saucer = Spaceship {
        name: String::from(&quot;TR95 MCC Enterprise 9&quot;),
        nickname: &quot;TR95&quot;,
    }; 
    let sender = saucer.send_transmission(&quot;All aboard!&quot;);
    println!(&quot;sender is {}&quot;, sender.1); 
    let test_msg = saucer.test_send_transmission(&quot;this is a test&quot;);
    println!(&quot;test_msg is {}&quot;, test_msg);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>Transmitting message: All aboard!
sender is TR95
Transmitting message: this is a test
test_msg is this is a test
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="é™æ€ç”Ÿå‘½å‘¨æœŸ"><a class="header" href="#é™æ€ç”Ÿå‘½å‘¨æœŸ">é™æ€ç”Ÿå‘½å‘¨æœŸ</a></h1>
<pre><pre class="playground"><code class="language-rust">// 'é™æ€å¯¿å‘½
// è¡¨ç¤ºåœ¨ç¨‹åºçš„æ•´ä¸ªæŒç»­æ—¶é—´å†…éƒ½å¯ä»¥å¼•ç”¨ã€‚
// ä¾‹å¦‚ï¼šä¸€ä¸ªå­—ç¬¦ä¸²å­—å¤´è¢«å­˜å‚¨åœ¨ç¨‹åºçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚
// æ‰€ä»¥å®ƒæ°¸è¿œä¸ä¼šæ¶ˆå¤±
// æ•°æ®ä»å¼€å§‹åˆ°ç»“æŸéƒ½æ˜¯å¯ç”¨çš„
// æ‰€æœ‰çš„å­—ç¬¦ä¸²å­—å¤´éƒ½æœ‰ä¸€ä¸ªé™æ€å¯¿å‘½ã€‚
// let literal: &amp;'static str = &quot;I am a string slice&quot;;
// å°†æ°¸è¿œä¸ä¼šå¤±æ•ˆï¼Œå¹¶ä¸”æ¯”å…¶ä»–å¯¿å‘½é•¿ã€‚
// 'é™æ€å¯¿å‘½æ˜¯ä¸€ä¸ªç‰¹æ€§çš„çº¦æŸ
// ç¡®ä¿æ•°æ®ç±»å‹åªåŒ…å« &quot;é™æ€å…ƒç´ &quot;ã€‚
// è¿™æ ·ï¼Œæ¥æ”¶è€…å°±å¯ä»¥æŠ“ä½å®ƒ
// å¹¶ä¸€ç›´ä½¿ç”¨å®ƒï¼Œå› ä¸ºä»–ä»¬çŸ¥é“å®ƒå°†æ°¸è¿œä¸ä¼šå¤±æ•ˆã€‚
// &lt;T: Display + 'static&gt;
fn get_toto&lt;'a&gt;() -&gt; &amp;'a str {
    &quot;toto here&quot;
}
fn main() {
  let toto: &amp;'static str = get_toto();
  println!(&quot;toto is {}&quot;, toto);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>toto is toto here
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ›´å¤šæšä¸¾å€¼"><a class="header" href="#æ›´å¤šæšä¸¾å€¼">æ›´å¤šæšä¸¾å€¼</a></h1>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
enum Shape {
    //ç”¨æšä¸¾å­˜å‚¨æ•°æ®ï¼Œå®šä¹‰å‚æ•°æ•°æ®ç±»å‹
    Triangle(f64, f64, f64), 
// è¾¹ a, b, c
    Rectangle(f64, f64),     
// é•¿, å®½
    Circle(f64),             
// åŠå¾„
}
fn main() {
    let a_shape = Shape::Triangle(1.1, 2.2, 3.3);
    println!(&quot;a_shape is {:?}&quot;, a_shape); 
    let a_shape = Shape::Rectangle(1.3, 5.7);
    println!(&quot;a_shape is {:?}&quot;, a_shape);
    let a_shape = Shape::Circle(1.13);
    println!(&quot;a_shape is {:?}&quot;, a_shape); 
// åŒ¹é…è¿ç®—ç¬¦
    
// å°†ä¸€ä¸ªå€¼ä¸ä¸€ç³»åˆ—æ¨¡å¼è¿›è¡Œæ¯”è¾ƒ
    
// æ¥å†³å®šæ‰§è¡Œå“ªæ®µä»£ç 
    
// ä¸å…¶ä»–è¯­è¨€ä¸­çš„switchè¯­å¥ç›¸ä¼¼ 
// åŒ¹é…è¡¨è¾¾å¼ç”¨äºæ§åˆ¶ç¨‹åºçš„æµç¨‹ 
    match a_shape {
        
// æšä¸¾æ‰€æœ‰å¯èƒ½çš„å€¼ 
// æ•è·å­˜å‚¨çš„æ•°æ®
        
// ä½¿ç”¨ä¸€ä¸ªä½ç½®å‚æ•°åï¼ˆa, b, cï¼‰ã€‚
        
//å½“åŒ¹é…æ—¶è¦æ‰§è¡Œçš„é€»è¾‘æ˜¯åœ¨&quot;=&gt;&quot;ä¹‹åã€‚
        Shape::Triangle(a, b, c) =&gt; println!(
            &quot;a_shape is a triangle with sides a = {}, b = {}, c = {}&quot;,
            a, b, c
        ),
        Shape::Rectangle(width, height) =&gt; println!(
            &quot;a_shape is a rectangle with width = {} and height = {}&quot;,
            width, height
        ),
        Shape::Circle(radius) =&gt; println!(&quot;a_shape is a circle with radius {}&quot;, radius),
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>a_shape is Triangle(1.1, 2.2, 3.3)
a_shape is Rectangle(1.3, 5.7)
a_shape is Circle(1.13)
a_shape is a circle with radius 1.13
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æ‰©å±•åŒ¹é…æ¨¡å¼"><a class="header" href="#æ‰©å±•åŒ¹é…æ¨¡å¼">æ‰©å±•åŒ¹é…æ¨¡å¼</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let number = 123u8; 
    // åŒ¹é…è¡¨è¾¾å¼æ ¹æ®æƒ…å†µè¿”å›æ•°å€¼
    // åŒ¹é…è‡‚ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡è¯„ä¼° 
    let result: &amp;str = match number {
        // åŒ¹é…è‡‚
        0 =&gt; &quot;zero&quot;, 
        // åŒ¹é…è‡‚
        1 =&gt; &quot;one&quot;, 
        // åŒ¹é…è‡‚
        2 =&gt; &quot;two&quot;, 
        // é€šé…ç¬¦æ¨¡å¼(é»˜è®¤æƒ…å†µä¸‹)
        // ç”¨ä¸‹åˆ’çº¿ç¬¦å·ï¼ˆ_ï¼‰è¡¨ç¤º
        // åº”è¯¥æœ€åä½¿ç”¨ã€‚
        // å¦åˆ™ï¼Œå°†ä¸ä¼šå¯¹ä¸‹é¢çš„éƒ¨åˆ†è¿›è¡Œè¯„ä¼°ã€‚
        // å½“ä½ ä¸æƒ³æ˜ç¡®åœ°å®šä¹‰æ‰€æœ‰å¯èƒ½çš„åŒ¹é…è‡‚æ—¶ï¼Œè¿™ä¸€ç‚¹å¾ˆæœ‰ç”¨ã€‚
        // ï¼ˆæˆ–è€…ä»…ä»…æ˜¯å› ä¸ºå­˜åœ¨å¤§é‡æˆ–æ— é™çš„å¯èƒ½æ€§ï¼‰ã€‚
        // æ³¨æ„ä»£ç å—ï¼Œå½“è¶…è¿‡ä¸€è¡Œçš„æ—¶å€™ 
        _ =&gt; {
            println!(&quot;{} did not match any arm&quot;, number);
            &quot;unmatched&quot;
        }
    }; 
    println!(&quot;result is {}&quot;, result);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
123 did not match any arm
result is unmatched
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æšä¸¾æ–¹æ³•"><a class="header" href="#æšä¸¾æ–¹æ³•">æšä¸¾æ–¹æ³•</a></h1>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
enum Shape {
    Triangle(f64, f64, f64), // è¾¹ a, b, c
    Rectangle(f64, f64),     // å®½, é«˜
    Circle(f64),             // åŠå¾„
}
impl Shape {
    fn get_perimeter(&amp;self) -&gt; f64 {
        // ä¸éœ€è¦è§£é™¤å¯¹è‡ªå˜é‡çš„å¼•ç”¨
        // ç¼–è¯‘å™¨å°†è‡ªåŠ¨å¼•ç”¨/è§£é™¤å¼•ç”¨åŒ¹é…è¡¨è¾¾å¼ä¸­çš„æ¨¡å¼
        // match *self { 
        match self {
            Shape::Rectangle(width, height) =&gt; (width + height) * 2.0,
            Shape::Triangle(a, b, c) =&gt; a + b + c,
            Shape::Circle(radius) =&gt; radius * 2.0 * std::f64::consts::PI,
        }
    }
}
fn main() {
    let a_shape = Shape::Triangle(1.1, 2.2, 3.3);
    println!(&quot;a_shape is {:?}&quot;, a_shape);
    println!(&quot;a_shape perimeter is {}&quot;, a_shape.get_perimeter()); 
    let a_shape = Shape::Rectangle(1.3, 5.7);
    println!(&quot;a_shape is {:?}&quot;, a_shape);
    println!(&quot;a_shape perimeter is {}&quot;, a_shape.get_perimeter()); 
    let a_shape = Shape::Circle(1.13);
    println!(&quot;a_shape is {:?}&quot;, a_shape);
    println!(&quot;a_shape perimeter is {:.2}&quot;, a_shape.get_perimeter());
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
a_shape is Triangle(1.1, 2.2, 3.3)
a_shape perimeter is 6.6
a_shape is Rectangle(1.3, 5.7)
a_shape perimeter is 14
a_shape is Circle(1.13)
a_shape perimeter is 7.10
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¯é€‰æšä¸¾"><a class="header" href="#å¯é€‰æšä¸¾">å¯é€‰æšä¸¾</a></h1>
<pre><pre class="playground"><code class="language-rust">// åœ¨è®¸å¤šè¯­è¨€ä¸­ã€‚
// å½“åœ¨éç©ºå€¼çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ç©ºå€¼æ—¶ï¼Œä¼šå‘ç”Ÿé”™è¯¯ã€‚
// Rustæ²¡æœ‰ä¸€ä¸ªä¼ ç»Ÿçš„ç©ºå€¼
// ç›¸åï¼ŒRustä½¿ç”¨ä¸€ä¸ªåä¸ºOptionçš„é€šç”¨æšä¸¾ã€‚
// çš„é€šç”¨æšä¸¾ï¼Œå®ƒå¯ä»¥æœ‰ä¸¤ç§å˜ä½“ã€‚
// æšä¸¾Option&lt;T&gt; {
// Some(T)ã€‚
// None
// }
// 1) Some: è¡¨ç¤ºæœ‰ä¸€ä¸ªå€¼
// 2) None : è¡¨ç¤ºæ²¡æœ‰å€¼
// Optionæšä¸¾è¢«åŒ…å«åœ¨å‰ç¼€ä¸­
fn main() {
    // å®ä¾‹åŒ–ä¸€ä¸ªé€‰é¡¹æšä¸¾
    let someone: Option&lt;i32&gt; = Some(1);
    println!(&quot;someone is {:?}&quot;, someone);
     let something: Option&lt;&amp;str&gt; = Some(&quot;thing&quot;);
    println!(&quot;something is {:?}&quot;, something); 
    let nothing: Option&lt;i32&gt; = None;
    println!(&quot;nothing is {:?}&quot;, nothing); 
    let countdown = [5, 4, 3, 2, 1]; 
    //åœ¨åˆ‡ç‰‡ä¸Šä½¿ç”¨get()æ¥è·å–ä¸€ä¸ªé€‰é¡¹æšä¸¾ã€‚
    // å¯¹æŒ‡å®šç´¢å¼•å¤„çš„å€¼çš„ä¸€ä¸ªå¼•ç”¨
    let item = countdown.get(5);
    println!(&quot;item is {:?}&quot;, item); 
    let item = countdown.get(0);
    println!(&quot;item is {:?}&quot;, item);
     let item = countdown.get(2);
    let item = item.unwrap_or(&amp;0) + 1;
    println!(&quot;item is {:?}&quot;, item); 
    let item = countdown.get(20); 
    // unwrap_or(&amp;default_value)ã€‚
    // å¦‚æœå˜é‡æ˜¯Option::Someï¼Œè¿”å›å­˜å‚¨çš„æ•°æ®
    // å¦‚æœå˜é‡æ˜¯Option::Noneï¼Œåˆ™ä½¿ç”¨ä¼ é€’çš„å‚æ•°ã€‚
    // æ³¨æ„ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå¼•ç”¨ 
    let item = item.unwrap_or(&amp;0) + 1;
    println!(&quot;item is {:?}&quot;, item);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>someone is Some(1)
something is Some(&quot;thing&quot;)
nothing is None
item is None
item is Some(5)
item is 4
item is 1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åŒ¹é…é€‰é¡¹"><a class="header" href="#åŒ¹é…é€‰é¡¹">åŒ¹é…é€‰é¡¹</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let countdown = [5, 4, 3, 2, 1]; 
    let item = countdown.get(5);
    println!(&quot;item is {:?}&quot;, item); 
    let item = countdown.get(0);
    println!(&quot;item is {:?}&quot;, item); 
    let item = countdown.get(3); 
    // ä½¿ç”¨åŒ¹é…è¡¨è¾¾å¼æ¥è¿”å›å€¼
    let item = match item {
        Some(value) =&gt; value + 1,
        None =&gt; 0,
    };
    println!(&quot;item is {:?}&quot;, item); 
    let item = countdown.get(20);
    let item = match item {
        Some(value) =&gt; value + 1,
        None =&gt; 0,
    };
    println!(&quot;item is {:?}&quot;, item);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
item is None
item is Some(5)
item is 3
item is 0
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="if-let-åŒ¹é…"><a class="header" href="#if-let-åŒ¹é…">if let åŒ¹é…</a></h1>
<pre><pre class="playground"><code class="language-rust"> 
// if let æ ¼å¼
// ç”¨äºåªåŒ¹é…ä¸€ä¸ªå€¼
fn main() {
    let number = Some(1); 
// æ³¨æ„è¿™ä¸ªå†™æ³•ï¼š
    
// if let PATTERN = VALUE {} 
    if let Some(1) = number {
        println!(&quot;You are the one&quot;);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
You are the one
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å®šä½æšä¸¾"><a class="header" href="#å®šä½æšä¸¾">å®šä½æšä¸¾</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::fmt;
enum Location {
    Unknown,
    Anonymous,
    Known(f64, f64), 
    // çº¬åº¦ã€ç»åº¦
}
impl fmt::Display for Location {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;'_&gt;) -&gt; fmt::Result {
        match self {
            Location::Anonymous =&gt; write!(f, &quot;Location is anonymous&quot;),
            Location::Unknown =&gt; write!(f, &quot;Location is unknown&quot;),
            Location::Known(latitude, longitude) =&gt; {
                write!(f, &quot;latitude: {} longitude: {}&quot;, latitude, longitude)
            }
        }
    }
}
fn main() {
    let address = Location::Anonymous;
    println!(&quot;address is {}&quot;, address);
    let address = Location::Unknown;
    println!(&quot;address is {}&quot;, address);
    let address = Location::Known(123.4, 456.7);
    println!(&quot;address is {}&quot;, address);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
address is Location is anonymous
address is Location is unknown
address is latitude: 123.4 longitude: 456.7
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ä¸èƒ½æ¢å¤çš„é”™è¯¯"><a class="header" href="#ä¸èƒ½æ¢å¤çš„é”™è¯¯">ä¸èƒ½æ¢å¤çš„é”™è¯¯</a></h1>
<pre><pre class="playground"><code class="language-rust">// Rustä¸­çš„ä¸¤ç±»è¿è¡Œæ—¶é”™è¯¯
// å¯æ¢å¤çš„ï¼ˆä¾‹å¦‚ï¼šæœªæ‰¾åˆ°æ–‡ä»¶é”™è¯¯ï¼‰ã€‚
// ä¸å¯æ¢å¤çš„ï¼ˆä¾‹å¦‚ï¼šç´¢å¼•è¶…å‡ºäº†æ•°ç»„çš„ç•Œé™ï¼‰ã€‚
// å¤§å¤šæ•°è¯­è¨€å¯¹è¿™äº›é”™è¯¯ä¸åŠ åŒºåˆ†
// å¹¶ä½¿ç”¨å¼‚å¸¸æ¥å¤„ç†æ‰€æœ‰è¿™äº›é”™è¯¯
// Rustæ²¡æœ‰ä¼ ç»Ÿçš„Exceptionsã€‚
// Rustä½¿ç”¨Result&lt;T, E&gt;æšä¸¾ç±»å‹æ¥å¤„ç†å¯æ¢å¤é”™è¯¯ã€‚
// Rustä½¿ç”¨panicsæ¥å¤„ç†ä¸å¯æ¢å¤çš„é”™è¯¯ã€‚
fn main() {
    // panic! å®
    // ç«‹å³ç»ˆæ­¢ç¨‹åº
    // å¹¶å‘ç¨‹åºçš„è°ƒç”¨è€…æä¾›åé¦ˆ 
    // panic!(&quot;Something went wrong.&quot;); 
    let countdown: [i32; 4] = [3, 2, 1, 0];
    for left in countdown.iter() {
        println!(&quot;T-minus {}&quot;, left); 
         // å½“é™¤å€¼ä¸ºé›¶æ—¶ï¼Œç¨‹åºä¼španic q = 1 / left;
        println!(&quot;q is {}&quot;, q);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
T-minus 3
q is 0
T-minus 2
q is 0
T-minus 1
q is 1
T-minus 0
thread 'main' panicked at 'attempt to divide by zero', /home/&lt;USER&gt;/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/arith.rs:474:1
</code></pre>
<p>æ³¨æ„ï¼šä½¿ç”¨<code>RUST_BACKTRACE=1</code>ç¯å¢ƒå˜é‡è¿è¡Œï¼Œä»¥æ˜¾ç¤ºå›æº¯ã€‚</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å¯æ¢å¤çš„é”™è¯¯"><a class="header" href="#å¯æ¢å¤çš„é”™è¯¯">å¯æ¢å¤çš„é”™è¯¯</a></h1>
<pre><pre class="playground"><code class="language-rust">// å¯æ¢å¤çš„é”™è¯¯
// ä¸ä¼šå¯¼è‡´ç¨‹åºå¤±è´¥çš„é”™è¯¯
// å¹¶ä¸”å¯ä»¥è¢«çº æ­£çš„é”™è¯¯
// Rustä½¿ç”¨Result&lt;T,E&gt;æšä¸¾ç±»å‹æ¥å¤„ç†å¯æ¢å¤é”™è¯¯
// enum Result&lt;T, E&gt; {
// Ok(T),
// Err(E),
// }
// Okå˜é‡å­˜å‚¨çš„æ˜¯æˆåŠŸæ“ä½œçš„å€¼
// Errå˜ä½“å­˜å‚¨é”™è¯¯çš„å€¼
// ç»“æœæšä¸¾è¢«åŒ…å«åœ¨å‰å¥ä¸­ï¼Œä½¿ç”¨std::fs;
use std::io;
fn main() {
    // read_to_string() è¿”å›ä¸€ä¸ª Result&lt;T, E&gt; æšä¸¾ã€‚
    // åœ¨é¡¹ç›®æ–‡ä»¶å¤¹çš„æ ¹éƒ¨åˆ›å»ºä¸€ä¸ªåä¸ºfile.txtçš„æ–‡ä»¶ã€‚
    // $ echo 42 &gt; file.txt 
    let content: Result&lt;String, io::Error&gt; = fs::read_to_string(&quot;file.txt&quot;)ã€‚
    // é¿å…ä½¿ç”¨unwrap()æ–¹æ³•
    // å› ä¸ºå¦‚æœè¿™æ˜¯ Result æšä¸¾çš„ Err å˜ä½“ï¼Œä¼šå¼•èµ·panic 
    println!(&quot;content is {:?}&quot;, content.unwrap() )ã€‚
    // å¯¹äºè‡ªå®šä¹‰çš„é”™è¯¯ä¿¡æ¯ï¼Œä½¿ç”¨ expect()
    // è¿™ä¸æ˜¯å¤„ç†å¯æ¢å¤é”™è¯¯çš„æœ€å¥½æ–¹æ³•ã€‚
    let content: Result&lt;String, io::Error&gt; = fs::read_to_string(&quot;file-x.txt&quot;); 
    println!(&quot;content is {:?}&quot;, content.expect(&quot;failed reading file&quot;));
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
content is &quot;42\n&quot;
thread 'main' panicked at 'failed reading file: Os { code: 2, kind: NotFound, message: &quot;No such file or directory&quot; }', src/main.rs:35:41
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="åŒ¹é…resultteæšä¸¾é”™è¯¯å¤„ç†"><a class="header" href="#åŒ¹é…resultteæšä¸¾é”™è¯¯å¤„ç†">åŒ¹é…Result&lt;T,E&gt;æšä¸¾é”™è¯¯å¤„ç†</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::fs;
use std::io;
fn main() {
    let result = fs::read_to_string(&quot;does-not-exist.txt&quot;); 
    let content = match result {
        Ok(text) =&gt; text,  
        //æ ¹æ®ç±»å‹ï¼Œå¤„ç† I/O é”™è¯¯
        Err(error) =&gt; match error.kind() {
            io::ErrorKind::NotFound =&gt; String::from(&quot;File not found&quot;), 
            io::ErrorKind::PermissionDenied =&gt; {
              String::from(&quot;Permission denied&quot;)
            }, 
            _ =&gt; error.to_string(),
        },
    }; 
    println!(&quot;content is \&quot;{}\&quot;&quot;, content);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>content is &quot;File not found&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ä¼ æ’­çš„é”™è¯¯"><a class="header" href="#ä¼ æ’­çš„é”™è¯¯">ä¼ æ’­çš„é”™è¯¯</a></h1>
<pre><pre class="playground"><code class="language-rust">use std::fs;
use std::io;
fn read_and_combine(f1: &amp;str, f2: &amp;str) -&gt; Result&lt;String, io::Error&gt; {
    let mut s1 = match fs::read_to_string(f1) {
        Ok(s) =&gt; s,
        //å°†é”™è¯¯ä¼ æ’­ç»™è°ƒç”¨è€…
        Err(e) =&gt; return Err(e),
    }; 
    // Rustæä¾›äº†ä¸€ç§ç”¨äºä¼ æ’­é”™è¯¯çš„é€Ÿè®°è¯­æ³•
    // ç§»é™¤åŒ¹é…è¡¨è¾¾å¼
    // å¹¶åœ¨ç»“æœæšä¸¾åé¢åŠ ä¸Šä¸€ä¸ªé—®å·ï¼ˆ?ï¼‰ã€‚
    // è¿™ç­‰åŒäºä¸Šé¢çš„è¯­æ³•
    //&quot;ï¼Ÿ&quot;åªèƒ½ç”¨äºè¿”å›ç»“æœæšä¸¾çš„å‡½æ•°ã€‚
    let s2 = fs::read_to_string(f2)?; 
    s1.push('\n');
    s1.push_str(&amp;s2);
    Ok(s1)
}
fn main() {
    match read_and_combine(&quot;file1.txt&quot;, &quot;file2.txt&quot;) {
        Ok(text_result) =&gt; println!(&quot;result is:\n{}&quot;, text_result),
        Err(e) =&gt; println!(&quot;Got error: {}&quot;, e),
    };
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
Got error: No such file or directory (os error 2)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="çŒœæ•°æ¸¸æˆé”™è¯¯å¤„ç†é‡æ„"><a class="header" href="#çŒœæ•°æ¸¸æˆé”™è¯¯å¤„ç†é‡æ„">çŒœæ•°æ¸¸æˆé”™è¯¯å¤„ç†é‡æ„</a></h1>
<pre><pre class="playground"><code class="language-rust">use rand::prelude::*;
use std::io;
fn main() {
    guess_with_infinite_retry();
}
fn guess_with_infinite_retry() {
    let secret_number = thread_rng().gen_range(1..101);
    let mut invalid_numberretry_limit = 0;
    println!(&quot;Guess a number between 1 and 100:&quot;); 
    loop {
        let mut buffer = String::new();
        let guess = match io::stdin().read_line(&amp;mut buffer) {
            Ok(_) =&gt; match buffer.trim().parse::&lt;u32&gt;() {
                Ok(number) =&gt; number,
                Err(e) =&gt; {
                    invalid_numberretry_limit += 1;
                    if invalid_numberretry_limit == 3 {
                        panic!(&quot;Too many invalid numbers entered&quot;);
                    } println!(&quot;Failed to parse guess: {}&quot;, e);
                    println!(&quot;Please enter a valid number:&quot;);
                    continue;
                }
            },
            Err(e) =&gt; {
                println!(&quot;Failed to read line: {}&quot;, e);
                continue;
            }
        }; 
        if guess &lt; secret_number {
            println!(&quot;guess too low, guess higher:&quot;);
        } else if guess &gt; secret_number {
            println!(&quot;guess too high, guess lower:&quot;);
        } else {
            println!(&quot;you found it!&quot;);
            break;
        }
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>
Guess a number between 1 and 100:Failed to parse guess: cannot parse integer from empty string
Please enter a valid number:Failed to parse guess: cannot parse integer from empty string
Please enter a valid number:thread 'main' panicked at 'Too many invalid numbers entered', src/main.rs:19:25
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>æˆ–è€…</p>
<pre><code>
Guess a number between 1 and 100:
44
guess too low, guess higher:
77
guess too low, guess higher:
99
guess too high, guess lower:
88
guess too high, guess lower:
80
you found it!
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="çŸ¢é‡é”™è¯¯å¤„ç†"><a class="header" href="#çŸ¢é‡é”™è¯¯å¤„ç†">çŸ¢é‡é”™è¯¯å¤„ç†</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main() {
    
    // æ–°å»ºä¸€ä¸ªç©ºå‘é‡
    let mut presidents: Vec&lt;String&gt; = Vec::new(); 
    presidents.push(String::from(&quot;Chirac&quot;));
    presidents.push(String::from(&quot;Sarkozy&quot;));
    presidents.push(String::from(&quot;Hollande&quot;));
    presidents.push(String::from(&quot;Macron&quot;)); 
    println!(&quot;presidents are {:?}&quot;, presidents); 
    let last = match presidents.pop() {
        Some(president) =&gt; president,
        None =&gt; &quot;not found&quot;.to_string(),
    }; 
    println!(&quot;last is {}&quot;, last);
     let fourth = match presidents.get(3) {
        Some(president) =&gt; president,
        None =&gt; &quot;not found&quot;,
    };
    println!(&quot;fourth president is {}&quot;, fourth); 
    // åŸºäº vec![] å®å»ºç«‹ä¸€ä¸ªæ–°å‘é‡ 
    let countdown = vec![4, 3, 2, 1];
    println!(&quot;countdown is {:?}&quot;, countdown);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>presidents are [&quot;Chirac&quot;, &quot;Sarkozy&quot;, &quot;Hollande&quot;, &quot;Macron&quot;]
last is Macron
fourth president is not found
countdown is [4, 3, 2, 1]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å“ˆå¸Œè¡¨æ•°æ®ç±»å‹"><a class="header" href="#å“ˆå¸Œè¡¨æ•°æ®ç±»å‹">å“ˆå¸Œè¡¨æ•°æ®ç±»å‹</a></h1>
<pre><pre class="playground"><code class="language-rust">// ä¿å­˜æ•°æ®ä¸º é”®å€¼å¯¹ æ ¼å¼
// æ ¹æ®keyï¼Œå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å€¼
// é”® -&gt; å€¼ å•å‘æ˜ å°„
// Rust ç”¨ä¸€ä¸ªhashæ–¹æ³•æ£€æµ‹å¦‚ä½•å­˜å‚¨æ•°æ®
// é”®ï¼Œå€¼å¯ä»¥æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹
// æ‰€æœ‰çš„é”®å¿…é¡»æ˜¯ä¸€æ ·çš„æ•°æ®ç±»å‹
// æ‰€æœ‰çš„å€¼å¿…é¡»æ˜¯åŒæ ·çš„æ•°æ®ç±»å‹
// æ¯ä¸ªé”®åªæœ‰ä¸€ä¸ªå€¼
//ä½ éœ€è¦å¯¼å…¥ä¸€ä¸ªç±»å‹ï¼Œæ›´æ–° å“ˆå¸Œè¡¨çš„æ—¶å€™:
// #1. è¦†å†™å·²æœ‰çš„é”®å€¼å¯¹
// #2. æ’å…¥ä¸€ä¸ªæ–°çš„å€¼ï¼Œå½“é”®å€¼å¯¹ä¸å­˜åœ¨çš„æ—¶å€™
// #3. ä¿®æ”¹å·²æœ‰çš„å€¼ï¼ŒåŸºäºå®ƒå½“å‰çš„å€¼
use std::collections::HashMap;
fn main() {
    let mut missions = HashMap::new(); 
    missions.insert(&quot;Toto&quot;, 23);
     // HashMap&lt;&amp;str, i32&gt;
    missions.insert(&quot;Toto&quot;, 33); 
    // #1 update missions.insert(&quot;Titi&quot;, 45);
    missions.insert(&quot;Tata&quot;, 67); missions.entry(&quot;Tutu&quot;).or_insert(77); 
    // #2 update 
    // #3 update 
    let tyty = missions.entry(&quot;Titi&quot;).or_insert(0);
    *tyty += 1; 
    println!(&quot;missions is {:?}&quot;, missions.clone()); 
    let toto_missions = match missions.get(&quot;Toto&quot;) {
        Some(value) =&gt; value,
        None =&gt; &amp;0,
    }; 
    println!(&quot;Toto_missions is {}&quot;, toto_missions);
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code>missions is {&quot;Tata&quot;: 67, &quot;Titi&quot;: 46, &quot;Toto&quot;: 33, &quot;Tutu&quot;: 77}
Toto_missions is 33
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="å­—æ•°ç»Ÿè®¡"><a class="header" href="#å­—æ•°ç»Ÿè®¡">å­—æ•°ç»Ÿè®¡</a></h1>
<p>åˆ›å»ºä¸€ä¸ªåä¸º &quot;lorem.txt &quot;çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ã€‚</p>
<pre><code class="language-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis porta velit quis mattis bibendum. Fusce sed nulla eget arcu lacinia placerat ac eget dui. Nam a ante tellus. Aliquam varius tincidunt nisi a efficitur. Donec non malesuada odio. Donec vitae arcu eu magna efficitur pulvinar. Proin feugiat, erat et congue aliquet, ipsum turpis volutpat ante, a ullamcorper magna elit nec libero. Maecenas lacus magna, gravida id tristique at, lobortis sit amet libero.Donec vel nunc ac sapien tempus vehicula. Aenean vulputate quam eget felis elementum suscipit. Aliquam vehicula odio dui, id varius lectus gravida consequat. Maecenas sit amet dolor erat. Duis rhoncus mollis nulla. Etiam pellentesque arcu sed pretium fermentum. Phasellus metus velit, dapibus eu pellentesque eu, pulvinar eu nunc. In posuere massa non elementum varius. Donec et vehicula urna, id dignissim ex.Nunc vitae sem volutpat, malesuada odio vel, ornare arcu. Nunc dictum tincidunt turpis, sed tristique tellus hendrerit at. In ac tempor lacus. Pellentesque tempus velit eu pharetra consectetur. Integer ultricies sem sem, a tincidunt urna tempus quis. Nullam porttitor turpis ut lacus mollis dignissim nec vel ipsum. Integer volutpat quam et enim pellentesque, ut imperdiet nibh faucibus. Vestibulum varius, libero eget porta congue, enim risus porttitor lacus, at pretium mauris ligula sit amet ligula.Donec at pharetra elit. Sed nulla dui, consectetur sollicitudin magna a, consequat maximus erat. Maecenas ultricies libero orci, a cursus justo blandit non. Vivamus non fringilla ante. In cursus finibus elit quis cursus. Maecenas at arcu id ex consectetur eleifend. Aenean nec purus eget odio commodo ullamcorper. Integer maximus quis turpis id finibus. Etiam mi nunc, fringilla eget diam non, gravida blandit nisl. Curabitur finibus bibendum consequat. Nunc eleifend aliquam risus a iaculis.Nullam id lacus sem. Suspendisse a nunc facilisis, rutrum purus aliquet, pulvinar libero. Etiam ornare, enim at egestas varius, mi justo feugiat purus, eget congue nisi nibh vitae mauris. Integer malesuada, diam et placerat mollis, purus nulla molestie lacus, in egestas nisl lacus et odio. Fusce feugiat odio eget justo lacinia placerat. In rutrum et quam sed gravida. Vivamus vel blandit metus, sed imperdiet turpis. Sed facilisis ipsum ipsum, egestas mattis dolor tempus at. Morbi eu scelerisque ante.
</code></pre>
<p>æºä»£ç </p>
<pre><pre class="playground"><code class="language-rust">use std::collections::HashMap;
use std::env;
use std::fmt;
use std::fs;#[derive(Debug)]
struct MostCommonWord {
    value: String,
    occurrence: u32,
}impl fmt::Display for MostCommonWord {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;'_&gt;) -&gt; fmt::Result {
        write!(
            f,
            &quot;\&quot;{}\&quot; is the most common word with {} occurrences&quot;,
            self.value, self.occurrence
        )
    }
}
impl MostCommonWord {
    fn new(value: &amp;str, occurrence: u32) -&gt; MostCommonWord {
        MostCommonWord {
            value: value.to_string(),
            occurrence,
        }
    }
}
fn main() {
    if env::args().len() != 2 {
        println!(&quot;this program requires one argument&quot;);
        return;
    } 
    let filepath = match env::args().nth(1) {
        Some(text) =&gt; text,
        None =&gt; panic!(&quot;Failed to get file path&quot;),
    }; 
    println!(&quot;filepath is {}&quot;, filepath);
      let file_content = match fs::read_to_string(filepath) {
        Ok(content) =&gt; content,
        Err(e) =&gt; panic!(&quot;Err: {}&quot;, e),
    }; 
    println!(&quot;file_content is:\n {}&quot;, file_content);
    let mut word_count: HashMap&lt;String, u32&gt; = HashMap::new();
    for word in file_content.split_whitespace() {
        let lowercase_word = word.to_lowercase(); 
        match word_count.get(&amp;lowercase_word) {
            Some(count) =&gt; {
                let increment = *count + 1;
                word_count.insert(lowercase_word, increment);
            }
            None =&gt; {
                word_count.insert(lowercase_word, 1);
            }
        };
    }
    let mut most_common = MostCommonWord::new(&quot;&quot;, 0);
    let mut most_common_words = vec![]; 
    for (word, count) in &amp;word_count {
        if most_common.occurrence &lt; *count {
            most_common.value = word.to_string();
            most_common.occurrence = *count;
        }
    } 
    most_common_words.push(most_common);
    for (word, count) in &amp;word_count {
        if most_common_words[0].value != word.to_string()
            &amp;&amp; most_common_words[0].occurrence == *count
        {
            let other_most_common = MostCommonWord::new(word, *count);
            most_common_words.push(other_most_common);
        }
    }
    if most_common_words.len() &gt; 1 {
        println!(&quot;The most common words in the text are;&quot;);
        for most_common in most_common_words {
            println!(
                &quot;\&quot;{}\&quot; with {} occurrences&quot;,
                most_common.value, most_common.occurrence
            );
        }
    } else if most_common_words.len() == 1 {
        println!(&quot;{}&quot;, most_common_words[0]);
    }
}
</code></pre></pre>
<p>è¾“å‡º</p>
<pre><code class="language-bash">$ cargo run lorem.txt
&quot;eget&quot; is the most common word with 8 occurrences
</code></pre>
<p>æ›¿ä»£å®ç°</p>
<pre><pre class="playground"><code class="language-rust">use std::env;
use std::fs;
use std::collections::HashMap;fn main() {
    // è¯»å–æ–‡ä»¶å¹¶å»ºç«‹å•ä¸ªå•è¯çš„å‘é‡
    let contents = match env::args().nth(1) {
        Some(f) =&gt; match fs::read_to_string(f) {
            Ok(s) =&gt; s.to_lowercase(),
            Err(e) =&gt; {
                eprintln!(&quot;Could not read file: {}&quot;, e);
                std::process::exit(1);
            }
        },
        None =&gt; {
            eprintln!(&quot;Program requires an argument: &lt;file path&gt;&quot;);
            std::process::exit(2);
        }
    }; 
    let all_words = contents.split_whitespace().collect::&lt;Vec&lt;&amp;str&gt;&gt;(); 
    // è®¡ç®—æ¯ä¸ªç‹¬ç‰¹çš„è¯å‡ºç°äº†å¤šå°‘æ¬¡ 
    let mut word_counts: HashMap&lt;&amp;str, u32&gt; = HashMap::new(); 
    for word in all_words.iter() {
        *word_counts.entry(word).or_insert(1) += 1;
    }

    // ç¡®å®šæœ€å¸¸ä½¿ç”¨çš„å•è¯
     let mut top_count = 0u32; 
     let mut top_words: Vec&lt;&amp;str&gt; = Vec::new(); 
     for (&amp;key, &amp;val) in word_counts.iter() {
        if val &gt; top_count {
            top_count = val;
            top_words.clear();
            top_words.push(key);
        } else if val == top_count {
            top_words.push(key);
        }
    } 
    // æ˜¾ç¤ºç»“æœ
    println!(&quot;Top word(s) occurred {} times:&quot;, top_count);
    for word in top_words.iter() {
        println!(&quot;{}&quot;, word);
    }
}
</code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
